+function(c){var b=function(f,d){var e=this.$el=c(f);this.options=d||{};this.arrowSize=15;this.docClickHandler=null;this.show()};b.prototype.hide=function(){var d=c.Event("hiding.oc.popover",{relatedTarget:this.$el});this.$el.trigger(d,this);if(d.isDefaultPrevented()){return}this.$container.removeClass("in");if(this.$overlay){this.$overlay.removeClass("in")}this.disposeControls();c.support.transition&&this.$container.hasClass("fade")?this.$container.one(c.support.transition.end,c.proxy(this.hidePopover,this)).emulateTransitionEnd(300):this.hidePopover()};b.prototype.disposeControls=function(){if(this.$container){c.oc.foundation.controlUtils.disposeControls(this.$container.get(0))}};b.prototype.hidePopover=function(){this.$container.remove();if(this.$overlay){this.$overlay.remove()}this.$el.removeClass("popover-highlight");this.$el.trigger("hide.oc.popover");this.$overlay=false;this.$container=false;this.$el.data("oc.popover",null);c(document.body).removeClass("popover-open");c(document).unbind("mousedown",this.docClickHandler);c(document).off(".oc.popover");this.docClickHandler=null;this.options.onCheckDocumentClickTarget=null};b.prototype.show=function(g){var d=this;var i=c.Event("showing.oc.popover",{relatedTarget:this.$el});this.$el.trigger(i,this);if(i.isDefaultPrevented()){return}this.$container=c("<div />").addClass("control-popover");if(this.options.containerClass){this.$container.addClass(this.options.containerClass)}if(this.options.useAnimation){this.$container.addClass("fade")}var f=c("<div />").html(this.getContent());this.$container.append(f);if(this.options.width){this.$container.width(this.options.width)}if(this.options.modal){this.$overlay=c("<div />").addClass("popover-overlay");c(document.body).append(this.$overlay);if(this.options.highlightModalTarget){this.$el.addClass("popover-highlight");this.$el.blur()}}else{this.$overlay=false}if(this.options.container){c(this.options.container).append(this.$container)}else{c(document.body).append(this.$container)}this.reposition();this.$container.addClass("in");if(this.$overlay){this.$overlay.addClass("in")}c(document.body).addClass("popover-open");var h=jQuery.Event("show.oc.popover",{relatedTarget:this.$container.get(0)});this.$el.trigger(h);this.$container.on("close.oc.popover",function(j){d.hide()});this.$container.on("click","[data-dismiss=popover]",function(j){d.hide();return false});this.docClickHandler=c.proxy(this.onDocumentClick,this);c(document).bind("mousedown",this.docClickHandler);if(this.options.closeOnEsc){c(document).on("keyup.oc.popover",function(j){if(c(j.target).hasClass("select2-offscreen")){return false}if(!d.options.closeOnEsc){return false}if(j.keyCode==27){d.hide();return false}})}};b.prototype.reposition=function(){var e=this.calcPlacement(),d=this.calcPosition(e);this.$container.removeClass("placement-center placement-bottom placement-top placement-left placement-right");this.$container.css({left:d.x,top:d.y}).addClass("placement-"+e)};b.prototype.getContent=function(){return typeof this.options.content=="function"?this.options.content.call(this.$el[0],this):this.options.content};b.prototype.calcDimensions=function(){var e=c(document).width(),g=c(document).height(),h=this.$el.offset(),f=this.$el.outerWidth(),d=this.$el.outerHeight();return{containerWidth:this.$container.outerWidth()+this.arrowSize,containerHeight:this.$container.outerHeight()+this.arrowSize,targetOffset:h,targetHeight:d,targetWidth:f,spaceLeft:h.left,spaceRight:e-(f+h.left),spaceTop:h.top,spaceBottom:g-(d+h.top),spaceHorizontalBottom:g-h.top,spaceVerticalRight:e-h.left,documentWidth:e}};b.prototype.fitsLeft=function(d){return d.spaceLeft>=d.containerWidth&&d.spaceHorizontalBottom>=d.containerHeight};b.prototype.fitsRight=function(d){return d.spaceRight>=d.containerWidth&&d.spaceHorizontalBottom>=d.containerHeight};b.prototype.fitsBottom=function(d){return d.spaceBottom>=d.containerHeight&&d.spaceVerticalRight>=d.containerWidth};b.prototype.fitsTop=function(d){return d.spaceTop>=d.containerHeight&&d.spaceVerticalRight>=d.containerWidth};b.prototype.calcPlacement=function(){var f=this.options.placement,g=this.calcDimensions();if(f=="center"){return f}if(f!="bottom"&&f!="top"&&f!="left"&&f!="right"){f="bottom"}var e={top:this.fitsTop,bottom:this.fitsBottom,left:this.fitsLeft,right:this.fitsRight};if(e[f](g)){return f}for(var d in e){if(e[d](g)){return d}}return this.options.fallbackPlacement};b.prototype.calcPosition=function(f){var h=this.calcDimensions(),d;switch(f){case"left":var e=this.options.offsetY===undefined?this.options.offset:this.options.offsetY;d={x:(h.targetOffset.left-h.containerWidth),y:h.targetOffset.top+e};break;case"top":var e=this.options.offsetX===undefined?this.options.offset:this.options.offsetX;d={x:h.targetOffset.left+e,y:(h.targetOffset.top-h.containerHeight)};break;case"bottom":var e=this.options.offsetX===undefined?this.options.offset:this.options.offsetX;d={x:h.targetOffset.left+e,y:(h.targetOffset.top+h.targetHeight+this.arrowSize)};break;case"right":var e=this.options.offsetY===undefined?this.options.offset:this.options.offsetY;d={x:(h.targetOffset.left+h.targetWidth+this.arrowSize),y:h.targetOffset.top+e};break;case"center":var j=c(window).height();d={x:(h.documentWidth/2-h.containerWidth/2),y:(j/2-h.containerHeight/2)};if(d.y<40){d.y=40}break}if(!this.options.container){return d}var i=c(this.options.container),g=i.offset();d.x-=g.left;d.y-=g.top;return d};b.prototype.onDocumentClick=function(d){if(!this.options.closeOnPageClick){return}if(this.options.onCheckDocumentClickTarget&&this.options.onCheckDocumentClickTarget(d.target)){return}if(c.contains(this.$container.get(0),d.target)){return}this.hide()};b.DEFAULTS={placement:"bottom",fallbackPlacement:"bottom",content:"<p>Popover content<p>",width:false,modal:false,highlightModalTarget:false,closeOnPageClick:true,closeOnEsc:true,container:false,containerClass:null,offset:15,useAnimation:false,onCheckDocumentClickTarget:null};var a=c.fn.ocPopover;c.fn.ocPopover=function(e){var d=arguments;return this.each(function(){var k=c(this);var j=k.data("oc.popover");var g=c.extend({},b.DEFAULTS,k.data(),typeof e=="object"&&e);if(!j){if(typeof e=="string"){return}k.data("oc.popover",(j=new b(this,g)))}else{if(typeof e!="string"){return}var f=[];for(var h=1;h<d.length;h++){f.push(d[h])}j[e].apply(j,f)}})};c.fn.ocPopover.Constructor=b;c.fn.ocPopover.noConflict=function(){c.fn.ocPopover=a;return this};c(document).on("click","[data-control=popover]",function(d){c(this).ocPopover();return false})}(window.jQuery);