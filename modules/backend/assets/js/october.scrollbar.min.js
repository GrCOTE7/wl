+function(d){var c=d.oc.foundation.base,b=c.prototype;var e=function(i,j){var w=this.$el=d(i),h=w.get(0),q=this,j=this.options=j||{},l=this.sizeName=j.vertical?"height":"width",k=d("html").hasClass("mobile"),o=this.isTouch=Modernizr.touch,f=this.isScrollable=false,m=this.isLocked=false,n=j.vertical?"pageY":"pageX",v=0,u=0;d.oc.foundation.controlUtils.markDisposable(i);c.call(this);this.$el.one("dispose-control",this.proxy(this.dispose));if(k){return}this.$scrollbar=d("<div />").addClass("scrollbar-scrollbar");this.$track=d("<div />").addClass("scrollbar-track").appendTo(this.$scrollbar);this.$thumb=d("<div />").addClass("scrollbar-thumb").appendTo(this.$track);w.addClass("drag-scrollbar").addClass(j.vertical?"vertical":"horizontal").prepend(this.$scrollbar);if(o){this.$el.on("touchstart",function(y){var x=y.originalEvent;if(x.touches.length==1){g(x.touches[0]);y.stopPropagation()}})}else{this.$thumb.on("mousedown",function(x){g(x)});this.$track.on("mouseup",function(x){r(x)})}w.mousewheel(function(x){var y=q.options.vertical?((x.deltaFactor*x.deltaY)*-1):(x.deltaFactor*x.deltaX);return !s(y*q.options.scrollSpeed)});w.on("oc.scrollbar.gotoStart",function(x){q.options.vertical?w.scrollTop(0):w.scrollLeft(0);q.update();x.stopPropagation()});d(window).on("resize",d.proxy(this.update,this));d(window).on("oc.updateUi",d.proxy(this.update,this));function g(x){d("body").addClass("drag-noselect");w.trigger("oc.scrollStart");v=x[n];u=q.options.vertical?w.scrollTop():w.scrollLeft();if(o){d(window).on("touchmove.scrollbar",function(z){var y=z.originalEvent;if(r(y.touches[0])){z.preventDefault()}});w.on("touchend.scrollbar",t)}else{d(window).on("mousemove.scrollbar",function(y){r(y);return false});d(window).on("mouseup.scrollbar",function(){t();return false})}}function r(z){q.isLocked=true;var A,y=z[n];if(q.isTouch){A=v-y}else{var x=q.getCanvasSize()/q.getViewportSize();A=(y-v)*x}q.options.vertical?w.scrollTop(u+A):w.scrollLeft(u+A);q.setThumbPosition();return q.options.vertical?h.scrollTop!=u:h.scrollLeft!=u}function t(){d("body").removeClass("drag-noselect");w.trigger("oc.scrollEnd");d(window).off(".scrollbar")}var p=d(document.documentElement).hasClass("webkit");function s(y){u=q.options.vertical?h.scrollTop:h.scrollLeft;w.trigger("oc.scrollStart");q.options.vertical?w.scrollTop(u+y):w.scrollLeft(u+y);var x=q.options.vertical?h.scrollTop!=u:h.scrollLeft!=u;q.setThumbPosition();if(!p){if(q.endScrollTimeout!==undefined){clearTimeout(q.endScrollTimeout);q.endScrollTimeout=undefined}q.endScrollTimeout=setTimeout(function(){w.trigger("oc.scrollEnd");q.endScrollTimeout=undefined},50)}else{w.trigger("oc.scrollEnd")}return x}setTimeout(function(){q.update()},1)};e.prototype=Object.create(b);e.prototype.constructor=e;e.prototype.dispose=function(){this.unregisterHandlers();b.dispose.call(this)};e.prototype.unregisterHandlers=function(){};e.DEFAULTS={vertical:true,scrollSpeed:2,animation:true,start:function(){},drag:function(){},stop:function(){}};e.prototype.update=function(){if(!this.$scrollbar){return}this.$scrollbar.hide();this.setThumbSize();this.setThumbPosition();this.$scrollbar.show()};e.prototype.setThumbSize=function(){var f=this.calculateProperties();this.isScrollable=!(f.thumbSizeRatio>=1);this.$scrollbar.toggleClass("disabled",!this.isScrollable);if(this.options.vertical){this.$track.height(f.canvasSize);this.$thumb.height(f.thumbSize)}else{this.$track.width(f.canvasSize);this.$thumb.width(f.thumbSize)}};e.prototype.setThumbPosition=function(){var f=this.calculateProperties();if(this.options.vertical){this.$thumb.css({top:f.thumbPosition})}else{this.$thumb.css({left:f.thumbPosition})}};e.prototype.calculateProperties=function(){var g=this.$el,f={};f.viewportSize=this.getViewportSize();f.canvasSize=this.getCanvasSize();f.scrollAmount=(this.options.vertical)?g.scrollTop():g.scrollLeft();f.thumbSizeRatio=f.viewportSize/f.canvasSize;f.thumbSize=f.viewportSize*f.thumbSizeRatio;f.thumbPositionRatio=f.scrollAmount/(f.canvasSize-f.viewportSize);f.thumbPosition=((f.viewportSize-f.thumbSize)*f.thumbPositionRatio)+f.scrollAmount;if(isNaN(f.thumbPosition)){f.thumbPosition=0}return f};e.prototype.getViewportSize=function(){return(this.options.vertical)?this.$el.height():this.$el.width()};e.prototype.getCanvasSize=function(){return(this.options.vertical)?this.$el.get(0).scrollHeight:this.$el.get(0).scrollWidth};e.prototype.gotoElement=function(h,l){var g=d(h);if(!g.length){return}var f=this,k=0,i=false,j={duration:300,queue:false,complete:function(){if(l!==undefined){l()}}};if(!this.options.vertical){k=g.get(0).offsetLeft-this.$el.scrollLeft();if(k<0){this.$el.animate({scrollLeft:g.get(0).offsetLeft},j);i=true}else{k=g.get(0).offsetLeft+g.outerWidth()-(this.$el.scrollLeft()+this.$el.outerWidth());if(k>0){this.$el.animate({scrollLeft:g.get(0).offsetLeft+g.outerWidth()-this.$el.outerWidth()},j);i=true}}}else{k=g.get(0).offsetTop-this.$el.scrollTop();if(this.options.animation){if(k<0){this.$el.animate({scrollTop:g.get(0).offsetTop},j);i=true}else{k=g.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight());if(k>0){this.$el.animate({scrollTop:g.get(0).offsetTop+g.outerHeight()-this.$el.outerHeight()},j);i=true}}}else{if(k<0){this.$el.scrollTop(g.get(0).offsetTop)}else{k=g.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight());if(k>0){this.$el.scrollTop(g.get(0).offsetTop+g.outerHeight()-this.$el.outerHeight())}}}}if(!i&&l!==undefined){l()}return this};e.prototype.dispose=function(){this.$el=null;this.$scrollbar=null;this.$track=null;this.$thumb=null};var a=d.fn.scrollbar;d.fn.scrollbar=function(f){return this.each(function(){var i=d(this);var h=i.data("oc.scrollbar");var g=d.extend({},e.DEFAULTS,i.data(),typeof f=="object"&&f);if(!h){i.data("oc.scrollbar",(h=new e(this,g)))}if(typeof f=="string"){h[f].call(i)}})};d.fn.scrollbar.Constructor=e;d.fn.scrollbar.noConflict=function(){d.fn.scrollbar=a;return this};d(document).render(function(){d("[data-control=scrollbar]").scrollbar()})}(window.jQuery);