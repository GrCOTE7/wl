+function(c){var b=function(e,d){this.options=d;this.$el=c(e);this.init()};b.prototype.init=function(){var d=this;this.tabOpenDelay=200;this.tabOpenTimeout=undefined;this.panelOpenTimeout=undefined;this.$sideNav=c("#layout-sidenav");this.$sideNavItems=c("ul li",this.$sideNav);this.$sidePanelItems=c("[data-content-id]",this.$el);this.sideNavWidth=this.$sideNavItems.outerWidth();this.mainNavHeight=c("#layout-mainmenu").outerHeight();this.panelVisible=false;this.visibleItemId=false;this.$fixButton=c('<a href="#" class="fix-button"><i class="icon-thumb-tack"></i></a>');this.$fixButton.click(function(){d.fixPanel();return false});c(".fix-button-container",this.$el).append(this.$fixButton);this.$sideNavItems.click(function(){if(c(this).data("no-side-panel")){return}if(Modernizr.touch&&c(window).width()<d.options.breakpoint){if(c(this).data("menu-item")==d.visibleItemId&&d.panelVisible){d.hideSidePanel();return}else{d.displaySidePanel()}}d.displayTab(this);return false});if(!Modernizr.touch){d.$sideNav.mouseleave(function(){clearTimeout(d.panelOpenTimeout)});d.$el.mouseleave(function(){d.hideSidePanel()});d.$sideNavItems.mouseenter(function(){if(c(window).width()<d.options.breakpoint||!d.panelFixed()){if(c(this).data("no-side-panel")){d.hideSidePanel();return}var e=this;d.tabOpenTimeout=setTimeout(function(){d.displaySidePanel();d.displayTab(e)},d.tabOpenDelay)}});d.$sideNavItems.mouseleave(function(){clearTimeout(d.tabOpenTimeout)});c(window).resize(function(){d.updatePanelPosition();d.updateActiveTab()})}else{c("#layout-body").click(function(){if(d.panelVisible){d.hideSidePanel();return false}});d.$el.on("close.oc.sidePanel",function(){d.hideSidePanel()})}this.updateActiveTab()};b.prototype.displayTab=function(d){var e=c(d).data("menu-item");this.visibleItemId=e;c.oc.sideNav.setActiveItem(e);this.$sidePanelItems.each(function(){var f=c(this);f.toggleClass("hide",f.data("content-id")!=e)});c(window).trigger("resize")};b.prototype.displaySidePanel=function(){c(document.body).addClass("display-side-panel");this.$el.appendTo("#layout-canvas");this.panelVisible=true;this.$el.css({left:this.sideNavWidth,top:this.mainNavHeight});this.updatePanelPosition();c(window).trigger("resize")};b.prototype.hideSidePanel=function(){c(document.body).removeClass("display-side-panel");if(this.$el.next("#layout-body").length==0){c("#layout-body").before(this.$el)}this.panelVisible=false;this.updateActiveTab()};b.prototype.updatePanelPosition=function(){if(!this.panelFixed()||Modernizr.touch){this.$el.height(c(document).height()-this.mainNavHeight)}else{this.$el.css("height","")}if(this.panelVisible&&c(window).width()>this.options.breakpoint&&this.panelFixed()){this.hideSidePanel()}};b.prototype.updateActiveTab=function(){if(!this.panelVisible&&(c(window).width()<this.options.breakpoint||!this.panelFixed())){c.oc.sideNav.unsetActiveItem()}else{c.oc.sideNav.setActiveItem(this.visibleItemId)}};b.prototype.panelFixed=function(){return !(c(window).width()<this.options.breakpoint)&&!c(document.body).hasClass("side-panel-not-fixed")};b.prototype.fixPanel=function(){c(document.body).toggleClass("side-panel-not-fixed");var d=this;window.setTimeout(function(){var e=d.panelFixed();if(e){d.updateActiveTab();c(document.body).addClass("side-panel-fix-shadow")}else{c(document.body).removeClass("side-panel-fix-shadow");d.hideSidePanel()}if(typeof(localStorage)!=="undefined"){localStorage.ocSidePanelFixed=e?1:0}},0)};b.DEFAULTS={breakpoint:769};var a=c.fn.sidePanelTab;c.fn.sidePanelTab=function(d){return this.each(function(){var g=c(this);var f=g.data("oc.sidePanelTab");var e=c.extend({},b.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f){g.data("oc.sidePanelTab",(f=new b(this,e)))}if(typeof d=="string"){f[d].call(f)}})};c.fn.sidePanelTab.Constructor=b;c.fn.sidePanelTab.noConflict=function(){c.fn.sidePanelTab=a;return this};c(window).load(function(){c("[data-control=layout-sidepanel]").sidePanelTab()});c(document).ready(function(){if(Modernizr.touch||(typeof(localStorage)!=="undefined")){if(localStorage.ocSidePanelFixed==0){c(document.body).addClass("side-panel-not-fixed");c(window).trigger("resize")}else{if(localStorage.ocSidePanelFixed==1){c(document.body).removeClass("side-panel-not-fixed");c(window).trigger("resize")}}}})}(window.jQuery);