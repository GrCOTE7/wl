+function(a){var b=function(){this.sortMode=null;this.simpleSortOrders=[];this.initSorting=function(c){this.sortMode=c;if(c=="simple"){this.initSortingSimple()}a("#reorderTreeList").on("move.oc.treelist",a.proxy(this.processReorder,this))};this.processReorder=function(e,c){var d;if(this.sortMode=="simple"){d={sort_orders:this.simpleSortOrders}}else{if(this.sortMode=="nested"){d=this.getNestedMoveData(c)}}a("#reorderTreeList").request("onReorder",{data:d})};this.getNestedMoveData=function(c){var e,d=c.item,f={targetNode:0,sourceNode:d.data("recordId"),position:"root"};if((e=d.next())&&e.length){f.position="before"}else{if((e=d.prev())&&e.length){f.position="after"}else{if((e=d.parents("li:first"))&&e.length){f.position="child"}}}if(e.length){f.targetNode=e.data("recordId")}return f};this.initSortingSimple=function(){var c=[];a("#reorderTreeList li").each(function(){c.push(a(this).data("recordSortOrder"))});this.simpleSortOrders=c}};a.oc.reorderBehavior=new b}(window.jQuery);