+function(c){var b=function(e,d){this.options=d;this.$el=c(e);this.init()};b.DEFAULTS={showAlpha:false,allowEmpty:false,dataLocker:null};b.prototype.init=function(){var d=this;this.$dataLocker=c(this.options.dataLocker,this.$el);this.$colorList=c(">ul",this.$el);this.$customColor=c("[data-custom-color]",this.$el);this.$customColorSpan=c(">span",this.$customColor);this.originalColor=this.$customColor.data("hexColor");this.$colorList.on("click",">li",function(){d.selectColor(this);d.$dataLocker.trigger("change")});if(this.$customColor.length){this.$customColor.spectrum({preferredFormat:"hex",showInput:true,showAlpha:this.options.showAlpha,allowEmpty:this.options.allowEmpty,color:this.$customColor.data("hexColor"),chooseText:c.oc.lang.get("colorpicker.choose","Ok"),cancelText:"тип",hide:function(e){var f=e?e.toHexString():"";d.$customColorSpan.css("background",f)},show:function(e){d.selectColor(d.$customColor)},move:function(e){var f=e?e.toHexString():"";d.$customColorSpan.css("background",f)},change:function(e){var f=e?e.toHexString():"";d.setCustomColor(f)}})}};b.prototype.setCustomColor=function(d){if(this.$customColor.length){this.$customColor.data("hexColor",d);this.$customColor.spectrum("set",d)}this.setColor(d)};b.prototype.setColor=function(d){this.$dataLocker.val(d)};b.prototype.selectColor=function(e){var d=c(e);d.addClass("active").siblings().removeClass("active");this.setColor(d.data("hexColor"))};var a=c.fn.colorPicker;c.fn.colorPicker=function(f){var e=Array.prototype.slice.call(arguments,1),d;this.each(function(){var i=c(this);var h=i.data("oc.colorpicker");var g=c.extend({},b.DEFAULTS,i.data(),typeof f=="object"&&f);if(!h){i.data("oc.colorpicker",(h=new b(this,g)))}if(typeof f=="string"){d=h[f].apply(h,e)}if(typeof d!="undefined"){return false}});return d?d:this};c.fn.colorPicker.Constructor=b;c.fn.colorPicker.noConflict=function(){c.fn.colorPicker=a;return this};c(document).render(function(){c('[data-control="colorpicker"]').colorPicker()})}(window.jQuery);