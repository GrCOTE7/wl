+function(e){var d=e.oc.foundation.base,c=d.prototype;var a=function(g,f){this.$el=e(g);this.options=f||{};e.oc.foundation.controlUtils.markDisposable(g);d.call(this);this.init()};a.prototype=Object.create(c);a.prototype.constructor=a;a.prototype.init=function(){this.$el.on("dblclick",this.proxy(this.onDoubleClick));this.$el.one("dispose-control",this.proxy(this.dispose))};a.prototype.dispose=function(){this.$el.off("dblclick",this.proxy(this.onDoubleClick));this.$el.off("dispose-control",this.proxy(this.dispose));this.$el.removeData("oc.recordfinder");this.$el=null;this.options=null;c.dispose.call(this)};a.DEFAULTS={refreshHandler:null,dataLocker:null};a.prototype.onDoubleClick=function(g,f){e(".btn.find-record",this.$el).trigger("click")};a.prototype.updateRecord=function(g,f){if(!this.options.dataLocker){return}var h=this.options.dataLocker;e(h).val(f);this.$el.loadIndicator({opaque:true});this.$el.request(this.options.refreshHandler,{success:function(i){this.success(i);e(h).trigger("change")}});e(g).closest(".recordfinder-popup").popup("hide")};var b=e.fn.recordFinder;e.fn.recordFinder=function(h){var g=Array.prototype.slice.call(arguments,1),f;this.each(function(){var k=e(this);var j=k.data("oc.recordfinder");var i=e.extend({},a.DEFAULTS,k.data(),typeof h=="object"&&h);if(!j){k.data("oc.recordfinder",(j=new a(this,i)))}if(typeof h=="string"){f=j[h].apply(j,g)}if(typeof f!="undefined"){return false}});return f?f:this};e.fn.recordFinder.Constructor=a;e.fn.recordFinder.noConflict=function(){e.fn.recordFinder=b;return this};e(document).render(function(){e('[data-control="recordfinder"]').recordFinder()})}(window.jQuery);