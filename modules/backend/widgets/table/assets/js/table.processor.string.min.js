+function(d){if(d.oc.table===undefined){throw new Error("The $.oc.table namespace is not defined. Make sure that the table.js script is loaded.")}if(d.oc.table.processor===undefined){throw new Error("The $.oc.table.processor namespace is not defined. Make sure that the table.processor.base.js script is loaded.")}var c=d.oc.table.processor.base,b=c.prototype;var a=function(g,f,e){this.focusTimeoutHandler=this.onFocusTimeout.bind(this);c.call(this,g,f,e)};a.prototype=Object.create(b);a.prototype.constructor=a;a.prototype.dispose=function(){b.dispose.call(this);this.focusTimeoutHandler=null};a.prototype.renderCell=function(e,f){this.createViewContainer(f,e)};a.prototype.onFocus=function(e,f){if(this.activeCell===e){return}this.activeCell=e;this.buildEditor(e,this.getCellContentContainer(e))};a.prototype.onUnfocus=function(){if(!this.activeCell){return}var e=this.activeCell.querySelector(".string-input");if(e){this.tableObj.setCellValue(this.activeCell,e.value);this.setViewContainerValue(this.activeCell,e.value);e.parentNode.removeChild(e)}this.showViewContainer(this.activeCell);this.activeCell=null};a.prototype.buildEditor=function(e,g){this.hideViewContainer(this.activeCell);var f=document.createElement("input");f.setAttribute("type","text");f.setAttribute("class","string-input");f.value=this.tableObj.getCellValue(e);if(this.columnConfiguration.readOnly){f.setAttribute("readonly",true)}g.appendChild(f);this.setCaretPosition(f,0);window.setTimeout(this.focusTimeoutHandler,0)};a.prototype.keyNavigationAllowed=function(f,h){if(h!="left"&&h!="right"){return true}if(!this.activeCell){return true}var e=this.activeCell.querySelector(".string-input");if(!e){return true}var g=this.getCaretPosition(e);if(h=="left"){return g==0}if(h=="right"){return g==e.value.length}return true};a.prototype.onRowValueChanged=function(f,e){if(f!=this.columnName){return}var g=this.tableObj.getCellValue(e);this.setViewContainerValue(e,g)};a.prototype.onFocusTimeout=function(){if(!this.activeCell){return}var e=this.activeCell.querySelector(".string-input");if(!e){return}e.focus();this.setCaretPosition(e,0)};a.prototype.getCaretPosition=function(e){if(document.selection){var f=document.selection.createRange();f.moveStart("character",-e.value.length);return f.text.length}if(e.selectionStart!==undefined){return e.selectionStart}return 0};a.prototype.setCaretPosition=function(g,e){if(document.selection){var f=g.createTextRange();setTimeout(function(){f.collapse(true);f.moveStart("character",e);f.moveEnd("character",0);f.select()},0)}if(g.selectionStart!==undefined){setTimeout(function(){g.selectionStart=e;g.selectionEnd=e},0)}return 0};d.oc.table.processor.string=a}(window.jQuery);