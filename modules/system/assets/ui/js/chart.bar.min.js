+function(c){var b=function(f,p){this.options=p||{};var n=this.$el=c(f),o=this.size=n.height(),l=this,k=c.oc.chartUtils.loadListValues(c("ul",n)),e=c.oc.chartUtils.createLegend(c("ul",n)),j=c.oc.chartUtils.initLegendColorIndicators(e),h=this.isFullWidth(),d=this.options.height!==undefined?this.options.height:o,g=h?this.$el.width():o,m=(g-(k.values.length-1)*this.options.gap)/k.values.length;var i=c("<div/>").addClass("canvas").height(d).width(h?"100%":g);n.prepend(i);n.toggleClass("full-width",h);Raphael(i.get(0),h?"100%":g,d,function(){l.paper=this;l.bars=this.set();l.paper.customAttributes.bar=function(s,r){return{path:[["M",s,d],["L",s,d-r],["L",s+m,d-r],["L",s+m,d],["Z"]]}};var q=0;c.each(k.values,function(t,s){var r=s.color!==undefined?s.color:c.oc.chartUtils.getColor(t),u=l.paper.path().attr({"stroke-width":0}).attr({bar:[q,0]}).attr({fill:r});l.bars.push(u);j[t].css("background-color",r);q+=m+l.options.gap;u.hover(function(v){c.oc.chartUtils.showTooltip(v.pageX,v.pageY,c.trim(c.oc.chartUtils.getLegendLabel(e,t))+": <strong>"+s.value+"</stong>")},function(){c.oc.chartUtils.hideTooltip()})});q=0;c.each(k.values,function(t,s){var r=(k.max&&s.value)?d/k.max*s.value:0;l.bars[t].animate({bar:[q,r]},1000,"bounce");q+=m+l.options.gap});if(h){c(window).on("resize",function(){g=l.$el.width();m=(g-(k.values.length-1)*l.options.gap)/k.values.length;var r=0;c.each(k.values,function(u,t){var s=(k.max&&t.value)?d/k.max*t.value:0;l.bars[u].animate({bar:[r,s]},10,"bounce");r+=m+l.options.gap})})}})};b.prototype.isFullWidth=function(){return this.options.fullWidth!==undefined&&this.options.fullWidth};b.DEFAULTS={gap:2};var a=c.fn.barChart;c.fn.barChart=function(d){return this.each(function(){var g=c(this);var f=g.data("oc.barChart");var e=c.extend({},b.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f){g.data("oc.barChart",new b(this,e))}})};c.fn.barChart.Constructor=b;c.fn.barChart.noConflict=function(){c.fn.barChart=a;return this};c(document).render(function(){c("[data-control=chart-bar]").barChart()})}(window.jQuery);