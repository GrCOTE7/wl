+function(c){var b=function(e,o){this.options=o||{};var m=this.$el=c(e),n=this.size=(this.options.size!==undefined?this.options.size:m.height()),f=n/2-1,g=f-f/3.5,k=c.oc.chartUtils.loadListValues(c("ul",m)),d=c.oc.chartUtils.createLegend(c("ul",m)),j=c.oc.chartUtils.initLegendColorIndicators(d),l=this;var h=c("<div/>").addClass("canvas").width(n).height(n);m.prepend(h);Raphael(h.get(0),n,n,function(){l.paper=this;l.segments=this.set();l.paper.customAttributes.segment=function(s,r){var x=l.arcCoords(f,s),w=l.arcCoords(f,r),u=l.arcCoords(g,r),t=l.arcCoords(g,s),q=(r-s)>180,v=[["M",x.x,x.y],["A",f,f,0,+q,0,w.x,w.y],["L",u.x,u.y],["A",g,g,0,+q,1,t.x,t.y],["Z"]];return{path:v}};l.paper.circle(n/2,n/2,g+(f-g)/2).attr({"stroke-width":f-g-0.5}).attr({stroke:c.oc.chartUtils.defaultValueColor});c.each(k.values,function(s,r){var q=r.color!==undefined?r.color:c.oc.chartUtils.getColor(s),t=l.paper.path().attr({"stroke-width":0}).attr({segment:[0,0]}).attr({fill:q});l.segments.push(t);j[s].css("background-color",q);t.hover(function(u){c.oc.chartUtils.showTooltip(u.pageX,u.pageY,c.trim(c.oc.chartUtils.getLegendLabel(d,s))+": <strong>"+r.value+"</stong>")},function(){c.oc.chartUtils.hideTooltip()})});var p=l.options.startAngle;c.each(k.values,function(r,q){var s=(k.total&&q.value)?360/k.total*q.value:0;if(s==360){s--}l.segments[r].animate({segment:[p,p+s]},1000,"bounce");p+=s})});if(this.options.centerText!==undefined){var i=c("<span>").addClass("center").html(this.options.centerText);h.append(i)}};b.prototype.arcCoords=function(e,g){var f=Raphael.rad(g),d=this.size/2+e*Math.cos(f),h=this.size/2-e*Math.sin(f);return{x:d,y:h}};b.DEFAULTS={startAngle:45};var a=c.fn.pieChart;c.fn.pieChart=function(d){return this.each(function(){var g=c(this);var f=g.data("oc.pieChart");var e=c.extend({},b.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f){g.data("oc.pieChart",new b(this,e))}})};c.fn.pieChart.Constructor=b;c.fn.pieChart.noConflict=function(){c.fn.pieChart=a;return this};c(document).render(function(){c("[data-control=chart-pie]").pieChart()})}(window.jQuery);