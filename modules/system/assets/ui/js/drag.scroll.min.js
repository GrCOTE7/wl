+function(e){var d=e.oc.foundation.base,c=d.prototype;var a=function(i,s){this.options=e.extend({},a.DEFAULTS,s);var r=e(i),f=r.get(0),n=0,j=0,p=this,o=false,k=this.options.vertical?"pageY":"pageX";this.el=r;this.scrollClassContainer=this.options.scrollClassContainer?e(this.options.scrollClassContainer):r;this.isScrollable=true;d.call(this);if(this.options.scrollMarkerContainer){e(this.options.scrollMarkerContainer).append(e('<span class="before scroll-marker"></span><span class="after scroll-marker"></span>'))}var m=this.options.scrollSelector?e(this.options.scrollSelector,r):r;m.mousewheel(function(u){if(!p.options.useScroll){return}var v,t=u.deltaFactor*u.deltaX,w=u.deltaFactor*u.deltaY;if(!t&&p.options.useComboScroll){v=w*-1}else{if(!w&&p.options.useComboScroll){v=t}else{v=p.options.vertical?(w*-1):t}}return !q(v)});if(this.options.useDrag){r.on("mousedown.dragScroll",this.options.dragSelector,function(t){if(t.target&&t.target.tagName==="INPUT"){return}if(!p.isScrollable){return}h(t);return false})}r.on("touchstart.dragScroll",this.options.dragSelector,function(u){var t=u.originalEvent;if(t.touches.length==1){h(t.touches[0]);u.stopPropagation()}});r.on("click.dragScroll",function(){if(e(document.body).hasClass(p.options.dragClass)){return false}});e(document).on("ready",this.proxy(this.fixScrollClasses));e(window).on("resize",this.proxy(this.fixScrollClasses));function h(t){n=t[k];j=p.options.vertical?r.scrollTop():r.scrollLeft();if(Modernizr.touch){e(window).on("touchmove.dragScroll",function(v){var u=v.originalEvent;l(u.touches[0]);v.preventDefault()});e(window).on("touchend.dragScroll",function(u){g()})}else{e(window).on("mousemove.dragScroll",function(u){l(u);return false});e(window).on("mouseup.dragScroll",function(u){var v=t.pageX==u.pageX&&t.pageY==u.pageY;g(v);return false})}}function l(t){var u=t[k],v=n-u;if(Math.abs(v)>3){if(!o){o=true;r.trigger("start.oc.dragScroll");p.options.start();e(document.body).addClass(p.options.dragClass)}p.options.vertical?r.scrollTop(j+v):r.scrollLeft(j+v);r.trigger("drag.oc.dragScroll");p.options.drag()}}function g(t){e(window).off(".dragScroll");o=false;if(t){e(document.body).removeClass(p.options.dragClass)}else{p.fixScrollClasses()}window.setTimeout(function(){if(!t){e(document.body).removeClass(p.options.dragClass);r.trigger("stop.oc.dragScroll");p.options.stop();p.fixScrollClasses()}},100)}function q(u){j=p.options.vertical?f.scrollTop:f.scrollLeft;p.options.vertical?r.scrollTop(j+u):r.scrollLeft(j+u);var t=p.options.vertical?f.scrollTop!=j:f.scrollLeft!=j;r.trigger("drag.oc.dragScroll");p.options.drag();if(t){if(p.wheelUpdateTimer!==undefined&&p.wheelUpdateTimer!==false){window.clearInterval(p.wheelUpdateTimer)}p.wheelUpdateTimer=window.setTimeout(function(){p.wheelUpdateTimer=false;p.fixScrollClasses()},100)}return t}this.fixScrollClasses()};a.prototype=Object.create(c);a.prototype.constructor=a;a.DEFAULTS={vertical:false,useDrag:true,useScroll:true,useComboScroll:true,scrollClassContainer:false,scrollMarkerContainer:false,scrollSelector:null,dragSelector:null,dragClass:"drag",start:function(){},drag:function(){},stop:function(){}};a.prototype.fixScrollClasses=function(){var f=this.isStart(),g=this.isEnd();this.scrollClassContainer.toggleClass("scroll-before",!f);this.scrollClassContainer.toggleClass("scroll-after",!g);this.scrollClassContainer.toggleClass("scroll-active-before",this.isActiveBefore());this.scrollClassContainer.toggleClass("scroll-active-after",this.isActiveAfter());this.isScrollable=!f||!g};a.prototype.isStart=function(){if(!this.options.vertical){return this.el.scrollLeft()<=0}else{return this.el.scrollTop()<=0}};a.prototype.isEnd=function(){if(!this.options.vertical){return(this.el[0].scrollWidth-(this.el.scrollLeft()+this.el.width()))<=0}else{return(this.el[0].scrollHeight-(this.el.scrollTop()+this.el.height()))<=0}};a.prototype.goToStart=function(){if(!this.options.vertical){return this.el.scrollLeft(0)}else{return this.el.scrollTop(0)}};a.prototype.isActiveAfter=function(){var f=e(".active",this.el);if(f.length==0){return false}if(!this.options.vertical){return f.get(0).offsetLeft>(this.el.scrollLeft()+this.el.width())}else{return f.get(0).offsetTop>(this.el.scrollTop()+this.el.height())}};a.prototype.isActiveBefore=function(){var f=e(".active",this.el);if(f.length==0){return false}if(!this.options.vertical){return(f.get(0).offsetLeft+f.width())<this.el.scrollLeft()}else{return(f.get(0).offsetTop+f.height())<this.el.scrollTop()}};a.prototype.goToElement=function(i,m,g){var h=e(i);if(!h.length){return}var f=this,l={duration:300,queue:false,complete:function(){f.fixScrollClasses();if(m!==undefined){m()}}};l=e.extend(l,g||{});var k=0,j=false;if(!this.options.vertical){k=h.get(0).offsetLeft-this.el.scrollLeft();if(k<0){this.el.animate({scrollLeft:h.get(0).offsetLeft},l);j=true}else{k=h.get(0).offsetLeft+h.width()-(this.el.scrollLeft()+this.el.width());if(k>0){this.el.animate({scrollLeft:h.get(0).offsetLeft+h.width()-this.el.width()},l);j=true}}}else{k=h.get(0).offsetTop-this.el.scrollTop();if(k<0){this.el.animate({scrollTop:h.get(0).offsetTop},l);j=true}else{k=h.get(0).offsetTop-(this.el.scrollTop()+this.el.height());if(k>0){this.el.animate({scrollTop:h.get(0).offsetTop+h.height()-this.el.height()},l);j=true}}}if(!j&&m!==undefined){m()}};a.prototype.dispose=function(){this.scrollClassContainer=null;e(document).off("ready",this.proxy(this.fixScrollClasses));e(window).off("resize",this.proxy(this.fixScrollClasses));this.el.off(".dragScroll");this.el.removeData("oc.dragScroll");this.el=null;c.dispose.call(this)};var b=e.fn.dragScroll;e.fn.dragScroll=function(g){var f=arguments;return this.each(function(){var m=e(this);var l=m.data("oc.dragScroll");var j=typeof g=="object"&&g;if(!l){m.data("oc.dragScroll",(l=new a(this,j)))}if(typeof g=="string"){var h=[];for(var k=1;k<f.length;k++){h.push(f[k])}l[g].apply(l,h)}})};e.fn.dragScroll.Constructor=a;e.fn.dragScroll.noConflict=function(){e.fn.dragScroll=b;return this}}(window.jQuery);