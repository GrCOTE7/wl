+function(d){var c=d.oc.foundation.base,a=c.prototype;var b=function(e){this.element=e;c.call(this)};b.prototype=Object.create(a);b.prototype.constructor=c;b.prototype.dispose=function(){this.element=null;a.dispose.call(this)};b.prototype.getElementValuesInput=function(){return this.element.querySelector("input[data-inspector-values]")};b.prototype.normalizePropertyCode=function(f,i){var h=f.toLowerCase();for(var e in i){var g=i[e];if(g.property.toLowerCase()==h){return g.property}}return f};b.prototype.loadValues=function(g){var h=this.getElementValuesInput();if(h){var e=d.trim(h.value);try{return e.length===0?{}:d.parseJSON(e)}catch(j){throw new Error("Error parsing Inspector field values. "+j)}}var p={},k=this.element.attributes;for(var l=0,n=k.length;l<n;l++){var f=k[l],m=[];if(m=f.name.match(/^data-property-(.*)$/)){var o=normalizePropertyCode(m[1],g);p[o]=f.value}}return p};b.prototype.loadConfiguration=function(k){var i=this.element.querySelector("input[data-inspector-config]"),e={configuration:{},title:null,description:null},f=d(this.element);e.title=f.data("inspector-title");e.description=f.data("inspector-description");if(i){e.configuration=this.parseConfiguration(i.value);k(e,this);return}var h=f.closest("form"),j=f.data(),g=this;d.oc.stripeLoadIndicator.show();h.request("onGetInspectorConfiguration",{data:j}).done(function l(m){g.configurartionRequestDone(m,k,e)}).always(function(){d.oc.stripeLoadIndicator.hide()})};b.prototype.parseConfiguration=function(f){if(!d.isArray(f)&&!d.isPlainObject(f)){if(d.trim(f)===0){return{}}try{return d.parseJSON(f)}catch(e){throw new Error("Error parsing Inspector configuration. "+e)}}else{return f}};b.prototype.configurartionRequestDone=function(f,g,e){e.configuration=this.parseConfiguration(f.configuration.properties);if(f.configuration.title!==undefined){e.title=f.configuration.title}if(f.configuration.description!==undefined){e.description=f.configuration.description}g(e,this)};d.oc.inspector.dataInteraction=b}(window.jQuery);