+function(d){var c=d.oc.inspector.propertyEditors.base,b=c.prototype;var a=function(h,g,e,f){this.popup=null;c.call(this,h,g,e,f)};a.prototype=Object.create(b);a.prototype.constructor=c;a.prototype.dispose=function(){this.unregisterHandlers();this.popup=null;b.dispose.call(this)};a.prototype.build=function(){var e=document.createElement("a");d.oc.foundation.element.addClass(e,"trigger");e.setAttribute("href","#");this.setLinkText(e);d.oc.foundation.element.addClass(this.containerCell,"trigger-cell");this.containerCell.appendChild(e)};a.prototype.setLinkText=function(e,f){};a.prototype.getPopupContent=function(){return'<form>                                                                                                  <div class="modal-header">                                                                                  <button type="button" class="close" data-dismiss="popup">&times;</button>                               <h4 class="modal-title">{{property}}</h4>                                                           </div>                                                                                                  <div class="modal-body">                                                                                    <div class="form-group">                                                                                </div>                                                                                              </div>                                                                                                  <div class="modal-footer">                                                                                  <button type="submit" class="btn btn-primary">OK</button>                                               <button type="button" class="btn btn-default" data-dismiss="popup">Cancel</button>                  </div>                                                                                                  </form>'};a.prototype.updateDisplayedValue=function(e){this.setLinkText(this.getLink(),e)};a.prototype.registerHandlers=function(){var f=this.getLink(),e=d(f);f.addEventListener("click",this.proxy(this.onTriggerClick));e.on("shown.oc.popup",this.proxy(this.onPopupShown));e.on("hidden.oc.popup",this.proxy(this.onPopupHidden))};a.prototype.unregisterHandlers=function(){var f=this.getLink(),e=d(f);f.removeEventListener("click",this.proxy(this.onTriggerClick));e.off("shown.oc.popup",this.proxy(this.onPopupShown));e.off("hidden.oc.popup",this.proxy(this.onPopupHidden))};a.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")};a.prototype.configurePopup=function(e){};a.prototype.handleSubmit=function(e){};a.prototype.hidePopup=function(){d(this.getLink()).popup("hide")};a.prototype.onTriggerClick=function(f){d.oc.foundation.event.stop(f);var e=this.getPopupContent();e=e.replace("{{property}}",this.propertyDefinition.title);d(f.target).popup({content:e});return false};a.prototype.onPopupShown=function(g,f,e){d(e).on("submit.inspector","form",this.proxy(this.onSubmit));this.popup=e.get(0);this.configurePopup(e);this.getRootSurface().popupDisplayed()};a.prototype.onPopupHidden=function(g,f,e){d(e).off(".inspector","form",this.proxy(this.onSubmit));this.popup=null;this.getRootSurface().popupHidden()};a.prototype.onSubmit=function(e){e.preventDefault();if(this.handleSubmit(d(e.target))===false){return false}this.setLinkText(this.getLink());this.hidePopup();return false};d.oc.inspector.propertyEditors.popupBase=a}(window.jQuery);