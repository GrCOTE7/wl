+function(c){var b=function(f){this.controlId=f;this.rootGroup=null;this.cachedGroupStatuses=null};b.prototype.createGroup=function(f,h){var g=new a(f);if(h){h.groups.push(g);g.parentGroup=h}else{this.rootGroup=g}return g};b.prototype.getGroupIndex=function(f){return f.getGroupIndex()};b.prototype.isParentGroupExpanded=function(f){if(!f.parentGroup){return true}return this.isGroupExpanded(f.parentGroup)};b.prototype.isGroupExpanded=function(h){if(!h.parentGroup){return true}var g=this.getGroupIndex(h),f=this.readGroupStatuses();if(f[g]!==undefined){return f[g]}return false};b.prototype.setGroupStatus=function(h,f){var g=this.readGroupStatuses();g[h]=f;this.writeGroupStatuses(g)};b.prototype.readGroupStatuses=function(){if(this.cachedGroupStatuses!==null){return this.cachedGroupStatuses}var f=e();if(f[this.controlId]!==undefined){this.cachedGroupStatuses=f[this.controlId]}else{this.cachedGroupStatuses={}}return this.cachedGroupStatuses};b.prototype.writeGroupStatuses=function(g){var f=e();f[this.controlId]=g;d(f);this.cachedGroupStatuses=g};b.prototype.findGroupByIndex=function(f){return this.rootGroup.findGroupByIndex(f)};b.prototype.findGroupRows=function(h,f,g){var i=this.findGroupByIndex(f);if(!i){throw new Error("Cannot find the requested row group.")}return i.findGroupRows(h,g,this)};b.prototype.markGroupRowInvalid=function(h,g){var f=h;while(f){var i=f.findGroupRow(g);if(i){c.oc.foundation.element.addClass(i,"invalid")}f=f.parentGroup}};b.prototype.unmarkInvalidGroups=function(g){var h=g.querySelectorAll("tr.invalid");for(var f=h.length-1;f>=0;f--){c.oc.foundation.element.removeClass(h[f],"invalid")}};b.prototype.isRowVisible=function(f,g){var i=this.findGroupByIndex(index);if(!i){throw new Error("Cannot find the requested row group.")}var h=i;while(h){if(!this.isGroupExpanded(h)){return false}h=h.parentGroup}return true};function e(){var f=document.body.getAttribute("data-inspector-group-statuses");if(f!==null){return JSON.parse(f)}return{}}function d(f){document.body.setAttribute("data-inspector-group-statuses",JSON.stringify(f))}var a=function(f){this.groupId=f;this.parentGroup=null;this.groupIndex=null;this.groups=[]};a.prototype.getGroupIndex=function(){if(this.groupIndex!==null){return this.groupIndex}var f="",g=this;while(g){if(f.length>0){f=g.groupId+"-"+f}else{f=String(g.groupId)}g=g.parentGroup}this.groupIndex=f;return f};a.prototype.findGroupByIndex=function(f){if(this.getGroupIndex()==f){return this}for(var h=this.groups.length-1;h>=0;h--){var g=this.groups[h].findGroupByIndex(f);if(g!==null){return g}}return null};a.prototype.getLevel=function(){var f=this,g=-1;while(f){g++;f=f.parentGroup}return g};a.prototype.getGroupAndAllParents=function(){var g=this,f=[];while(g){f.push(g);g=g.parentGroup}return f};a.prototype.findGroupRows=function(q,f,l){var o=this.getGroupIndex(),r=q.querySelectorAll('tr[data-parent-group-index="'+o+'"]'),s=Array.prototype.slice.call(r);for(var k=0,m=this.groups.length;k<m;k++){var n=this.groups[k];if(f&&!l.isGroupExpanded(n)){continue}var g=n.findGroupRows(q,f,l);for(var h=0,p=g.length;h<p;h++){s.push(g[h])}}return s};a.prototype.findGroupRow=function(f){return f.querySelector('tr[data-group-index="'+this.groupIndex+'"]')};c.oc.inspector.groupManager=b}(window.jQuery);