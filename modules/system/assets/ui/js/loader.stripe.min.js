+function(a){if(a.oc===undefined){a.oc={}}var b=function(){var c=this;this.counter=0;this.indicator=this.makeIndicator();this.stripe=this.indicator.find(".stripe");this.animationTimer=null;a(document).ready(function(){a(document.body).append(c.indicator)})};b.prototype.makeIndicator=function(){return a("<div/>").addClass("stripe-loading-indicator loaded").append(a("<div />").addClass("stripe")).append(a("<div />").addClass("stripe-loaded"))};b.prototype.show=function(){window.clearTimeout(this.animationTimer);this.indicator.show();this.counter++;this.stripe.after(this.stripe=this.stripe.clone()).remove();if(this.counter>1){return}this.indicator.removeClass("loaded");a(document.body).addClass("loading")};b.prototype.hide=function(d){this.counter--;if(d!==undefined&&d){this.counter=0}if(this.counter<=0){this.indicator.addClass("loaded");a(document.body).removeClass("loading");var c=this;this.animationTimer=window.setTimeout(function(){c.indicator.hide()},1000)}};a.oc.stripeLoadIndicator=new b();a(document).on("ajaxPromise","[data-stripe-load-indicator]",function(d){d.stopPropagation();a.oc.stripeLoadIndicator.show();var c=a(this);a(window).one("ajaxUpdateComplete",function(){if(c.closest("html").length===0){a.oc.stripeLoadIndicator.hide()}})}).on("ajaxFail ajaxDone","[data-stripe-load-indicator]",function(c){c.stopPropagation();a.oc.stripeLoadIndicator.hide()})}(window.jQuery);