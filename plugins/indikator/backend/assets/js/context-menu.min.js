(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){a.ui=a.ui||{},a.ui.version="1.12.1",function(){function p(d,h,c){return[parseFloat(d[0])*(w.test(d[0])?h/100:1),parseFloat(d[1])*(w.test(d[1])?c/100:1)]}function k(d,c){return parseInt(a.css(d,c),10)||0}function x(d){var c=d[0];return 9===c.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}var g,f=Math.max,v=Math.abs,b=/left|center|right/,j=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,t=/^\w+/,w=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==g){return g}var h,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=d.children()[0];return a("body").append(d),h=l.offsetWidth,d.css("overflow","scroll"),c=l.offsetWidth,h===c&&(c=d[0].clientWidth),d.remove(),g=h-c},getScrollInfo:function(h){var c=h.isWindow||h.isDocument?"":h.element.css("overflow-x"),d=h.isWindow||h.isDocument?"":h.element.css("overflow-y"),r="scroll"===c||"auto"===c&&h.width<h.element[0].scrollWidth,l="scroll"===d||"auto"===d&&h.height<h.element[0].scrollHeight;return{width:l?a.position.scrollbarWidth():0,height:r?a.position.scrollbarWidth():0}},getWithinInfo:function(h){var c=a(h||window),d=a.isWindow(c[0]),r=!!c[0]&&9===c[0].nodeType,l=!d&&!r;return{element:c,isWindow:d,isDocument:r,offset:l?a(h).offset():{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}},a.fn.position=function(d){if(!d||!d.of){return q.apply(this,arguments)}d=a.extend({},d);var B,c,l,i,e,z,A=a(d.of),r=a.position.getWithinInfo(d.within),o=a.position.getScrollInfo(r),s=(d.collision||"flip").split(" "),h={};return z=x(A),A[0].preventDefault&&(d.at="left top"),c=z.width,l=z.height,i=z.offset,e=a.extend({},i),a.each(["my","at"],function(){var u,y,n=(d[this]||"").split(" ");1===n.length&&(n=b.test(n[0])?n.concat(["center"]):j.test(n[0])?["center"].concat(n):["center","center"]),n[0]=b.test(n[0])?n[0]:"center",n[1]=j.test(n[1])?n[1]:"center",u=m.exec(n[0]),y=m.exec(n[1]),h[this]=[u?u[0]:0,y?y[0]:0],d[this]=[t.exec(n[0])[0],t.exec(n[1])[0]]}),1===s.length&&(s[1]=s[0]),"right"===d.at[0]?e.left+=c:"center"===d.at[0]&&(e.left+=c/2),"bottom"===d.at[1]?e.top+=l:"center"===d.at[1]&&(e.top+=l/2),B=p(h.at,c,l),e.left+=B[0],e.top+=B[1],this.each(function(){var L,u,E=a(this),G=E.outerWidth(),I=E.outerHeight(),H=k(this,"marginLeft"),K=k(this,"marginTop"),J=G+H+k(this,"marginRight")+o.width,y=I+K+k(this,"marginBottom")+o.height,n=a.extend({},e),F=p(h.my,E.outerWidth(),E.outerHeight());"right"===d.my[0]?n.left-=G:"center"===d.my[0]&&(n.left-=G/2),"bottom"===d.my[1]?n.top-=I:"center"===d.my[1]&&(n.top-=I/2),n.left+=F[0],n.top+=F[1],L={marginLeft:H,marginTop:K},a.each(["left","top"],function(D,C){a.ui.position[s[D]]&&a.ui.position[s[D]][C](n,{targetWidth:c,targetHeight:l,elemWidth:G,elemHeight:I,collisionPosition:L,collisionWidth:J,collisionHeight:y,offset:[B[0]+F[0],B[1]+F[1]],my:d.my,at:d.at,within:r,elem:E})}),d.using&&(u=function(M){var P=i.left-n.left,D=P+c-G,N=i.top-n.top,O=N+l-I,C={target:{element:A,left:i.left,top:i.top,width:c,height:l},element:{element:E,left:n.left,top:n.top,width:G,height:I},horizontal:0>D?"left":P>0?"right":"center",vertical:0>O?"top":N>0?"bottom":"middle"};G>c&&c>v(P+D)&&(C.horizontal="center"),I>l&&l>v(N+O)&&(C.vertical="middle"),C.important=f(v(P),v(D))>f(v(N),v(O))?"horizontal":"vertical",d.using.call(this,M,C)}),E.offset(a.extend(n,{using:u}))})},a.ui.position={fit:{left:function(B,z){var u,C=z.within,d=C.isWindow?C.scrollLeft:C.offset.left,A=C.width,c=B.left-z.collisionPosition.marginLeft,o=d-c,y=c+z.collisionWidth-A-d;z.collisionWidth>A?o>0&&0>=y?(u=B.left+o+z.collisionWidth-A-d,B.left+=o-u):B.left=y>0&&0>=o?d:o>y?d+A-z.collisionWidth:d:o>0?B.left+=o:y>0?B.left-=y:B.left=f(B.left-c,B.left)},top:function(B,z){var u,C=z.within,d=C.isWindow?C.scrollTop:C.offset.top,A=z.within.height,c=B.top-z.collisionPosition.marginTop,o=d-c,y=c+z.collisionHeight-A-d;z.collisionHeight>A?o>0&&0>=y?(u=B.top+o+z.collisionHeight-A-d,B.top+=o-u):B.top=y>0&&0>=o?d:o>y?d+A-z.collisionHeight:d:o>0?B.top+=o:y>0?B.top-=y:B.top=f(B.top-c,B.top)}},flip:{left:function(K,G){var D,L,B=G.within,A=B.offset.left+B.scrollLeft,y=B.width,C=B.isWindow?B.scrollLeft:B.offset.left,E=K.left-G.collisionPosition.marginLeft,I=E-C,J=E+G.collisionWidth-y-C,H="left"===G.my[0]?-G.elemWidth:"right"===G.my[0]?G.elemWidth:0,z="left"===G.at[0]?G.targetWidth:"right"===G.at[0]?-G.targetWidth:0,F=-2*G.offset[0];0>I?(D=K.left+H+z+F+G.collisionWidth-y-A,(0>D||v(I)>D)&&(K.left+=H+z+F)):J>0&&(L=K.left-G.collisionPosition.marginLeft+H+z+F-C,(L>0||J>v(L))&&(K.left+=H+z+F))},top:function(L,H){var D,M,B=H.within,A=B.offset.top+B.scrollTop,y=B.height,C=B.isWindow?B.scrollTop:B.offset.top,E=L.top-H.collisionPosition.marginTop,J=E-C,K=E+H.collisionHeight-y-C,I="top"===H.my[1],z=I?-H.elemHeight:"bottom"===H.my[1]?H.elemHeight:0,G="top"===H.at[1]?H.targetHeight:"bottom"===H.at[1]?-H.targetHeight:0,F=-2*H.offset[1];0>J?(M=L.top+z+G+F+H.collisionHeight-y-A,(0>M||v(J)>M)&&(L.top+=z+G+F)):K>0&&(D=L.top-H.collisionPosition.marginTop+z+G+F-C,(D>0||K>v(D))&&(L.top+=z+G+F))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}}}(),a.ui.position});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(z){function E(f){for(var d,i=f.split(/\s+/),c=[],h=0;d=i[h];h++){d=d.charAt(0).toUpperCase(),c.push(d)}return c}function k(a){return a.id&&z('label[for="'+a.id+'"]').val()||a.name}function C(c,d,a){return a||(a=0),d.each(function(){var i,f,m=z(this),h=this,e=this.nodeName.toLowerCase();switch("label"===e&&m.find("input, textarea, select").length&&(i=m.text(),m=m.children().first(),h=m.get(0),e=h.nodeName.toLowerCase()),e){case"menu":f={name:m.attr("label"),items:{}},a=C(f.items,m.children(),a);break;case"a":case"button":f={name:m.text(),disabled:!!m.attr("disabled"),callback:function(){return function(){m.click()}}()};break;case"menuitem":case"command":switch(m.attr("type")){case void 0:case"command":case"menuitem":f={name:m.attr("label"),disabled:!!m.attr("disabled"),icon:m.attr("icon"),callback:function(){return function(){m.click()}}()};break;case"checkbox":f={type:"checkbox",disabled:!!m.attr("disabled"),name:m.attr("label"),selected:!!m.attr("checked")};break;case"radio":f={type:"radio",disabled:!!m.attr("disabled"),name:m.attr("label"),radio:m.attr("radiogroup"),value:m.attr("id"),selected:!!m.attr("checked")};break;default:f=void 0}break;case"hr":f="-------";break;case"input":switch(m.attr("type")){case"text":f={type:"text",name:i||k(h),disabled:!!m.attr("disabled"),value:m.val()};break;case"checkbox":f={type:"checkbox",name:i||k(h),disabled:!!m.attr("disabled"),selected:!!m.attr("checked")};break;case"radio":f={type:"radio",name:i||k(h),disabled:!!m.attr("disabled"),radio:!!m.attr("name"),value:m.val(),selected:!!m.attr("checked")};break;default:f=void 0}break;case"select":f={type:"select",name:i||k(h),disabled:!!m.attr("disabled"),selected:m.val(),options:{}},m.children().each(function(){f.options[this.value]=z(this).text()});break;case"textarea":f={type:"textarea",name:i||k(h),disabled:!!m.attr("disabled"),value:m.val()};break;case"label":break;default:f={type:"html",html:m.clone(!0)}}f&&(a++,c["key"+a]=f)}),a}z.support.htmlMenuitem="HTMLMenuItemElement" in window,z.support.htmlCommand="HTMLCommandElement" in window,z.support.eventSelectstart="onselectstart" in document.documentElement,z.ui&&z.widget||(z.cleanData=function(a){return function(l){var c,h,d;for(d=0;null!=l[d];d++){h=l[d];try{c=f._data(h,"events"),c&&c.remove&&f(h).triggerHandler("remove")}catch(f){}}a(l)}}(z.cleanData));var j=null,w=!1,F=z(window),B=0,b={},v={},D={},A={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(a){if(z.ui&&z.ui.position){a.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none")}else{var c=this.offset();c.top+=this.outerHeight(),c.left+=this.outerWidth()/2-a.outerWidth()/2,a.css(c)}},position:function(m,h,u){var d;if(!h&&!u){return void m.determinePosition.call(this,m.$menu)}d="maintain"===h&&"maintain"===u?m.$menu.position():{top:u,left:h};var p=F.scrollTop()+F.height(),f=F.scrollLeft()+F.width(),s=m.$menu.outerHeight(),l=m.$menu.outerWidth();d.top+s>p&&(d.top-=s),d.top<0&&(d.top=0),d.left+l>f&&(d.left-=l),d.left<0&&(d.left=0),m.$menu.css(d)},positionSubmenu:function(a){if("undefined"!=typeof a){if(z.ui&&z.ui.position){a.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","")}else{var c={top:-9,left:this.outerWidth()-5};a.css(c)}}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:z.noop,hide:z.noop},callback:null,items:{}},q={timer:null,pageX:null,pageY:null},g=function(c){for(var a=0,d=c;;){if(a=Math.max(a,parseInt(d.css("z-index"),10)||0),d=d.parent(),!d||!d.length||"html body".indexOf(d.prop("nodeName").toLowerCase())>-1){break}}return a},y={abortevent:function(a){a.preventDefault(),a.stopImmediatePropagation()},contextmenu:function(f){var m=z(this);if("right"===f.data.trigger&&(f.preventDefault(),f.stopImmediatePropagation()),!("right"!==f.data.trigger&&"demand"!==f.data.trigger&&f.originalEvent||!("undefined"==typeof f.mouseButton||!f.data||"left"===f.data.trigger&&0===f.mouseButton||"right"===f.data.trigger&&2===f.mouseButton)||m.hasClass("context-menu-active")||m.hasClass("context-menu-disabled"))){if(j=m,f.data.build){var d=f.data.build(j,f);if(d===!1){return}if(f.data=z.extend(!0,{},A,f.data,d||{}),!f.data.items||z.isEmptyObject(f.data.items)){throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified")}f.data.$trigger=j,x.create(f.data)}var e=!1;for(var h in f.data.items){if(f.data.items.hasOwnProperty(h)){var l;l=z.isFunction(f.data.items[h].visible)?f.data.items[h].visible.call(z(f.currentTarget),h,f.data):"undefined"==typeof f.data.items[h]||!f.data.items[h].visible||f.data.items[h].visible===!0,l&&(e=!0)}}e&&x.show.call(m,f.data,f.pageX,f.pageY)}},click:function(a){a.preventDefault(),a.stopImmediatePropagation(),z(this).trigger(z.Event("contextmenu",{data:a.data,pageX:a.pageX,pageY:a.pageY}))},mousedown:function(a){var c=z(this);j&&j.length&&!j.is(c)&&j.data("contextMenu").$menu.trigger("contextmenu:hide"),2===a.button&&(j=c.data("contextMenuActive",!0))},mouseup:function(a){var c=z(this);c.data("contextMenuActive")&&j&&j.length&&j.is(c)&&!c.hasClass("context-menu-disabled")&&(a.preventDefault(),a.stopImmediatePropagation(),j=c,c.trigger(z.Event("contextmenu",{data:a.data,pageX:a.pageX,pageY:a.pageY}))),c.removeData("contextMenuActive")},mouseenter:function(e){var f=z(this),c=z(e.relatedTarget),d=z(document);c.is(".context-menu-list")||c.closest(".context-menu-list").length||j&&j.length||(q.pageX=e.pageX,q.pageY=e.pageY,q.data=e.data,d.on("mousemove.contextMenuShow",y.mousemove),q.timer=setTimeout(function(){q.timer=null,d.off("mousemove.contextMenuShow"),j=f,f.trigger(z.Event("contextmenu",{data:q.data,pageX:q.pageX,pageY:q.pageY}))},e.data.delay))},mousemove:function(a){q.pageX=a.pageX,q.pageY=a.pageY},mouseleave:function(a){var d=c(a.relatedTarget);if(!d.is(".context-menu-list")&&!d.closest(".context-menu-list").length){try{clearTimeout(q.timer)}catch(c){}q.timer=null}},layerClick:function(h){var u,e,p=z(this),f=p.data("contextMenuRoot"),s=h.button,m=h.pageX,d=h.pageY;h.preventDefault(),h.stopImmediatePropagation(),setTimeout(function(){var l,c="left"===f.trigger&&0===s||"right"===f.trigger&&2===s;if(document.elementFromPoint&&f.$layer){if(f.$layer.hide(),u=document.elementFromPoint(m-F.scrollLeft(),d-F.scrollTop()),u.isContentEditable){var i=document.createRange(),a=window.getSelection();i.selectNode(u),i.collapse(!0),a.removeAllRanges(),a.addRange(i)}f.$layer.show()}if(f.reposition&&c){if(document.elementFromPoint){if(f.$trigger.is(u)||f.$trigger.has(u).length){return void f.position.call(f.$trigger,f,m,d)}}else{if(e=f.$trigger.offset(),l=z(window),e.top+=l.scrollTop(),e.top<=h.pageY&&(e.left+=l.scrollLeft(),e.left<=h.pageX&&(e.bottom=e.top+f.$trigger.outerHeight(),e.bottom>=h.pageY&&(e.right=e.left+f.$trigger.outerWidth(),e.right>=h.pageX)))){return void f.position.call(f.$trigger,f,m,d)}}}u&&c&&f.$trigger.one("contextmenu:hidden",function(){z(u).contextMenu({x:m,y:d,button:s})}),null!==f&&"undefined"!=typeof f&&null!==f.$menu&&"undefined"!=typeof f.$menu&&f.$menu.trigger("contextmenu:hide")},50)},keyStop:function(c,a){a.isInput||c.preventDefault(),c.stopPropagation()},key:function(m){var h={};j&&(h=j.data("contextMenu")||{}),"undefined"==typeof h.zIndex&&(h.zIndex=0);var p=0,d=function(a){""!==a.style.zIndex?p=a.style.zIndex:null!==a.offsetParent&&"undefined"!=typeof a.offsetParent?d(a.offsetParent):null!==a.parentElement&&"undefined"!=typeof a.parentElement&&d(a.parentElement)};if(d(m.target),!(p>h.zIndex)){switch(m.keyCode){case 9:case 38:if(y.keyStop(m,h),h.isInput){if(9===m.keyCode&&m.shiftKey){return m.preventDefault(),h.$selected&&h.$selected.find("input, textarea, select").blur(),void (null!==h.$menu&&"undefined"!=typeof h.$menu&&h.$menu.trigger("prevcommand"))}if(38===m.keyCode&&"checkbox"===h.$selected.find("input, textarea, select").prop("type")){return void m.preventDefault()}}else{if(9!==m.keyCode||m.shiftKey){return void (null!==h.$menu&&"undefined"!=typeof h.$menu&&h.$menu.trigger("prevcommand"))}}break;case 40:if(y.keyStop(m,h),!h.isInput){return void (null!==h.$menu&&"undefined"!=typeof h.$menu&&h.$menu.trigger("nextcommand"))}if(9===m.keyCode){return m.preventDefault(),h.$selected&&h.$selected.find("input, textarea, select").blur(),void (null!==h.$menu&&"undefined"!=typeof h.$menu&&h.$menu.trigger("nextcommand"))}if(40===m.keyCode&&"checkbox"===h.$selected.find("input, textarea, select").prop("type")){return void m.preventDefault()}break;case 37:if(y.keyStop(m,h),h.isInput||!h.$selected||!h.$selected.length){break}if(!h.$selected.parent().hasClass("context-menu-root")){var f=h.$selected.parent().parent();return h.$selected.trigger("contextmenu:blur"),void (h.$selected=f)}break;case 39:if(y.keyStop(m,h),h.isInput||!h.$selected||!h.$selected.length){break}var l=h.$selected.data("contextMenu")||{};if(l.$menu&&h.$selected.hasClass("context-menu-submenu")){return h.$selected=null,l.$selected=null,void l.$menu.trigger("nextcommand")}break;case 35:case 36:return h.$selected&&h.$selected.find("input, textarea, select").length?void 0:((h.$selected&&h.$selected.parent()||h.$menu).children(":not(."+h.classNames.disabled+", ."+h.classNames.notSelectable+")")[36===m.keyCode?"first":"last"]().trigger("contextmenu:focus"),void m.preventDefault());case 13:if(y.keyStop(m,h),h.isInput){if(h.$selected&&!h.$selected.is("textarea, select")){return void m.preventDefault()}break}return void ("undefined"!=typeof h.$selected&&null!==h.$selected&&h.$selected.trigger("mouseup"));case 32:case 33:case 34:return void y.keyStop(m,h);case 27:return y.keyStop(m,h),void (null!==h.$menu&&"undefined"!=typeof h.$menu&&h.$menu.trigger("contextmenu:hide"));default:var o=String.fromCharCode(m.keyCode).toUpperCase();if(h.accesskeys&&h.accesskeys[o]){return void h.accesskeys[o].$node.trigger(h.accesskeys[o].$menu?"contextmenu:focus":"mouseup")}}m.stopPropagation(),"undefined"!=typeof h.$selected&&null!==h.$selected&&h.$selected.trigger(m)}},prevItem:function(f){f.stopPropagation();var u=z(this).data("contextMenu")||{},d=z(this).data("contextMenuRoot")||{};if(u.$selected){var m=u.$selected;u=u.$selected.parent().data("contextMenu")||{},u.$selected=m}for(var e=u.$menu.children(),h=u.$selected&&u.$selected.prev().length?u.$selected.prev():e.last(),p=h;h.hasClass(d.classNames.disabled)||h.hasClass(d.classNames.notSelectable)||h.is(":hidden");){if(h=h.prev().length?h.prev():e.last(),h.is(p)){return}}u.$selected&&y.itemMouseleave.call(u.$selected.get(0),f),y.itemMouseenter.call(h.get(0),f);var l=h.find("input, textarea, select");l.length&&l.focus()},nextItem:function(f){f.stopPropagation();var u=z(this).data("contextMenu")||{},d=z(this).data("contextMenuRoot")||{};if(u.$selected){var m=u.$selected;u=u.$selected.parent().data("contextMenu")||{},u.$selected=m}for(var e=u.$menu.children(),h=u.$selected&&u.$selected.next().length?u.$selected.next():e.first(),p=h;h.hasClass(d.classNames.disabled)||h.hasClass(d.classNames.notSelectable)||h.is(":hidden");){if(h=h.next().length?h.next():e.first(),h.is(p)){return}}u.$selected&&y.itemMouseleave.call(u.$selected.get(0),f),y.itemMouseenter.call(h.get(0),f);var l=h.find("input, textarea, select");l.length&&l.focus()},focusInput:function(){var d=z(this).closest(".context-menu-item"),f=d.data(),c=f.contextMenu,e=f.contextMenuRoot;e.$selected=c.$selected=d,e.isInput=c.isInput=!0},blurInput:function(){var d=z(this).closest(".context-menu-item"),f=d.data(),c=f.contextMenu,e=f.contextMenuRoot;e.isInput=c.isInput=!1},menuMouseenter:function(){var a=z(this).data().contextMenuRoot;a.hovering=!0},menuMouseleave:function(a){var c=z(this).data().contextMenuRoot;c.$layer&&c.$layer.is(a.relatedTarget)&&(c.hovering=!1)},itemMouseenter:function(e){var h=z(this),c=h.data(),f=c.contextMenu,d=c.contextMenuRoot;return d.hovering=!0,e&&d.$layer&&d.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(f.$menu?f:d).$menu.children("."+d.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),h.hasClass(d.classNames.disabled)||h.hasClass(d.classNames.notSelectable)?void (f.$selected=null):void h.trigger("contextmenu:focus")},itemMouseleave:function(e){var h=z(this),c=h.data(),f=c.contextMenu,d=c.contextMenuRoot;return d!==f&&d.$layer&&d.$layer.is(e.relatedTarget)?("undefined"!=typeof d.$selected&&null!==d.$selected&&d.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void (d.$selected=f.$selected=f.$node)):void h.trigger("contextmenu:blur")},itemClick:function(f){var p,d=z(this),l=d.data(),e=l.contextMenu,h=l.contextMenuRoot,m=l.contextMenuKey;if(!(!e.items[m]||d.is("."+h.classNames.disabled+", .context-menu-separator, ."+h.classNames.notSelectable)||d.is(".context-menu-submenu")&&h.selectableSubMenu===!1)){if(f.preventDefault(),f.stopImmediatePropagation(),z.isFunction(e.callbacks[m])&&Object.prototype.hasOwnProperty.call(e.callbacks,m)){p=e.callbacks[m]}else{if(!z.isFunction(h.callback)){return}p=h.callback}p.call(h.$trigger,m,h)!==!1?h.$menu.trigger("contextmenu:hide"):h.$menu.parent().length&&x.update.call(h.$trigger,h)}},inputClick:function(a){a.stopImmediatePropagation()},hideMenu:function(d,e){var c=z(this).data("contextMenuRoot");x.hide.call(c.$trigger,c,e&&e.force)},focusItem:function(e){e.stopPropagation();var h=z(this),c=h.data(),f=c.contextMenu,d=c.contextMenuRoot;h.hasClass(d.classNames.disabled)||h.hasClass(d.classNames.notSelectable)||(h.addClass([d.classNames.hover,d.classNames.visible].join(" ")).parent().find(".context-menu-item").not(h).removeClass(d.classNames.visible).filter("."+d.classNames.hover).trigger("contextmenu:blur"),f.$selected=d.$selected=h,f.$node&&d.positionSubmenu.call(f.$node,f.$menu))},blurItem:function(e){e.stopPropagation();var h=z(this),c=h.data(),f=c.contextMenu,d=c.contextMenuRoot;f.autoHide&&h.removeClass(d.classNames.visible),h.removeClass(d.classNames.hover),f.$selected=null}},x={show:function(f,m,d){var e=z(this),h={};if(z("#context-menu-layer").trigger("mousedown"),f.$trigger=e,f.events.show.call(e,f)===!1){return void (j=null)}if(x.update.call(e,f),f.position.call(e,f,m,d),f.zIndex){var l=f.zIndex;"function"==typeof f.zIndex&&(l=f.zIndex.call(e,f)),h.zIndex=g(e)+l}x.layer.call(f.$menu,f,h.zIndex),f.$menu.find("ul").css("zIndex",h.zIndex+1),f.$menu.css(h)[f.animation.show](f.animation.duration,function(){e.trigger("contextmenu:visible")}),e.data("contextMenu",f).addClass("context-menu-active"),z(document).off("keydown.contextMenu").on("keydown.contextMenu",y.key),f.autoHide&&z(document).on("mousemove.contextMenuAutoHide",function(a){var c=e.offset();c.right=c.left+e.outerWidth(),c.bottom=c.top+e.outerHeight(),!f.$layer||f.hovering||a.pageX>=c.left&&a.pageX<=c.right&&a.pageY>=c.top&&a.pageY<=c.bottom||setTimeout(function(){f.hovering||null===f.$menu||"undefined"==typeof f.$menu||f.$menu.trigger("contextmenu:hide")},50)})},hide:function(d,h){var c=f(this);if(d||(d=c.data("contextMenu")||{}),h||!d.events||d.events.hide.call(c,d)!==!1){if(c.removeData("contextMenu").removeClass("context-menu-active"),d.$layer){setTimeout(function(a){return function(){a.remove()}}(d.$layer),10);try{delete d.$layer}catch(f){d.$layer=null}}j=null,d.$menu.find("."+d.classNames.hover).trigger("contextmenu:blur"),d.$selected=null,d.$menu.find("."+d.classNames.visible).removeClass(d.classNames.visible),f(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),d.$menu&&d.$menu[d.animation.hide](d.animation.duration,function(){d.build&&(d.$menu.remove(),f.each(d,function(a){switch(a){case"ns":case"selector":case"build":case"trigger":return !0;default:d[a]=void 0;try{delete d[a]}catch(a){}return !0}})),setTimeout(function(){c.trigger("contextmenu:hidden")},10)})}},create:function(e,c){function d(a){var f=z("<span></span>");if(a._accesskey){a._beforeAccesskey&&f.append(document.createTextNode(a._beforeAccesskey)),z("<span></span>").addClass("context-menu-accesskey").text(a._accesskey).appendTo(f),a._afterAccesskey&&f.append(document.createTextNode(a._afterAccesskey))}else{if(a.isHtmlName){if("undefined"!=typeof a.accesskey){throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item")}f.html(a.name)}else{f.text(a.name)}}return f}"undefined"==typeof c&&(c=e),e.$menu=z('<ul class="context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:c}),z.each(["callbacks","commands","inputs"],function(f,a){e[a]={},c[a]||(c[a]={})}),c.accesskeys||(c.accesskeys={}),z.each(e.items,function(o,H){var u=z('<li class="context-menu-item"></li>').addClass(H.className||""),a=null,n=null;if(u.on("click",z.noop),"string"!=typeof H&&"cm_separator"!==H.type||(H={type:"cm_seperator"}),H.$node=u.data({contextMenu:e,contextMenuRoot:c,contextMenuKey:o}),"undefined"!=typeof H.accesskey){for(var t,h=E(H.accesskey),f=0;t=h[f];f++){if(!c.accesskeys[t]){c.accesskeys[t]=H;var G=H.name.match(new RegExp("^(.*?)("+t+")(.*)$","i"));G&&(H._beforeAccesskey=G[1],H._accesskey=G[2],H._afterAccesskey=G[3]);break}}}if(H.type&&D[H.type]){D[H.type].call(u,H,e,c),z.each([e,c],function(l,i){i.commands[o]=H,!z.isFunction(H.callback)||"undefined"!=typeof i.callbacks[o]&&"undefined"!=typeof e.type||(i.callbacks[o]=H.callback)})}else{switch("cm_seperator"===H.type?u.addClass("context-menu-separator "+c.classNames.notSelectable):"html"===H.type?u.addClass("context-menu-html "+c.classNames.notSelectable):"sub"===H.type||(H.type?(a=z("<label></label>").appendTo(u),d(H).appendTo(a),u.addClass("context-menu-input"),e.hasTypes=!0,z.each([e,c],function(l,i){i.commands[o]=H,i.inputs[o]=H})):H.items&&(H.type="sub")),H.type){case"cm_seperator":break;case"text":n=z('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+o).val(H.value||"").appendTo(a);break;case"textarea":n=z('<textarea name=""></textarea>').attr("name","context-menu-input-"+o).val(H.value||"").appendTo(a),H.height&&n.height(H.height);break;case"checkbox":n=z('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+o).val(H.value||"").prop("checked",!!H.selected).prependTo(a);break;case"radio":n=z('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+H.radio).val(H.value||"").prop("checked",!!H.selected).prependTo(a);break;case"select":n=z('<select name=""></select>').attr("name","context-menu-input-"+o).appendTo(a),H.options&&(z.each(H.options,function(i,l){z("<option></option>").val(i).text(l).appendTo(n)}),n.val(H.selected));break;case"sub":d(H).appendTo(u),H.appendTo=H.$node,u.data("contextMenu",H).addClass("context-menu-submenu"),H.callback=null,"function"==typeof H.items.then?x.processPromises(H,c,H.items):x.create(H,c);break;case"html":z(H.html).appendTo(u);break;default:z.each([e,c],function(l,i){i.commands[o]=H,!z.isFunction(H.callback)||"undefined"!=typeof i.callbacks[o]&&"undefined"!=typeof e.type||(i.callbacks[o]=H.callback)}),d(H).appendTo(u)}H.type&&"sub"!==H.type&&"html"!==H.type&&"cm_seperator"!==H.type&&(n.on("focus",y.focusInput).on("blur",y.blurInput),H.events&&n.on(H.events,e)),H.icon&&(z.isFunction(H.icon)?H._icon=H.icon.call(this,this,u,o,H):"string"==typeof H.icon&&"fa-"===H.icon.substring(0,3)?H._icon=c.classNames.icon+" "+c.classNames.icon+"--fa fa "+H.icon:H._icon=c.classNames.icon+" "+c.classNames.icon+"-"+H.icon,u.addClass(H._icon))}H.$input=n,H.$label=a,u.appendTo(e.$menu),!e.hasTypes&&z.support.eventSelectstart&&u.on("selectstart.disableTextSelect",y.abortevent)}),e.$node||e.$menu.css("display","none").addClass("context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(d,e){var c;d.css({position:"absolute",display:"block"}),d.data("width",(c=d.get(0)).getBoundingClientRect?Math.ceil(c.getBoundingClientRect().width):d.outerWidth()+1),d.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),d.find("> li > ul").each(function(){x.resize(z(this),!0)}),e||d.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return z(this).data("width")})},update:function(d,e){var c=this;"undefined"==typeof e&&(e=d,x.resize(d.$menu)),d.$menu.children().each(function(){var l,a=z(this),f=a.data("contextMenuKey"),m=d.items[f],h=z.isFunction(m.disabled)&&m.disabled.call(c,f,e)||m.disabled===!0;if(l=z.isFunction(m.visible)?m.visible.call(c,f,e):"undefined"==typeof m.visible||m.visible===!0,a[l?"show":"hide"](),a[h?"addClass":"removeClass"](e.classNames.disabled),z.isFunction(m.icon)&&(a.removeClass(m._icon),m._icon=m.icon.call(this,c,a,f,m),a.addClass(m._icon)),m.type){switch(a.find("input, select, textarea").prop("disabled",h),m.type){case"text":case"textarea":m.$input.val(m.value||"");break;case"checkbox":case"radio":m.$input.val(m.value||"").prop("checked",!!m.selected);break;case"select":m.$input.val(m.selected||"")}}m.$menu&&x.update.call(c,m,e)})},layer:function(d,e){var c=d.$layer=z('<div id="context-menu-layer"></div>').css({height:F.height(),width:F.width(),display:"block",position:"fixed","z-index":e,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",d).insertBefore(this).on("contextmenu",y.abortevent).on("mousedown",y.layerClick);return"undefined"==typeof document.body.style.maxWidth&&c.css({position:"absolute",height:z(document).height()}),c},processPromises:function(h,f,m){function c(i,a,o){"undefined"==typeof o&&l(void 0),d(i,a,o)}function l(i,a,o){"undefined"==typeof o?(o={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof o&&(o={error:{name:o}}),d(i,a,o)}function d(i,a,o){"undefined"!=typeof a.$menu&&a.$menu.is(":visible")&&(i.$node.removeClass(a.classNames.iconLoadingClass),i.items=o,x.create(i,a,!0),x.update(i,a),a.positionSubmenu.call(i.$node,i.$menu))}h.$node.addClass(f.classNames.iconLoadingClass),m.then(c.bind(this,h,f),l.bind(this,h,f))}};z.fn.contextMenu=function(d){var f=this,c=d;if(this.length>0){if("undefined"==typeof d){this.first().trigger("contextmenu")}else{if("undefined"!=typeof d.x&&"undefined"!=typeof d.y){this.first().trigger(z.Event("contextmenu",{pageX:d.x,pageY:d.y,mouseButton:d.button}))}else{if("hide"===d){var e=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;e&&e.trigger("contextmenu:hide")}else{"destroy"===d?z.contextMenu("destroy",{context:this}):z.isPlainObject(d)?(d.context=this,z.contextMenu("create",d)):d?this.removeClass("context-menu-disabled"):d||this.addClass("context-menu-disabled")}}}}else{z.each(v,function(){this.selector===f.selector&&(c.data=this,z.extend(c.data,{trigger:"demand"}))}),y.contextmenu.call(c.target,c)}return this},z.contextMenu=function(I,f){"string"!=typeof I&&(f=I,I="create"),"string"==typeof f?f={selector:f}:"undefined"==typeof f&&(f={});var G=l.extend(!0,{},A,f||{}),d=l(document),J=d,H=!1;switch(G.context&&G.context.length?(J=l(G.context).first(),G.context=J.get(0),H=!l(G.context).is(document)):G.context=document,I){case"create":if(!G.selector){throw new Error("No selector specified")}if(G.selector.match(/.context-menu-(list|item|input)($|\s)/)){throw new Error('Cannot bind to selector "'+G.selector+'" as it contains a reserved className')}if(!G.build&&(!G.items||l.isEmptyObject(G.items))){throw new Error("No Items specified")}if(B++,G.ns=".contextMenu"+B,H||(b[G.selector]=G.ns),v[G.ns]=G,G.trigger||(G.trigger="right"),!w){var h="click"===G.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",c={"contextmenu:focus.contextMenu":y.focusItem,"contextmenu:blur.contextMenu":y.blurItem,"contextmenu.contextMenu":y.abortevent,"mouseenter.contextMenu":y.itemMouseenter,"mouseleave.contextMenu":y.itemMouseleave};c[h]=y.itemClick,d.on({"contextmenu:hide.contextMenu":y.hideMenu,"prevcommand.contextMenu":y.prevItem,"nextcommand.contextMenu":y.nextItem,"contextmenu.contextMenu":y.abortevent,"mouseenter.contextMenu":y.menuMouseenter,"mouseleave.contextMenu":y.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",y.inputClick).on(c,".context-menu-item"),w=!0}switch(J.on("contextmenu"+G.ns,G.selector,G,y.contextmenu),H&&J.on("remove"+G.ns,function(){l(this).contextMenu("destroy")}),G.trigger){case"hover":J.on("mouseenter"+G.ns,G.selector,G,y.mouseenter).on("mouseleave"+G.ns,G.selector,G,y.mouseleave);break;case"left":J.on("click"+G.ns,G.selector,G,y.click)}G.build||x.create(G);break;case"destroy":var r;if(H){var i=G.context;l.each(v,function(a,o){if(!o){return !0}if(!m(i).is(o.selector)){return !0}r=m(".context-menu-list").filter(":visible"),r.length&&r.data().contextMenuRoot.$trigger.is(m(o.context).find(o.selector))&&r.trigger("contextmenu:hide",{force:!0});try{v[o.ns].$menu&&v[o.ns].$menu.remove(),delete v[o.ns]}catch(m){v[o.ns]=null}return m(o.context).off(o.ns),!0})}else{if(G.selector){if(b[G.selector]){r=l(".context-menu-list").filter(":visible"),r.length&&r.data().contextMenuRoot.$trigger.is(G.selector)&&r.trigger("contextmenu:hide",{force:!0});try{v[b[G.selector]].$menu&&v[b[G.selector]].$menu.remove(),delete v[b[G.selector]]}catch(l){v[b[G.selector]]=null}d.off(b[G.selector])}}else{d.off(".contextMenu .contextMenuAutoHide"),l.each(v,function(a,e){l(e.context).off(e.ns)}),b={},v={},B=0,w=!1,l("#context-menu-layer, .context-menu-list").remove()}}break;case"html5":(!l.support.htmlCommand&&!l.support.htmlMenuitem||"boolean"==typeof f&&f)&&l('menu[type="context"]').each(function(){this.id&&l.contextMenu({selector:"[contextmenu="+this.id+"]",items:l.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+I+'"')}return this},z.contextMenu.setInputValues=function(a,c){"undefined"==typeof c&&(c={}),z.each(a.inputs,function(f,d){switch(d.type){case"text":case"textarea":d.value=c[f]||"";break;case"checkbox":d.selected=!!c[f];break;case"radio":d.selected=(c[d.radio]||"")===d.value;break;case"select":d.selected=c[f]||""}})},z.contextMenu.getInputValues=function(a,c){return"undefined"==typeof c&&(c={}),z.each(a.inputs,function(f,d){switch(d.type){case"text":case"textarea":case"select":c[f]=d.$input.val();break;case"checkbox":c[f]=d.$input.prop("checked");break;case"radio":d.$input.prop("checked")&&(c[d.radio]=d.value)}}),c},z.contextMenu.fromMenu=function(a){var d=z(a),c={};return C(c,d.children()),c},z.contextMenu.defaults=A,z.contextMenu.types=D,z.contextMenu.handle=y,z.contextMenu.op=x,z.contextMenu.menus=v});$(function(){$.contextMenu({selector:"#layout-body",items:{cms:{name:nameTranslate("cms"),callback:function(b,a){backendRedirect("cms")}},media:{name:nameTranslate("media"),callback:function(b,a){backendRedirect("cms/media")}},line1:"---------",settings:{name:nameTranslate("settings"),callback:function(b,a){backendRedirect("system/settings")}},system:{name:nameTranslate("system"),callback:function(b,a){backendRedirect("system/updates")}},line2:"---------",webpage:{name:nameTranslate("webpage"),callback:function(b,a){window.open($(".mainmenu-preview a").attr("href"),"_blank")}},signout:{name:nameTranslate("signout"),callback:function(b,a){backendRedirect("backend/auth/signout")}}}})});function nameTranslate(g){var f=$("html").attr("lang");var e={cms:"CMS",media:"Medien",settings:"Einstellungen",system:"System",webpage:"Website",signout:"Ausloggen"};var b={cms:"CMS",media:"Media",settings:"Settings",system:"System",webpage:"Webpage",signout:"Sign out"};var d={cms:"CMS",media:"Medios",settings:"Ajustes",system:"Sistema",webpage:"Página web",signout:"Desconectar"};var a={cms:"Testreszabás",media:"Média",settings:"Beállítások",system:"Gépház",webpage:"Weboldal",signout:"Kijelentkezés"};var c={cms:"CMS",media:"Medya",settings:"Ayarlar",system:"Sistem",webpage:"Internet sayfası",signout:"Çıkış"};if(f=="de"){return e[g]}if(f=="es"){return d[g]}if(f=="hu"){return a[g]}if(f=="tr"){return c[g]}return b[g]}function backendRedirect(a){location.href=location.origin+$('meta[name="backend-base-path"]').attr("content")+"/"+a};