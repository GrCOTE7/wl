(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){a.ui=a.ui||{},a.ui.version="1.12.1",function(){function p(d,h,c){return[parseFloat(d[0])*(w.test(d[0])?h/100:1),parseFloat(d[1])*(w.test(d[1])?c/100:1)]}function k(d,c){return parseInt(a.css(d,c),10)||0}function x(d){var c=d[0];return 9===c.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}var g,f=Math.max,v=Math.abs,b=/left|center|right/,j=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,t=/^\w+/,w=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==g){return g}var h,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=d.children()[0];return a("body").append(d),h=l.offsetWidth,d.css("overflow","scroll"),c=l.offsetWidth,h===c&&(c=d[0].clientWidth),d.remove(),g=h-c},getScrollInfo:function(h){var c=h.isWindow||h.isDocument?"":h.element.css("overflow-x"),d=h.isWindow||h.isDocument?"":h.element.css("overflow-y"),r="scroll"===c||"auto"===c&&h.width<h.element[0].scrollWidth,l="scroll"===d||"auto"===d&&h.height<h.element[0].scrollHeight;return{width:l?a.position.scrollbarWidth():0,height:r?a.position.scrollbarWidth():0}},getWithinInfo:function(h){var c=a(h||window),d=a.isWindow(c[0]),r=!!c[0]&&9===c[0].nodeType,l=!d&&!r;return{element:c,isWindow:d,isDocument:r,offset:l?a(h).offset():{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}},a.fn.position=function(d){if(!d||!d.of){return q.apply(this,arguments)}d=a.extend({},d);var B,c,l,i,e,z,A=a(d.of),r=a.position.getWithinInfo(d.within),o=a.position.getScrollInfo(r),s=(d.collision||"flip").split(" "),h={};return z=x(A),A[0].preventDefault&&(d.at="left top"),c=z.width,l=z.height,i=z.offset,e=a.extend({},i),a.each(["my","at"],function(){var u,y,n=(d[this]||"").split(" ");1===n.length&&(n=b.test(n[0])?n.concat(["center"]):j.test(n[0])?["center"].concat(n):["center","center"]),n[0]=b.test(n[0])?n[0]:"center",n[1]=j.test(n[1])?n[1]:"center",u=m.exec(n[0]),y=m.exec(n[1]),h[this]=[u?u[0]:0,y?y[0]:0],d[this]=[t.exec(n[0])[0],t.exec(n[1])[0]]}),1===s.length&&(s[1]=s[0]),"right"===d.at[0]?e.left+=c:"center"===d.at[0]&&(e.left+=c/2),"bottom"===d.at[1]?e.top+=l:"center"===d.at[1]&&(e.top+=l/2),B=p(h.at,c,l),e.left+=B[0],e.top+=B[1],this.each(function(){var L,u,E=a(this),G=E.outerWidth(),I=E.outerHeight(),H=k(this,"marginLeft"),K=k(this,"marginTop"),J=G+H+k(this,"marginRight")+o.width,y=I+K+k(this,"marginBottom")+o.height,n=a.extend({},e),F=p(h.my,E.outerWidth(),E.outerHeight());"right"===d.my[0]?n.left-=G:"center"===d.my[0]&&(n.left-=G/2),"bottom"===d.my[1]?n.top-=I:"center"===d.my[1]&&(n.top-=I/2),n.left+=F[0],n.top+=F[1],L={marginLeft:H,marginTop:K},a.each(["left","top"],function(D,C){a.ui.position[s[D]]&&a.ui.position[s[D]][C](n,{targetWidth:c,targetHeight:l,elemWidth:G,elemHeight:I,collisionPosition:L,collisionWidth:J,collisionHeight:y,offset:[B[0]+F[0],B[1]+F[1]],my:d.my,at:d.at,within:r,elem:E})}),d.using&&(u=function(M){var P=i.left-n.left,D=P+c-G,N=i.top-n.top,O=N+l-I,C={target:{element:A,left:i.left,top:i.top,width:c,height:l},element:{element:E,left:n.left,top:n.top,width:G,height:I},horizontal:0>D?"left":P>0?"right":"center",vertical:0>O?"top":N>0?"bottom":"middle"};G>c&&c>v(P+D)&&(C.horizontal="center"),I>l&&l>v(N+O)&&(C.vertical="middle"),C.important=f(v(P),v(D))>f(v(N),v(O))?"horizontal":"vertical",d.using.call(this,M,C)}),E.offset(a.extend(n,{using:u}))})},a.ui.position={fit:{left:function(B,z){var u,C=z.within,d=C.isWindow?C.scrollLeft:C.offset.left,A=C.width,c=B.left-z.collisionPosition.marginLeft,o=d-c,y=c+z.collisionWidth-A-d;z.collisionWidth>A?o>0&&0>=y?(u=B.left+o+z.collisionWidth-A-d,B.left+=o-u):B.left=y>0&&0>=o?d:o>y?d+A-z.collisionWidth:d:o>0?B.left+=o:y>0?B.left-=y:B.left=f(B.left-c,B.left)},top:function(B,z){var u,C=z.within,d=C.isWindow?C.scrollTop:C.offset.top,A=z.within.height,c=B.top-z.collisionPosition.marginTop,o=d-c,y=c+z.collisionHeight-A-d;z.collisionHeight>A?o>0&&0>=y?(u=B.top+o+z.collisionHeight-A-d,B.top+=o-u):B.top=y>0&&0>=o?d:o>y?d+A-z.collisionHeight:d:o>0?B.top+=o:y>0?B.top-=y:B.top=f(B.top-c,B.top)}},flip:{left:function(K,G){var D,L,B=G.within,A=B.offset.left+B.scrollLeft,y=B.width,C=B.isWindow?B.scrollLeft:B.offset.left,E=K.left-G.collisionPosition.marginLeft,I=E-C,J=E+G.collisionWidth-y-C,H="left"===G.my[0]?-G.elemWidth:"right"===G.my[0]?G.elemWidth:0,z="left"===G.at[0]?G.targetWidth:"right"===G.at[0]?-G.targetWidth:0,F=-2*G.offset[0];0>I?(D=K.left+H+z+F+G.collisionWidth-y-A,(0>D||v(I)>D)&&(K.left+=H+z+F)):J>0&&(L=K.left-G.collisionPosition.marginLeft+H+z+F-C,(L>0||J>v(L))&&(K.left+=H+z+F))},top:function(L,H){var D,M,B=H.within,A=B.offset.top+B.scrollTop,y=B.height,C=B.isWindow?B.scrollTop:B.offset.top,E=L.top-H.collisionPosition.marginTop,J=E-C,K=E+H.collisionHeight-y-C,I="top"===H.my[1],z=I?-H.elemHeight:"bottom"===H.my[1]?H.elemHeight:0,G="top"===H.at[1]?H.targetHeight:"bottom"===H.at[1]?-H.targetHeight:0,F=-2*H.offset[1];0>J?(M=L.top+z+G+F+H.collisionHeight-y-A,(0>M||v(J)>M)&&(L.top+=z+G+F)):K>0&&(D=L.top-H.collisionPosition.marginTop+z+G+F-C,(D>0||K>v(D))&&(L.top+=z+G+F))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}}}(),a.ui.position});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(z){function E(f){for(var d,i=f.split(/\s+/),c=[],h=0;d=i[h];h++){d=d.charAt(0).toUpperCase(),c.push(d)}return c}function k(a){return a.id&&z('label[for="'+a.id+'"]').val()||a.name}function C(a,d,c){return c||(c=0),d.each(function(){var m,f,n=z(this),e=this,h=this.nodeName.toLowerCase();switch("label"===h&&n.find("input, textarea, select").length&&(m=n.text(),h=(e=(n=n.children().first()).get(0)).nodeName.toLowerCase()),h){case"menu":f={name:n.attr("label"),items:{}},c=C(f.items,n.children(),c);break;case"a":case"button":f={name:n.text(),disabled:!!n.attr("disabled"),callback:function(){n.get(0).click()}};break;case"menuitem":case"command":switch(n.attr("type")){case void 0:case"command":case"menuitem":f={name:n.attr("label"),disabled:!!n.attr("disabled"),icon:n.attr("icon"),callback:function(){n.get(0).click()}};break;case"checkbox":f={type:"checkbox",disabled:!!n.attr("disabled"),name:n.attr("label"),selected:!!n.attr("checked")};break;case"radio":f={type:"radio",disabled:!!n.attr("disabled"),name:n.attr("label"),radio:n.attr("radiogroup"),value:n.attr("id"),selected:!!n.attr("checked")};break;default:f=void 0}break;case"hr":f="-------";break;case"input":switch(n.attr("type")){case"text":f={type:"text",name:m||k(e),disabled:!!n.attr("disabled"),value:n.val()};break;case"checkbox":f={type:"checkbox",name:m||k(e),disabled:!!n.attr("disabled"),selected:!!n.attr("checked")};break;case"radio":f={type:"radio",name:m||k(e),disabled:!!n.attr("disabled"),radio:!!n.attr("name"),value:n.val(),selected:!!n.attr("checked")};break;default:f=void 0}break;case"select":f={type:"select",name:m||k(e),disabled:!!n.attr("disabled"),selected:n.val(),options:{}},n.children().each(function(){f.options[this.value]=z(this).text()});break;case"textarea":f={type:"textarea",name:m||k(e),disabled:!!n.attr("disabled"),value:n.val()};break;case"label":break;default:f={type:"html",html:n.clone(!0)}}f&&(a["key"+ ++c]=f)}),c}z.support.htmlMenuitem="HTMLMenuItemElement" in window,z.support.htmlCommand="HTMLCommandElement" in window,z.support.eventSelectstart="onselectstart" in document.documentElement,z.ui&&z.widget||(z.cleanData=function(a){return function(i){var c,h,d;for(d=0;null!=i[d];d++){h=i[d];try{(c=f._data(h,"events"))&&c.remove&&f(h).triggerHandler("remove")}catch(f){}}a(i)}}(z.cleanData));var j=null,F=!1,w=z(window),B=0,v={},b={},D={},A={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(a){if(z.ui&&z.ui.position){a.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none")}else{var c=this.offset();c.top+=this.outerHeight(),c.left+=this.outerWidth()/2-a.outerWidth()/2,a.css(c)}},position:function(m,G,h){var u;if(G||h){if("maintain"===G&&"maintain"===h){u=m.$menu.position()}else{var f=m.$menu.offsetParent().offset();u={top:h-f.top,left:G-f.left}}var H=w.scrollTop()+w.height(),p=w.scrollLeft()+w.width(),i=m.$menu.outerHeight(),d=m.$menu.outerWidth();u.top+i>H&&(u.top-=i),u.top<0&&(u.top=0),u.left+d>p&&(u.left-=d),u.left<0&&(u.left=0),m.$menu.css(u)}else{m.determinePosition.call(this,m.$menu)}},positionSubmenu:function(a){if(void 0!==a){if(z.ui&&z.ui.position){a.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","")}else{var c={top:-9,left:this.outerWidth()-5};a.css(c)}}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:z.noop,hide:z.noop},callback:null,items:{}},q={timer:null,pageX:null,pageY:null},g=function(c){for(var a=0,d=c;;){if(a=Math.max(a,parseInt(d.css("z-index"),10)||0),!(d=d.parent())||!d.length||"html body".indexOf(d.prop("nodeName").toLowerCase())>-1){break}}return a},y={abortevent:function(a){a.preventDefault(),a.stopImmediatePropagation()},contextmenu:function(e){var h=z(this);if("right"===e.data.trigger&&(e.preventDefault(),e.stopImmediatePropagation()),!("right"!==e.data.trigger&&"demand"!==e.data.trigger&&e.originalEvent||!(void 0===e.mouseButton||!e.data||"left"===e.data.trigger&&0===e.mouseButton||"right"===e.data.trigger&&2===e.mouseButton)||h.hasClass("context-menu-active")||h.hasClass("context-menu-disabled"))){if(j=h,e.data.build){var c=e.data.build(j,e);if(!1===c){return}if(e.data=z.extend(!0,{},A,e.data,c||{}),!e.data.items||z.isEmptyObject(e.data.items)){throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified")}e.data.$trigger=j,x.create(e.data)}var f=!1;for(var d in e.data.items){if(e.data.items.hasOwnProperty(d)){(z.isFunction(e.data.items[d].visible)?e.data.items[d].visible.call(z(e.currentTarget),d,e.data):void 0===e.data.items[d]||!e.data.items[d].visible||!0===e.data.items[d].visible)&&(f=!0)}}f&&x.show.call(h,e.data,e.pageX,e.pageY)}},click:function(a){a.preventDefault(),a.stopImmediatePropagation(),z(this).trigger(z.Event("contextmenu",{data:a.data,pageX:a.pageX,pageY:a.pageY}))},mousedown:function(a){var c=z(this);j&&j.length&&!j.is(c)&&j.data("contextMenu").$menu.trigger("contextmenu:hide"),2===a.button&&(j=c.data("contextMenuActive",!0))},mouseup:function(a){var c=z(this);c.data("contextMenuActive")&&j&&j.length&&j.is(c)&&!c.hasClass("context-menu-disabled")&&(a.preventDefault(),a.stopImmediatePropagation(),j=c,c.trigger(z.Event("contextmenu",{data:a.data,pageX:a.pageX,pageY:a.pageY}))),c.removeData("contextMenuActive")},mouseenter:function(d){var f=z(this),c=z(d.relatedTarget),e=z(document);c.is(".context-menu-list")||c.closest(".context-menu-list").length||j&&j.length||(q.pageX=d.pageX,q.pageY=d.pageY,q.data=d.data,e.on("mousemove.contextMenuShow",y.mousemove),q.timer=setTimeout(function(){q.timer=null,e.off("mousemove.contextMenuShow"),j=f,f.trigger(z.Event("contextmenu",{data:q.data,pageX:q.pageX,pageY:q.pageY}))},d.data.delay))},mousemove:function(a){q.pageX=a.pageX,q.pageY=a.pageY},mouseleave:function(a){var c=z(a.relatedTarget);if(!c.is(".context-menu-list")&&!c.closest(".context-menu-list").length){try{clearTimeout(q.timer)}catch(a){}q.timer=null}},layerClick:function(f){var p,e,i=z(this).data("contextMenuRoot"),h=f.button,m=f.pageX,d=f.pageY;f.preventDefault(),setTimeout(function(){var l,c="left"===i.trigger&&0===h||"right"===i.trigger&&2===h;if(document.elementFromPoint&&i.$layer){if(i.$layer.hide(),(p=document.elementFromPoint(m-w.scrollLeft(),d-w.scrollTop())).isContentEditable){var n=document.createRange(),a=window.getSelection();n.selectNode(p),n.collapse(!0),a.removeAllRanges(),a.addRange(n)}z(p).trigger(f),i.$layer.show()}if(i.reposition&&c){if(document.elementFromPoint){if(i.$trigger.is(p)){return void i.position.call(i.$trigger,i,m,d)}}else{if(e=i.$trigger.offset(),l=z(window),e.top+=l.scrollTop(),e.top<=f.pageY&&(e.left+=l.scrollLeft(),e.left<=f.pageX&&(e.bottom=e.top+i.$trigger.outerHeight(),e.bottom>=f.pageY&&(e.right=e.left+i.$trigger.outerWidth(),e.right>=f.pageX)))){return void i.position.call(i.$trigger,i,m,d)}}}p&&c&&i.$trigger.one("contextmenu:hidden",function(){z(p).contextMenu({x:m,y:d,button:h})}),null!==i&&void 0!==i&&null!==i.$menu&&void 0!==i.$menu&&i.$menu.trigger("contextmenu:hide")},50)},keyStop:function(c,a){a.isInput||c.preventDefault(),c.stopPropagation()},key:function(m){var h={};j&&(h=j.data("contextMenu")||{}),void 0===h.zIndex&&(h.zIndex=0);var p=0,d=function(a){""!==a.style.zIndex?p=a.style.zIndex:null!==a.offsetParent&&void 0!==a.offsetParent?d(a.offsetParent):null!==a.parentElement&&void 0!==a.parentElement&&d(a.parentElement)};if(d(m.target),!(h.$menu&&parseInt(p,10)>parseInt(h.$menu.css("zIndex"),10))){switch(m.keyCode){case 9:case 38:if(y.keyStop(m,h),h.isInput){if(9===m.keyCode&&m.shiftKey){return m.preventDefault(),h.$selected&&h.$selected.find("input, textarea, select").blur(),void (null!==h.$menu&&void 0!==h.$menu&&h.$menu.trigger("prevcommand"))}if(38===m.keyCode&&"checkbox"===h.$selected.find("input, textarea, select").prop("type")){return void m.preventDefault()}}else{if(9!==m.keyCode||m.shiftKey){return void (null!==h.$menu&&void 0!==h.$menu&&h.$menu.trigger("prevcommand"))}}break;case 40:if(y.keyStop(m,h),!h.isInput){return void (null!==h.$menu&&void 0!==h.$menu&&h.$menu.trigger("nextcommand"))}if(9===m.keyCode){return m.preventDefault(),h.$selected&&h.$selected.find("input, textarea, select").blur(),void (null!==h.$menu&&void 0!==h.$menu&&h.$menu.trigger("nextcommand"))}if(40===m.keyCode&&"checkbox"===h.$selected.find("input, textarea, select").prop("type")){return void m.preventDefault()}break;case 37:if(y.keyStop(m,h),h.isInput||!h.$selected||!h.$selected.length){break}if(!h.$selected.parent().hasClass("context-menu-root")){var l=h.$selected.parent().parent();return h.$selected.trigger("contextmenu:blur"),void (h.$selected=l)}break;case 39:if(y.keyStop(m,h),h.isInput||!h.$selected||!h.$selected.length){break}var f=h.$selected.data("contextMenu")||{};if(f.$menu&&h.$selected.hasClass("context-menu-submenu")){return h.$selected=null,f.$selected=null,void f.$menu.trigger("nextcommand")}break;case 35:case 36:return h.$selected&&h.$selected.find("input, textarea, select").length?void 0:((h.$selected&&h.$selected.parent()||h.$menu).children(":not(."+h.classNames.disabled+", ."+h.classNames.notSelectable+")")[36===m.keyCode?"first":"last"]().trigger("contextmenu:focus"),void m.preventDefault());case 13:if(y.keyStop(m,h),h.isInput){if(h.$selected&&!h.$selected.is("textarea, select")){return void m.preventDefault()}break}return void (void 0!==h.$selected&&null!==h.$selected&&h.$selected.trigger("mouseup"));case 32:case 33:case 34:return void y.keyStop(m,h);case 27:return y.keyStop(m,h),void (null!==h.$menu&&void 0!==h.$menu&&h.$menu.trigger("contextmenu:hide"));default:var o=String.fromCharCode(m.keyCode).toUpperCase();if(h.accesskeys&&h.accesskeys[o]){return void h.accesskeys[o].$node.trigger(h.accesskeys[o].$menu?"contextmenu:focus":"mouseup")}}m.stopPropagation(),void 0!==h.$selected&&null!==h.$selected&&h.$selected.trigger(m)}},prevItem:function(h){h.stopPropagation();var u=z(this).data("contextMenu")||{},e=z(this).data("contextMenuRoot")||{};if(u.$selected){var p=u.$selected;(u=u.$selected.parent().data("contextMenu")||{}).$selected=p}for(var m=u.$menu.children(),f=u.$selected&&u.$selected.prev().length?u.$selected.prev():m.last(),r=f;f.hasClass(e.classNames.disabled)||f.hasClass(e.classNames.notSelectable)||f.is(":hidden");){if((f=f.prev().length?f.prev():m.last()).is(r)){return}}u.$selected&&y.itemMouseleave.call(u.$selected.get(0),h),y.itemMouseenter.call(f.get(0),h);var d=f.find("input, textarea, select");d.length&&d.focus()},nextItem:function(h){h.stopPropagation();var u=z(this).data("contextMenu")||{},e=z(this).data("contextMenuRoot")||{};if(u.$selected){var p=u.$selected;(u=u.$selected.parent().data("contextMenu")||{}).$selected=p}for(var m=u.$menu.children(),f=u.$selected&&u.$selected.next().length?u.$selected.next():m.first(),r=f;f.hasClass(e.classNames.disabled)||f.hasClass(e.classNames.notSelectable)||f.is(":hidden");){if((f=f.next().length?f.next():m.first()).is(r)){return}}u.$selected&&y.itemMouseleave.call(u.$selected.get(0),h),y.itemMouseenter.call(f.get(0),h);var d=f.find("input, textarea, select");d.length&&d.focus()},focusInput:function(){var d=z(this).closest(".context-menu-item"),f=d.data(),c=f.contextMenu,e=f.contextMenuRoot;e.$selected=c.$selected=d,e.isInput=c.isInput=!0},blurInput:function(){var a=z(this).closest(".context-menu-item").data(),c=a.contextMenu;a.contextMenuRoot.isInput=c.isInput=!1},menuMouseenter:function(){z(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(a){var c=z(this).data().contextMenuRoot;c.$layer&&c.$layer.is(a.relatedTarget)&&(c.hovering=!1)},itemMouseenter:function(d){var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;e.hovering=!0,d&&e.$layer&&e.$layer.is(d.relatedTarget)&&(d.preventDefault(),d.stopImmediatePropagation()),(f.$menu?f:e).$menu.children("."+e.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),h.hasClass(e.classNames.disabled)||h.hasClass(e.classNames.notSelectable)?f.$selected=null:h.trigger("contextmenu:focus")},itemMouseleave:function(d){var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;if(e!==f&&e.$layer&&e.$layer.is(d.relatedTarget)){return void 0!==e.$selected&&null!==e.$selected&&e.$selected.trigger("contextmenu:blur"),d.preventDefault(),d.stopImmediatePropagation(),void (e.$selected=f.$selected=f.$node)}f&&f.$menu&&f.$menu.hasClass("context-menu-visible")||h.trigger("contextmenu:blur")},itemClick:function(f){var p,d=z(this),l=d.data(),h=l.contextMenu,e=l.contextMenuRoot,m=l.contextMenuKey;if(!(!h.items[m]||d.is("."+e.classNames.disabled+", .context-menu-separator, ."+e.classNames.notSelectable)||d.is(".context-menu-submenu")&&!1===e.selectableSubMenu)){if(f.preventDefault(),f.stopImmediatePropagation(),z.isFunction(h.callbacks[m])&&Object.prototype.hasOwnProperty.call(h.callbacks,m)){p=h.callbacks[m]}else{if(!z.isFunction(e.callback)){return}p=e.callback}!1!==p.call(e.$trigger,m,e,f)?e.$menu.trigger("contextmenu:hide"):e.$menu.parent().length&&x.update.call(e.$trigger,e)}},inputClick:function(a){a.stopImmediatePropagation()},hideMenu:function(d,e){var c=z(this).data("contextMenuRoot");x.hide.call(c.$trigger,c,e&&e.force)},focusItem:function(d){d.stopPropagation();var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;h.hasClass(e.classNames.disabled)||h.hasClass(e.classNames.notSelectable)||(h.addClass([e.classNames.hover,e.classNames.visible].join(" ")).parent().find(".context-menu-item").not(h).removeClass(e.classNames.visible).filter("."+e.classNames.hover).trigger("contextmenu:blur"),f.$selected=e.$selected=h,f&&f.$node&&f.$node.hasClass("context-menu-submenu")&&f.$node.addClass(e.classNames.hover),f.$node&&e.positionSubmenu.call(f.$node,f.$menu))},blurItem:function(d){d.stopPropagation();var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;f.autoHide&&h.removeClass(e.classNames.visible),h.removeClass(e.classNames.hover),f.$selected=null}},x={show:function(f,m,d){var h=z(this),e={};if(z("#context-menu-layer").trigger("mousedown"),f.$trigger=h,!1!==f.events.show.call(h,f)){if(x.update.call(h,f),f.position.call(h,f,m,d),f.zIndex){var l=f.zIndex;"function"==typeof f.zIndex&&(l=f.zIndex.call(h,f)),e.zIndex=g(h)+l}x.layer.call(f.$menu,f,e.zIndex),f.$menu.find("ul").css("zIndex",e.zIndex+1),f.$menu.css(e)[f.animation.show](f.animation.duration,function(){h.trigger("contextmenu:visible")}),h.data("contextMenu",f).addClass("context-menu-active"),z(document).off("keydown.contextMenu").on("keydown.contextMenu",y.key),f.autoHide&&z(document).on("mousemove.contextMenuAutoHide",function(a){var c=h.offset();c.right=c.left+h.outerWidth(),c.bottom=c.top+h.outerHeight(),!f.$layer||f.hovering||a.pageX>=c.left&&a.pageX<=c.right&&a.pageY>=c.top&&a.pageY<=c.bottom||setTimeout(function(){f.hovering||null===f.$menu||void 0===f.$menu||f.$menu.trigger("contextmenu:hide")},50)})}else{j=null}},hide:function(d,h){var c=f(this);if(d||(d=c.data("contextMenu")||{}),h||!d.events||!1!==d.events.hide.call(c,d)){if(c.removeData("contextMenu").removeClass("context-menu-active"),d.$layer){setTimeout(function(a){return function(){a.remove()}}(d.$layer),10);try{delete d.$layer}catch(f){d.$layer=null}}j=null,d.$menu.find("."+d.classNames.hover).trigger("contextmenu:blur"),d.$selected=null,d.$menu.find("."+d.classNames.visible).removeClass(d.classNames.visible),f(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),d.$menu&&d.$menu[d.animation.hide](d.animation.duration,function(){d.build&&(d.$menu.remove(),f.each(d,function(a){switch(a){case"ns":case"selector":case"build":case"trigger":return !0;default:d[a]=void 0;try{delete d[a]}catch(a){}return !0}})),setTimeout(function(){c.trigger("contextmenu:hidden")},10)})}},create:function(e,c){function d(a){var f=z("<span></span>");if(a._accesskey){a._beforeAccesskey&&f.append(document.createTextNode(a._beforeAccesskey)),z("<span></span>").addClass("context-menu-accesskey").text(a._accesskey).appendTo(f),a._afterAccesskey&&f.append(document.createTextNode(a._afterAccesskey))}else{if(a.isHtmlName){if(void 0!==a.accesskey){throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item")}f.html(a.name)}else{f.text(a.name)}}return f}void 0===c&&(c=e),e.$menu=z('<ul class="context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:c}),z.each(["callbacks","commands","inputs"],function(f,a){e[a]={},c[a]||(c[a]={})}),c.accesskeys||(c.accesskeys={}),z.each(e.items,function(H,o){var u=z('<li class="context-menu-item"></li>').addClass(o.className||""),n=null,a=null;if(u.on("click",z.noop),"string"!=typeof o&&"cm_separator"!==o.type||(o={type:"cm_seperator"}),o.$node=u.data({contextMenu:e,contextMenuRoot:c,contextMenuKey:H}),void 0!==o.accesskey){for(var t,h=E(o.accesskey),f=0;t=h[f];f++){if(!c.accesskeys[t]){c.accesskeys[t]=o;var G=o.name.match(new RegExp("^(.*?)("+t+")(.*)$","i"));G&&(o._beforeAccesskey=G[1],o._accesskey=G[2],o._afterAccesskey=G[3]);break}}}if(o.type&&D[o.type]){D[o.type].call(u,o,e,c),z.each([e,c],function(l,i){i.commands[H]=o,!z.isFunction(o.callback)||void 0!==i.callbacks[H]&&void 0!==e.type||(i.callbacks[H]=o.callback)})}else{switch("cm_seperator"===o.type?u.addClass("context-menu-separator "+c.classNames.notSelectable):"html"===o.type?u.addClass("context-menu-html "+c.classNames.notSelectable):"sub"===o.type||(o.type?(n=z("<label></label>").appendTo(u),d(o).appendTo(n),u.addClass("context-menu-input"),e.hasTypes=!0,z.each([e,c],function(l,i){i.commands[H]=o,i.inputs[H]=o})):o.items&&(o.type="sub")),o.type){case"cm_seperator":break;case"text":a=z('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+H).val(o.value||"").appendTo(n);break;case"textarea":a=z('<textarea name=""></textarea>').attr("name","context-menu-input-"+H).val(o.value||"").appendTo(n),o.height&&a.height(o.height);break;case"checkbox":a=z('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+H).val(o.value||"").prop("checked",!!o.selected).prependTo(n);break;case"radio":a=z('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(n);break;case"select":a=z('<select name=""></select>').attr("name","context-menu-input-"+H).appendTo(n),o.options&&(z.each(o.options,function(i,l){z("<option></option>").val(i).text(l).appendTo(a)}),a.val(o.selected));break;case"sub":d(o).appendTo(u),o.appendTo=o.$node,u.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null,"function"==typeof o.items.then?x.processPromises(o,c,o.items):x.create(o,c);break;case"html":z(o.html).appendTo(u);break;default:z.each([e,c],function(l,i){i.commands[H]=o,!z.isFunction(o.callback)||void 0!==i.callbacks[H]&&void 0!==e.type||(i.callbacks[H]=o.callback)}),d(o).appendTo(u)}o.type&&"sub"!==o.type&&"html"!==o.type&&"cm_seperator"!==o.type&&(a.on("focus",y.focusInput).on("blur",y.blurInput),o.events&&a.on(o.events,e)),o.icon&&(z.isFunction(o.icon)?o._icon=o.icon.call(this,this,u,H,o):"string"==typeof o.icon&&"fa-"===o.icon.substring(0,3)?o._icon=c.classNames.icon+" "+c.classNames.icon+"--fa fa "+o.icon:o._icon=c.classNames.icon+" "+c.classNames.icon+"-"+o.icon,u.addClass(o._icon))}o.$input=a,o.$label=n,u.appendTo(e.$menu),!e.hasTypes&&z.support.eventSelectstart&&u.on("selectstart.disableTextSelect",y.abortevent)}),e.$node||e.$menu.css("display","none").addClass("context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(d,e){var c;d.css({position:"absolute",display:"block"}),d.data("width",(c=d.get(0)).getBoundingClientRect?Math.ceil(c.getBoundingClientRect().width):d.outerWidth()+1),d.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),d.find("> li > ul").each(function(){x.resize(z(this),!0)}),e||d.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return z(this).data("width")})},update:function(d,e){var c=this;void 0===e&&(e=d,x.resize(d.$menu)),d.$menu.children().each(function(){var m,h=z(this),f=h.data("contextMenuKey"),n=d.items[f],a=z.isFunction(n.disabled)&&n.disabled.call(c,f,e)||!0===n.disabled;if(m=z.isFunction(n.visible)?n.visible.call(c,f,e):void 0===n.visible||!0===n.visible,h[m?"show":"hide"](),h[a?"addClass":"removeClass"](e.classNames.disabled),z.isFunction(n.icon)&&(h.removeClass(n._icon),n._icon=n.icon.call(this,c,h,f,n),h.addClass(n._icon)),n.type){switch(h.find("input, select, textarea").prop("disabled",a),n.type){case"text":case"textarea":n.$input.val(n.value||"");break;case"checkbox":case"radio":n.$input.val(n.value||"").prop("checked",!!n.selected);break;case"select":n.$input.val((0===n.selected?"0":n.selected)||"")}}n.$menu&&x.update.call(c,n,e)})},layer:function(d,e){var c=d.$layer=z('<div id="context-menu-layer"></div>').css({height:w.height(),width:w.width(),display:"block",position:"fixed","z-index":e,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",d).insertBefore(this).on("contextmenu",y.abortevent).on("mousedown",y.layerClick);return void 0===document.body.style.maxWidth&&c.css({position:"absolute",height:z(document).height()}),c},processPromises:function(f,d,i){function c(l,a,m){void 0===m?(m={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof m&&(m={error:{name:m}}),h(l,a,m)}function h(l,a,m){void 0!==a.$menu&&a.$menu.is(":visible")&&(l.$node.removeClass(a.classNames.iconLoadingClass),l.items=m,x.create(l,a,!0),x.update(l,a),a.positionSubmenu.call(l.$node,l.$menu))}f.$node.addClass(d.classNames.iconLoadingClass),i.then(function(l,a,m){void 0===m&&c(void 0),h(l,a,m)}.bind(this,f,d),c.bind(this,f,d))}};z.fn.contextMenu=function(d){var f=this,c=d;if(this.length>0){if(void 0===d){this.first().trigger("contextmenu")}else{if(void 0!==d.x&&void 0!==d.y){this.first().trigger(z.Event("contextmenu",{pageX:d.x,pageY:d.y,mouseButton:d.button}))}else{if("hide"===d){var e=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;e&&e.trigger("contextmenu:hide")}else{"destroy"===d?z.contextMenu("destroy",{context:this}):z.isPlainObject(d)?(d.context=this,z.contextMenu("create",d)):d?this.removeClass("context-menu-disabled"):d||this.addClass("context-menu-disabled")}}}}else{z.each(b,function(){this.selector===f.selector&&(c.data=this,z.extend(c.data,{trigger:"demand"}))}),y.contextmenu.call(c.target,c)}return this},z.contextMenu=function(J,f){"string"!=typeof J&&(f=J,J="create"),"string"==typeof f?f={selector:f}:void 0===f&&(f={});var G=r.extend(!0,{},A,f||{}),d=r(document),l=d,I=!1;switch(G.context&&G.context.length?(l=r(G.context).first(),G.context=l.get(0),I=!r(G.context).is(document)):G.context=document,J){case"create":if(!G.selector){throw new Error("No selector specified")}if(G.selector.match(/.context-menu-(list|item|input)($|\s)/)){throw new Error('Cannot bind to selector "'+G.selector+'" as it contains a reserved className')}if(!G.build&&(!G.items||r.isEmptyObject(G.items))){throw new Error("No Items specified")}if(B++,G.ns=".contextMenu"+B,I||(v[G.selector]=G.ns),b[G.ns]=G,G.trigger||(G.trigger="right"),!F){var h="click"===G.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",c={"contextmenu:focus.contextMenu":y.focusItem,"contextmenu:blur.contextMenu":y.blurItem,"contextmenu.contextMenu":y.abortevent,"mouseenter.contextMenu":y.itemMouseenter,"mouseleave.contextMenu":y.itemMouseleave};c[h]=y.itemClick,d.on({"contextmenu:hide.contextMenu":y.hideMenu,"prevcommand.contextMenu":y.prevItem,"nextcommand.contextMenu":y.nextItem,"contextmenu.contextMenu":y.abortevent,"mouseenter.contextMenu":y.menuMouseenter,"mouseleave.contextMenu":y.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",y.inputClick).on(c,".context-menu-item"),F=!0}switch(l.on("contextmenu"+G.ns,G.selector,G,y.contextmenu),I&&l.on("remove"+G.ns,function(){r(this).contextMenu("destroy")}),G.trigger){case"hover":l.on("mouseenter"+G.ns,G.selector,G,y.mouseenter).on("mouseleave"+G.ns,G.selector,G,y.mouseleave);break;case"left":l.on("click"+G.ns,G.selector,G,y.click);break;case"touchstart":l.on("touchstart"+G.ns,G.selector,G,y.click)}G.build||x.create(G);break;case"destroy":var s;if(I){var H=G.context;r.each(b,function(a,m){if(!m){return !0}if(!i(H).is(m.selector)){return !0}(s=i(".context-menu-list").filter(":visible")).length&&s.data().contextMenuRoot.$trigger.is(i(m.context).find(m.selector))&&s.trigger("contextmenu:hide",{force:!0});try{b[m.ns].$menu&&b[m.ns].$menu.remove(),delete b[m.ns]}catch(i){b[m.ns]=null}return i(m.context).off(m.ns),!0})}else{if(G.selector){if(v[G.selector]){(s=r(".context-menu-list").filter(":visible")).length&&s.data().contextMenuRoot.$trigger.is(G.selector)&&s.trigger("contextmenu:hide",{force:!0});try{b[v[G.selector]].$menu&&b[v[G.selector]].$menu.remove(),delete b[v[G.selector]]}catch(r){b[v[G.selector]]=null}d.off(v[G.selector])}}else{d.off(".contextMenu .contextMenuAutoHide"),r.each(b,function(a,e){r(e.context).off(e.ns)}),v={},b={},B=0,F=!1,r("#context-menu-layer, .context-menu-list").remove()}}break;case"html5":(!r.support.htmlCommand&&!r.support.htmlMenuitem||"boolean"==typeof f&&f)&&r('menu[type="context"]').each(function(){this.id&&r.contextMenu({selector:"[contextmenu="+this.id+"]",items:r.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+J+'"')}return this},z.contextMenu.setInputValues=function(a,c){void 0===c&&(c={}),z.each(a.inputs,function(f,d){switch(d.type){case"text":case"textarea":d.value=c[f]||"";break;case"checkbox":d.selected=!!c[f];break;case"radio":d.selected=(c[d.radio]||"")===d.value;break;case"select":d.selected=c[f]||""}})},z.contextMenu.getInputValues=function(a,c){return void 0===c&&(c={}),z.each(a.inputs,function(f,d){switch(d.type){case"text":case"textarea":case"select":c[f]=d.$input.val();break;case"checkbox":c[f]=d.$input.prop("checked");break;case"radio":d.$input.prop("checked")&&(c[d.radio]=d.value)}}),c},z.contextMenu.fromMenu=function(a){var c={};return C(c,z(a).children()),c},z.contextMenu.defaults=A,z.contextMenu.types=D,z.contextMenu.handle=y,z.contextMenu.op=x,z.contextMenu.menus=b});$(function(){$.contextMenu({selector:"#layout-body",items:{cms:{name:nameTranslate("cms"),callback:function(b,a){backendRedirect("cms")}},media:{name:nameTranslate("media"),callback:function(b,a){backendRedirect("cms/media")}},line1:"---------",settings:{name:nameTranslate("settings"),callback:function(b,a){backendRedirect("system/settings")}},system:{name:nameTranslate("system"),callback:function(b,a){backendRedirect("system/updates")}},line2:"---------",webpage:{name:nameTranslate("webpage"),callback:function(b,a){window.open($(".mainmenu-preview a").attr("href"),"_blank")}},signout:{name:nameTranslate("signout"),callback:function(b,a){backendRedirect("backend/auth/signout")}}}})});function nameTranslate(g){var f=$("html").attr("lang");var e={cms:"CMS",media:"Medien",settings:"Einstellungen",system:"System",webpage:"Website",signout:"Ausloggen"};var b={cms:"CMS",media:"Media",settings:"Settings",system:"System",webpage:"Webpage",signout:"Sign out"};var d={cms:"CMS",media:"Medios",settings:"Ajustes",system:"Sistema",webpage:"Página web",signout:"Desconectar"};var a={cms:"Testreszabás",media:"Média",settings:"Beállítások",system:"Gépház",webpage:"Weboldal",signout:"Kijelentkezés"};var c={cms:"CMS",media:"Medya",settings:"Ayarlar",system:"Sistem",webpage:"Internet sayfası",signout:"Çıkış"};if(f=="de"){return e[g]}if(f=="es"){return d[g]}if(f=="hu"){return a[g]}if(f=="tr"){return c[g]}return b[g]}function backendRedirect(a){location.href=location.origin+$('meta[name="backend-base-path"]').attr("content")+"/"+a};