+function(c){if(c.oc.builder===undefined){c.oc.builder={}}if(c.oc.builder.entityControllers===undefined){c.oc.builder.entityControllers={}}var b=c.oc.builder.entityControllers.base,a=b.prototype;var d=function(e){b.call(this,"model",e)};d.prototype=Object.create(a);d.prototype.constructor=d;d.prototype.cmdCreateModel=function(f){var e=c(f.currentTarget);e.one("shown.oc.popup",this.proxy(this.onModelPopupShown));e.popup({handler:"onModelLoadPopup"})};d.prototype.cmdApplyModelSettings=function(g){var f=c(g.currentTarget),e=this;c.oc.stripeLoadIndicator.show();f.request("onModelSave").always(c.oc.builder.indexController.hideStripeIndicatorProxy).done(function(h){f.trigger("close.oc.popup");e.applyModelSettingsDone(h)})};d.prototype.onModelPopupShown=function(g,f,e){c(e).find("input[name=className]").focus()};d.prototype.applyModelSettingsDone=function(f){if(f.builderResponseData.registryData!==undefined){var e=f.builderResponseData.registryData;c.oc.builder.dataRegistry.set(e.pluginCode,"model-classes",null,e.models)}};c.oc.builder.entityControllers.model=d}(window.jQuery);