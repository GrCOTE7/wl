!function(c,b,d,a){c.site=c.fn.site=function(t){var k,C,e=(new Date).getTime(),F=[],q=arguments[0],A="string"==typeof q,E=[].slice.call(arguments,1),z=c.isPlainObject(t)?c.extend(!0,{},c.site.settings,t):c.extend({},c.site.settings),y=z.namespace,n=z.error,x="module-"+y,D=c(d),j=D,w=this,B=j.data(x);return k={initialize:function(){k.instantiate()},instantiate:function(){k.verbose("Storing instance of site",k),B=k,j.data(x,k)},normalize:function(){k.fix.console(),k.fix.requestAnimationFrame()},fix:{console:function(){k.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(k.verbose("Console not available, normalizing events"),k.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(k.verbose("Console group not available, normalizing events"),b.console.group=function(){},b.console.groupEnd=function(){},b.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(k.verbose("Mark timeline not available, normalizing events"),b.console.markTimeline=function(){})},consoleClear:function(){k.debug("Disabling programmatic console clearing"),b.console.clear=function(){}},requestAnimationFrame:function(){k.debug("Normalizing requestAnimationFrame"),void 0===b.requestAnimationFrame&&(k.debug("RequestAnimationFrame not available, normalizing event"),b.requestAnimationFrame=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)})}},moduleExists:function(f){return void 0!==c.fn[f]&&void 0!==c.fn[f].settings},enabled:{modules:function(f){var g=[];return f=f||z.modules,c.each(f,function(i,h){k.moduleExists(h)&&g.push(h)}),g}},disabled:{modules:function(f){var g=[];return f=f||z.modules,c.each(f,function(i,h){k.moduleExists(h)||g.push(h)}),g}},change:{setting:function(h,l,g,f){g="string"==typeof g?"all"===g?z.modules:[g]:g||z.modules,f=void 0===f||f,c.each(g,function(o,u){var p,m=!k.moduleExists(u)||(c.fn[u].settings.namespace||!1);k.moduleExists(u)&&(k.verbose("Changing default setting",h,l,u),c.fn[u].settings[h]=l,f&&m&&(p=c(":data(module-"+m+")"),p.length>0&&(k.verbose("Modifying existing settings",p),p[u]("setting",h,l))))})},settings:function(g,h,f){h="string"==typeof h?[h]:h||z.modules,f=void 0===f||f,c.each(h,function(m,i){var l;k.moduleExists(i)&&(k.verbose("Changing default setting",g,i),c.extend(!0,c.fn[i].settings,g),f&&y&&(l=c(":data(module-"+y+")"),l.length>0&&(k.verbose("Modifying existing settings",l),l[i]("setting",g))))})}},enable:{console:function(){k.console(!0)},debug:function(g,f){g=g||z.modules,k.debug("Enabling debug for modules",g),k.change.setting("debug",!0,g,f)},verbose:function(g,f){g=g||z.modules,k.debug("Enabling verbose debug for modules",g),k.change.setting("verbose",!0,g,f)}},disable:{console:function(){k.console(!1)},debug:function(g,f){g=g||z.modules,k.debug("Disabling debug for modules",g),k.change.setting("debug",!1,g,f)},verbose:function(g,f){g=g||z.modules,k.debug("Disabling verbose debug for modules",g),k.change.setting("verbose",!1,g,f)}},console:function(f){if(f){if(void 0===B.cache.console){return void k.error(n.console)}k.debug("Restoring console function"),b.console=B.cache.console}else{k.debug("Disabling console function"),B.cache.console=b.console,b.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){k.verbose("Destroying previous site for",j),j.removeData(x)},cache:{},setting:function(f,g){if(c.isPlainObject(f)){c.extend(!0,z,f)}else{if(void 0===g){return z[f]}z[f]=g}},internal:function(f,g){if(c.isPlainObject(f)){c.extend(!0,k,f)}else{if(void 0===g){return k[f]}k[f]=g}},debug:function(){z.debug&&(z.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,z.name+":"),k.debug.apply(console,arguments)))},verbose:function(){z.verbose&&z.debug&&(z.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,z.name+":"),k.error.apply(console,arguments)},performance:{log:function(h){var g,l,f;z.performance&&(g=(new Date).getTime(),f=e||g,l=g-f,e=g,F.push({Element:w,Name:h[0],Arguments:[].slice.call(h,1)||"","Execution Time":l})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var f=z.name+":",g=0;e=!1,clearTimeout(k.performance.timer),c.each(F,function(i,h){g+=h["Execution Time"]}),f+=" "+g+"ms",(void 0!==console.group||void 0!==console.table)&&F.length>0&&(console.groupCollapsed(f),console.table?console.table(F):c.each(F,function(i,h){console.log(h.Name+": "+h["Execution Time"]+"ms")}),console.groupEnd()),F=[]}},invoke:function(h,u,g){var o,m,f,p=B;return u=u||E,g=w||g,"string"==typeof h&&void 0!==p&&(h=h.split(/[\. ]/),o=h.length-1,c.each(h,function(s,r){var l=s!=o?r+h[s+1].charAt(0).toUpperCase()+h[s+1].slice(1):h;if(c.isPlainObject(p[l])&&s!=o){p=p[l]}else{if(void 0!==p[l]){return m=p[l],!1}if(!c.isPlainObject(p[r])||s==o){return void 0!==p[r]?(m=p[r],!1):(k.error(n.method,h),!1)}p=p[r]}})),c.isFunction(m)?f=m.apply(g,u):void 0!==m&&(f=m),c.isArray(C)?C.push(f):void 0!==C?C=[C,f]:void 0!==f&&(C=f),m}},A?(void 0===B&&k.initialize(),k.invoke(q)):(void 0!==B&&k.destroy(),k.initialize()),void 0!==C?C:this},c.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(e){return function(f){return !!c.data(f,e)}}):function(f,g,e){return !!c.data(f,e[3])}})}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.form=function(p){var h,f=c(this),m=f.selector||"",e=(new Date).getTime(),q=[],g=arguments[0],k=arguments[1],n="string"==typeof g,j=[].slice.call(arguments,1);return f.each(function(){var X,N,W,B,M,V,Y,t,u,J,z,Q,l,i,L,o,r,H,G,s=c(this),I=this,K=[],U=!1;G={initialize:function(){G.get.settings(),n?(void 0===H&&G.instantiate(),G.invoke(g)):(void 0!==H&&H.invoke("destroy"),G.verbose("Initializing form validation",s,t),G.bindEvents(),G.set.defaults(),G.instantiate())},instantiate:function(){G.verbose("Storing instance of module",G),H=G,s.data(o,G)},destroy:function(){G.verbose("Destroying previous module",H),G.removeEvents(),s.removeData(o)},refresh:function(){G.verbose("Refreshing selector cache"),X=s.find(z.field),N=s.find(z.group),W=s.find(z.message),B=s.find(z.prompt),M=s.find(z.submit),V=s.find(z.clear),Y=s.find(z.reset)},submit:function(){G.verbose("Submitting form",s),s.submit()},attachEvents:function(v,w){w=w||"submit",c(v).on("click"+r,function(x){G[w](),x.preventDefault()})},bindEvents:function(){G.verbose("Attaching form events"),s.on("submit"+r,G.validate.form).on("blur"+r,z.field,G.event.field.blur).on("click"+r,z.submit,G.submit).on("click"+r,z.reset,G.reset).on("click"+r,z.clear,G.clear),t.keyboardShortcuts&&s.on("keydown"+r,z.field,G.event.field.keydown),X.each(function(){var w=c(this),x=w.prop("type"),v=G.get.changeEvent(x,w);c(this).on(v+r,G.event.field.change)})},clear:function(){X.each(function(){var x=c(this),D=x.parent(),w=x.closest(N),C=w.find(z.prompt),v=x.data(J.defaultValue)||"",A=D.is(z.uiCheckbox),y=D.is(z.uiDropdown);w.hasClass(Q.error)&&(G.verbose("Resetting error on field",w),w.removeClass(Q.error),C.remove()),y?(G.verbose("Resetting dropdown value",D,v),D.dropdown("clear")):A?x.prop("checked",!1):(G.verbose("Resetting field value",x,v),x.val(""))})},reset:function(){X.each(function(){var y=c(this),E=y.parent(),x=y.closest(N),D=x.find(z.prompt),w=y.data(J.defaultValue),C=E.is(z.uiCheckbox),A=E.is(z.uiDropdown),v=x.hasClass(Q.error);void 0!==w&&(v&&(G.verbose("Resetting error on field",x),x.removeClass(Q.error),D.remove()),A?(G.verbose("Resetting dropdown value",E,w),E.dropdown("restore defaults")):C?(G.verbose("Resetting checkbox value",E,w),y.prop("checked",w)):(G.verbose("Resetting field value",y,w),y.val(w)))})},determine:{isValid:function(){var v=!0;return c.each(u,function(w,x){G.validate.field(x,w,!0)||(v=!1)}),v}},is:{bracketedRule:function(v){return v.type&&v.type.match(t.regExp.bracket)},shorthandFields:function(w){var v=Object.keys(w),x=w[v[0]];return G.is.shorthandRules(x)},shorthandRules:function(v){return"string"==typeof v||c.isArray(v)},empty:function(v){return !v||0===v.length||(v.is('input[type="checkbox"]')?!v.is(":checked"):G.is.blank(v))},blank:function(v){return""===c.trim(v.val())},valid:function(v){var w=!0;return v?(G.verbose("Checking if field is valid",v),G.validate.field(u[v],v,!1)):(G.verbose("Checking if form is valid"),c.each(u,function(y,x){G.is.valid(y)||(w=!1)}),w)}},removeEvents:function(){s.off(r),X.off(r),M.off(r),X.off(r)},event:{field:{keydown:function(x){var D=c(this),w=x.which,C=D.is(z.input),v=D.is(z.checkbox),A=D.closest(z.uiDropdown).length>0,y={enter:13,escape:27};w==y.escape&&(G.verbose("Escape key pressed blurring field"),D.blur()),x.ctrlKey||w!=y.enter||!C||A||v||(U||(D.one("keyup"+r,G.event.field.keyup),G.submit(),G.debug("Enter pressed on input submitting form")),U=!0)},keyup:function(){U=!1},blur:function(w){var y=c(this),v=y.closest(N),x=G.get.validation(y);v.hasClass(Q.error)?(G.debug("Revalidating field",y,x),x&&G.validate.field(x)):"blur"!=t.on&&"change"!=t.on||x&&G.validate.field(x)},change:function(w){var y=c(this),v=y.closest(N),x=G.get.validation(y);x&&("change"==t.on||v.hasClass(Q.error)&&t.revalidate)&&(clearTimeout(G.timer),G.timer=setTimeout(function(){G.debug("Revalidating field",y,G.get.validation(y)),G.validate.field(x)},t.delay))}}},get:{ancillaryValue:function(v){return !(!v.type||!v.value&&!G.is.bracketedRule(v))&&(void 0!==v.value?v.value:v.type.match(t.regExp.bracket)[1]+"")},ruleName:function(v){return G.is.bracketedRule(v)?v.type.replace(v.type.match(t.regExp.bracket)[0],""):v.type},changeEvent:function(w,v){return"checkbox"==w||"radio"==w||"hidden"==w||v.is("select")?"change":G.get.inputEvent()},inputEvent:function(){return void 0!==d.createElement("input").oninput?"input":void 0!==d.createElement("input").onpropertychange?"propertychange":"keyup"},fieldsFromShorthand:function(v){var w={};return c.each(v,function(y,x){"string"==typeof x&&(x=[x]),w[y]={rules:[]},c.each(x,function(C,A){w[y].rules.push({type:A})})}),w},prompt:function(C,F){var x,A,w,E=G.get.ruleName(C),v=G.get.ancillaryValue(C),O=C.prompt||t.prompt[E]||t.text.unspecifiedRule,y=-1!==O.search("{value}"),D=-1!==O.search("{name}");return(D||y)&&(A=G.get.field(F.identifier)),y&&(O=O.replace("{value}",A.val())),D&&(x=A.closest(z.group).find("label").eq(0),w=1==x.length?x.text():A.prop("placeholder")||t.text.unspecifiedField,O=O.replace("{name}",w)),O=O.replace("{identifier}",F.identifier),O=O.replace("{ruleValue}",v),C.prompt||G.verbose("Using default validation prompt for type",O,E),O},settings:function(){if(c.isPlainObject(p)){var w=Object.keys(p),v=w.length>0&&(void 0!==p[w[0]].identifier&&void 0!==p[w[0]].rules);v?(t=c.extend(!0,{},c.fn.form.settings,k),u=c.extend({},c.fn.form.settings.defaults,p),G.error(t.error.oldSyntax,I),G.verbose("Extending settings from legacy parameters",u,t)):(p.fields&&G.is.shorthandFields(p.fields)&&(p.fields=G.get.fieldsFromShorthand(p.fields)),t=c.extend(!0,{},c.fn.form.settings,p),u=c.extend({},c.fn.form.settings.defaults,t.fields),G.verbose("Extending settings",u,t))}else{t=c.fn.form.settings,u=c.fn.form.settings.defaults,G.verbose("Using default form validation",u,t)}L=t.namespace,J=t.metadata,z=t.selector,Q=t.className,l=t.regExp,i=t.error,o="module-"+L,r="."+L,H=s.data(o),G.refresh()},field:function(v){return G.verbose("Finding field with identifier",v),v=G.escape.string(v),X.filter("#"+v).length>0?X.filter("#"+v):X.filter('[name="'+v+'"]').length>0?X.filter('[name="'+v+'"]'):X.filter('[name="'+v+'[]"]').length>0?X.filter('[name="'+v+'[]"]'):X.filter("[data-"+J.validate+'="'+v+'"]').length>0?X.filter("[data-"+J.validate+'="'+v+'"]'):c("<input/>")},fields:function(v){var w=c();return c.each(v,function(y,x){w=w.add(G.get.field(x))}),w},validation:function(w){var x,v;return !!u&&(c.each(u,function(y,A){v=A.identifier||y,G.get.field(v)[0]==w[0]&&(A.identifier=v,x=A)}),x||!1)},value:function(w){var v,x=[];return x.push(w),v=G.get.values.call(I,x),v[w]},values:function(w){var x=c.isArray(w)?G.get.fields(w):X,v={};return x.each(function(P,C){var A=c(C),F=(A.prop("type"),A.prop("name")),y=A.val(),R=A.is(z.checkbox),D=A.is(z.radio),E=-1!==F.indexOf("[]"),O=!!R&&A.is(":checked");F&&(E?(F=F.replace("[]",""),v[F]||(v[F]=[]),R?O?v[F].push(y||!0):v[F].push(!1):v[F].push(y)):D?void 0===v[F]&&(v[F]=!!O):v[F]=R?!!O&&(y||!0):y)}),v}},has:{field:function(v){return G.verbose("Checking for existence of a field with identifier",v),v=G.escape.string(v),"string"!=typeof v&&G.error(i.identifier,v),X.filter("#"+v).length>0||(X.filter('[name="'+v+'"]').length>0||X.filter("[data-"+J.validate+'="'+v+'"]').length>0)}},escape:{string:function(v){return v=String(v),v.replace(l.escape,"\\$&")}},add:{rule:function(w,v){G.add.field(w,v)},field:function(w,x){var v={};G.is.shorthandRules(x)?(x=c.isArray(x)?x:[x],v[w]={rules:[]},c.each(x,function(y,A){v[w].rules.push({type:A})})):v[w]=x,u=c.extend({},u,v),G.debug("Adding rules",v,u)},fields:function(v){var w;w=v&&G.is.shorthandFields(v)?G.get.fieldsFromShorthand(v):v,u=c.extend({},u,w)},prompt:function(x,C){var w=G.get.field(x),A=w.closest(N),v=A.children(z.prompt),y=0!==v.length;C="string"==typeof C?[C]:C,G.verbose("Adding field error state",x),A.addClass(Q.error),t.inline&&(y||(v=t.templates.prompt(C),v.appendTo(A)),v.html(C[0]),y?G.verbose("Inline errors are disabled, no inline error added",x):t.transition&&void 0!==c.fn.transition&&s.transition("is supported")?(G.verbose("Displaying error with css transition",t.transition),v.transition(t.transition+" in",t.duration)):(G.verbose("Displaying error with fallback javascript animation"),v.fadeIn(t.duration)))},errors:function(v){G.debug("Adding form error messages",v),G.set.error(),W.html(t.templates.error(v))}},remove:{rule:function(w,x){var v=c.isArray(x)?x:[x];if(void 0==x){return G.debug("Removed all rules"),void (u[w].rules=[])}void 0!=u[w]&&c.isArray(u[w].rules)&&c.each(u[w].rules,function(y,A){-1!==v.indexOf(A.type)&&(G.debug("Removed rule",A.type),u[w].rules.splice(y,1))})},field:function(v){var w=c.isArray(v)?v:[v];c.each(w,function(y,x){G.remove.rule(x)})},rules:function(v,w){c.isArray(v)?c.each(fields,function(y,x){G.remove.rule(x,w)}):G.remove.rule(v,w)},fields:function(v){G.remove.field(v)},prompt:function(w){var y=G.get.field(w),v=y.closest(N),x=v.children(z.prompt);v.removeClass(Q.error),t.inline&&x.is(":visible")&&(G.verbose("Removing prompt for field",w),t.transition&&void 0!==c.fn.transition&&s.transition("is supported")?x.transition(t.transition+" out",t.duration,function(){x.remove()}):x.fadeOut(t.duration,function(){x.remove()}))}},set:{success:function(){s.removeClass(Q.error).addClass(Q.success)},defaults:function(){X.each(function(){var w=c(this),x=w.filter(z.checkbox).length>0,v=x?w.is(":checked"):w.val();w.data(J.defaultValue,v)})},error:function(){s.removeClass(Q.success).addClass(Q.error)},value:function(w,v){var x={};return x[w]=v,G.set.values.call(I,x)},values:function(v){c.isEmptyObject(v)||c.each(v,function(O,y){var C,x=G.get.field(O),E=x.parent(),w=c.isArray(y),P=E.is(z.uiCheckbox),A=E.is(z.uiDropdown),D=x.is(z.radio)&&P,F=x.length>0;F&&(w&&P?(G.verbose("Selecting multiple",y,x),E.checkbox("uncheck"),c.each(y,function(S,R){C=x.filter('[value="'+R+'"]'),E=C.parent(),C.length>0&&E.checkbox("check")})):D?(G.verbose("Selecting radio value",y,x),x.filter('[value="'+y+'"]').parent(z.uiCheckbox).checkbox("check")):P?(G.verbose("Setting checkbox value",y,E),!0===y?E.checkbox("check"):E.checkbox("uncheck")):A?(G.verbose("Setting dropdown value",y,E),E.dropdown("set selected",y)):(G.verbose("Setting field value",y,x),x.val(y)))})}},validate:{form:function(w,v){var x=G.get.values();if(U){return !1}if(K=[],G.determine.isValid()){if(G.debug("Form has no validation errors, submitting"),G.set.success(),!0!==v){return t.onSuccess.call(I,w,x)}}else{if(G.debug("Form has errors"),G.set.error(),t.inline||G.add.errors(K),void 0!==s.data("moduleApi")&&w.stopImmediatePropagation(),!0!==v){return t.onFailure.call(I,K,x)}}},field:function(y,E,x){x=void 0===x||x,"string"==typeof y&&(G.verbose("Validating field",y),E=y,y=u[y]);var D=y.identifier||E,w=G.get.field(D),C=!!y.depends&&G.get.field(y.depends),A=!0,v=[];return y.identifier||(G.debug("Using field name as identifier",D),y.identifier=D),w.prop("disabled")?(G.debug("Field is disabled. Skipping",D),A=!0):y.optional&&G.is.blank(w)?(G.debug("Field is optional and blank. Skipping",D),A=!0):y.depends&&G.is.empty(C)?(G.debug("Field depends on another value that is not present or empty. Skipping",C),A=!0):void 0!==y.rules&&c.each(y.rules,function(F,O){G.has.field(D)&&!G.validate.rule(y,O)&&(G.debug("Field is invalid",D,O.type),v.push(G.get.prompt(O,y)),A=!1)}),A?(x&&(G.remove.prompt(D,v),t.onValid.call(w)),!0):(x&&(K=K.concat(v),G.add.prompt(D,v),t.onInvalid.call(w,v)),!1)},rule:function(x,D){var w=G.get.field(x.identifier),C=(D.type,w.val()),v=G.get.ancillaryValue(D),A=G.get.ruleName(D),y=t.rules[A];return c.isFunction(y)?(C=void 0===C||""===C||null===C?"":c.trim(C+""),y.call(w,C,v)):void G.error(i.noRule,A)}},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,t,v)}else{if(void 0===w){return t[v]}t[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,G,v)}else{if(void 0===w){return G[v]}G[v]=w}},debug:function(){!t.silent&&t.debug&&(t.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,t.name+":"),G.debug.apply(console,arguments)))},verbose:function(){!t.silent&&t.verbose&&t.debug&&(t.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),G.verbose.apply(console,arguments)))},error:function(){t.silent||(G.error=Function.prototype.bind.call(console.error,console,t.name+":"),G.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;t.performance&&(w=(new Date).getTime(),v=e||w,y=w-v,e=w,q.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:I,"Execution Time":y})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var v=t.name+":",w=0;e=!1,clearTimeout(G.performance.timer),c.each(q,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",m&&(v+=" '"+m+"'"),f.length>1&&(v+=" ("+f.length+")"),(void 0!==console.group||void 0!==console.table)&&q.length>0&&(console.groupCollapsed(v),console.table?console.table(q):c.each(q,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(x,D,C){var w,A,y,v=H;return D=D||j,C=I||C,"string"==typeof x&&void 0!==v&&(x=x.split(/[\. ]/),w=x.length-1,c.each(x,function(O,E){var F=O!=w?E+x[O+1].charAt(0).toUpperCase()+x[O+1].slice(1):x;if(c.isPlainObject(v[F])&&O!=w){v=v[F]}else{if(void 0!==v[F]){return A=v[F],!1}if(!c.isPlainObject(v[E])||O==w){return void 0!==v[E]&&(A=v[E],!1)}v=v[E]}})),c.isFunction(A)?y=A.apply(C,D):void 0!==A&&(y=A),c.isArray(h)?h.push(y):void 0!==h?h=[h,y]:void 0!==y&&(h=y),A}},G.initialize()}),void 0!==h?h:this},c.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return !0},onFailure:function(){return !1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(e){var f='<ul class="list">';return c.each(e,function(h,g){f+="<li>"+g+"</li>"}),f+="</ul>",c(f)},prompt:function(e){return c("<div/>").addClass("ui basic red pointing prompt label").html(e[0])}},rules:{empty:function(e){return !(void 0===e||""===e||c.isArray(e)&&0===e.length)},checked:function(){return c(this).filter(":checked").length>0},email:function(e){return c.fn.form.settings.regExp.email.test(e)},url:function(e){return c.fn.form.settings.regExp.url.test(e)},regExp:function(f,h){if(h instanceof RegExp){return f.match(h)}var e,g=h.match(c.fn.form.settings.regExp.flags);return g&&(h=g.length>=2?g[1]:h,e=g.length>=3?g[2]:""),f.match(new RegExp(h,e))},integer:function(g,k){var f,j,e,h=c.fn.form.settings.regExp.integer;return k&&-1===["",".."].indexOf(k)&&(-1==k.indexOf("..")?h.test(k)&&(f=j=k-0):(e=k.split("..",2),h.test(e[0])&&(f=e[0]-0),h.test(e[1])&&(j=e[1]-0))),h.test(g)&&(void 0===f||g>=f)&&(void 0===j||g<=j)},decimal:function(e){return c.fn.form.settings.regExp.decimal.test(e)},number:function(e){return c.fn.form.settings.regExp.number.test(e)},is:function(g,f){return f="string"==typeof f?f.toLowerCase():f,(g="string"==typeof g?g.toLowerCase():g)==f},isExactly:function(g,f){return g==f},not:function(g,f){return g="string"==typeof g?g.toLowerCase():g,f="string"==typeof f?f.toLowerCase():f,g!=f},notExactly:function(g,f){return g!=f},contains:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(f,"i"))},containsExactly:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(f))},doesntContain:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(f,"i"))},doesntContainExactly:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(f))},minLength:function(g,f){return void 0!==g&&g.length>=f},length:function(g,f){return void 0!==g&&g.length>=f},exactLength:function(g,f){return void 0!==g&&g.length==f},maxLength:function(g,f){return void 0!==g&&g.length<=f},match:function(f,g){var e;c(this);return c('[data-validate="'+g+'"]').length>0?e=c('[data-validate="'+g+'"]').val():c("#"+g).length>0?e=c("#"+g).val():c('[name="'+g+'"]').length>0?e=c('[name="'+g+'"]').val():c('[name="'+g+'[]"]').length>0&&(e=c('[name="'+g+'[]"]')),void 0!==e&&f.toString()==e.toString()},different:function(f,g){var e;c(this);return c('[data-validate="'+g+'"]').length>0?e=c('[data-validate="'+g+'"]').val():c("#"+g).length>0?e=c("#"+g).val():c('[name="'+g+'"]').length>0?e=c('[name="'+g+'"]').val():c('[name="'+g+'[]"]').length>0&&(e=c('[name="'+g+'[]"]')),void 0!==e&&f.toString()!==e.toString()},creditCard:function(x,h){var k,g,v={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},e={},y=!1,j="string"==typeof h&&h.split(",");if("string"==typeof x&&0!==x.length){if(x=x.replace(/[\-]/g,""),j&&(c.each(j,function(l,f){(g=v[f])&&(e={length:-1!==c.inArray(x.length,g.length),pattern:-1!==x.search(g.pattern)},e.length&&e.pattern&&(y=!0))}),!y)){return !1}if(k={number:-1!==c.inArray(x.length,v.unionPay.length),pattern:-1!==x.search(v.unionPay.pattern)},k.number&&k.pattern){return !0}for(var q=x.length,w=0,p=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],m=0;q--;){m+=p[w][parseInt(x.charAt(q),10)],w^=1}return m%10==0&&m>0}},minCount:function(g,f){return 0==f||(1==f?""!==g:g.split(",").length>=f)},exactCount:function(g,f){return 0==f?""===g:1==f?""!==g&&-1===g.search(","):g.split(",").length==f},maxCount:function(g,f){return 0!=f&&(1==f?-1===g.search(","):g.split(",").length<=f)}}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.accordion=function(p){var g,k=c(this),f=(new Date).getTime(),j=[],h=arguments[0],e="string"==typeof h,m=[].slice.call(arguments,1);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;return k.each(function(){var G,z,t=c.isPlainObject(p)?c.extend(!0,{},c.fn.accordion.settings,p):c.extend({},c.fn.accordion.settings),n=t.className,s=t.namespace,F=t.selector,l=t.error,r="."+s,B="module-"+s,A=k.selector||"",D=c(this),i=D.find(F.title),E=D.find(F.content),o=this,q=D.data(B);z={initialize:function(){z.debug("Initializing",D),z.bind.events(),t.observeChanges&&z.observeChanges(),z.instantiate()},instantiate:function(){q=z,D.data(B,z)},destroy:function(){z.debug("Destroying previous instance",D),D.off(r).removeData(B)},refresh:function(){i=D.find(F.title),E=D.find(F.content)},observeChanges:function(){"MutationObserver" in b&&(G=new MutationObserver(function(u){z.debug("DOM tree modified, updating selector cache"),z.refresh()}),G.observe(o,{childList:!0,subtree:!0}),z.debug("Setting up mutation observer",G))},bind:{events:function(){z.debug("Binding delegated events"),D.on(t.on+r,F.trigger,z.event.click)}},event:{click:function(){z.toggle.call(this)}},toggle:function(w){var H=void 0!==w?"number"==typeof w?i.eq(w):c(w).closest(F.title):c(this).closest(F.title),v=H.next(E),C=v.hasClass(n.animating),u=v.hasClass(n.active),y=u&&!C,x=!u&&C;z.debug("Toggling visibility of content",H),y||x?t.collapsible?z.close.call(H):z.debug("Cannot close accordion content collapsing is disabled"):z.open.call(H)},open:function(v){var x=void 0!==v?"number"==typeof v?i.eq(v):c(v).closest(F.title):c(this).closest(F.title),u=x.next(E),w=u.hasClass(n.animating);if(u.hasClass(n.active)||w){return void z.debug("Accordion already open, skipping",u)}z.debug("Opening accordion content",x),t.onOpening.call(u),t.exclusive&&z.closeOthers.call(x),x.addClass(n.active),u.stop(!0,!0).addClass(n.animating),t.animateChildren&&(void 0!==c.fn.transition&&D.transition("is supported")?u.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:t.debug,verbose:t.verbose,duration:t.duration}):u.children().stop(!0,!0).animate({opacity:1},t.duration,z.resetOpacity)),u.slideDown(t.duration,t.easing,function(){u.removeClass(n.animating).addClass(n.active),z.reset.display.call(this),t.onOpen.call(this),t.onChange.call(this)})},close:function(w){var H=void 0!==w?"number"==typeof w?i.eq(w):c(w).closest(F.title):c(this).closest(F.title),v=H.next(E),C=v.hasClass(n.animating),u=v.hasClass(n.active),y=!u&&C,x=u&&C;!u&&!y||x||(z.debug("Closing accordion content",v),t.onClosing.call(v),H.removeClass(n.active),v.stop(!0,!0).addClass(n.animating),t.animateChildren&&(void 0!==c.fn.transition&&D.transition("is supported")?v.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:t.debug,verbose:t.verbose,duration:t.duration}):v.children().stop(!0,!0).animate({opacity:0},t.duration,z.resetOpacity)),v.slideUp(t.duration,t.easing,function(){v.removeClass(n.animating).removeClass(n.active),z.reset.display.call(this),t.onClose.call(this),t.onChange.call(this)}))},closeOthers:function(I){var w,y,v,H=void 0!==I?i.eq(I):c(this).closest(F.title),u=H.parents(F.content).prev(F.title),J=H.closest(F.accordion),x=F.title+"."+n.active+":visible",C=F.content+"."+n.active+":visible";t.closeNested?(w=J.find(x).not(u),v=w.next(E)):(w=J.find(x).not(u),y=J.find(C).find(x).not(u),w=w.not(y),v=w.next(E)),w.length>0&&(z.debug("Exclusive enabled, closing other content",w),w.removeClass(n.active),v.removeClass(n.animating).stop(!0,!0),t.animateChildren&&(void 0!==c.fn.transition&&D.transition("is supported")?v.children().transition({animation:"fade out",useFailSafe:!0,debug:t.debug,verbose:t.verbose,duration:t.duration}):v.children().stop(!0,!0).animate({opacity:0},t.duration,z.resetOpacity)),v.slideUp(t.duration,t.easing,function(){c(this).removeClass(n.active),z.reset.display.call(this)}))},reset:{display:function(){z.verbose("Removing inline display from element",this),c(this).css("display",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")},opacity:function(){z.verbose("Removing inline opacity from element",this),c(this).css("opacity",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")}},setting:function(u,v){if(z.debug("Changing setting",u,v),c.isPlainObject(u)){c.extend(!0,t,u)}else{if(void 0===v){return t[u]}c.isPlainObject(t[u])?c.extend(!0,t[u],v):t[u]=v}},internal:function(u,v){if(z.debug("Changing internal",u,v),void 0===v){return z[u]}c.isPlainObject(u)?c.extend(!0,z,u):z[u]=v},debug:function(){!t.silent&&t.debug&&(t.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,t.name+":"),z.debug.apply(console,arguments)))},verbose:function(){!t.silent&&t.verbose&&t.debug&&(t.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),z.verbose.apply(console,arguments)))},error:function(){t.silent||(z.error=Function.prototype.bind.call(console.error,console,t.name+":"),z.error.apply(console,arguments))},performance:{log:function(w){var v,x,u;t.performance&&(v=(new Date).getTime(),u=f||v,x=v-u,f=v,j.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:o,"Execution Time":x})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var u=t.name+":",v=0;f=!1,clearTimeout(z.performance.timer),c.each(j,function(x,w){v+=w["Execution Time"]}),u+=" "+v+"ms",A&&(u+=" '"+A+"'"),(void 0!==console.group||void 0!==console.table)&&j.length>0&&(console.groupCollapsed(u),console.table?console.table(j):c.each(j,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(w,H,C){var v,y,x,u=q;return H=H||m,C=o||C,"string"==typeof w&&void 0!==u&&(w=w.split(/[\. ]/),v=w.length-1,c.each(w,function(K,I){var J=K!=v?I+w[K+1].charAt(0).toUpperCase()+w[K+1].slice(1):w;if(c.isPlainObject(u[J])&&K!=v){u=u[J]}else{if(void 0!==u[J]){return y=u[J],!1}if(!c.isPlainObject(u[I])||K==v){return void 0!==u[I]?(y=u[I],!1):(z.error(l.method,w),!1)}u=u[I]}})),c.isFunction(y)?x=y.apply(C,H):void 0!==y&&(x=y),c.isArray(g)?g.push(x):void 0!==g?g=[g,x]:void 0!==x&&(g=x),y}},e?(void 0===q&&z.initialize(),z.invoke(h)):(void 0!==q&&q.invoke("destroy"),z.initialize())}),void 0!==g?g:this},c.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},c.extend(c.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.checkbox=function(h){var f,m=c(this),e=m.selector||"",p=(new Date).getTime(),g=[],k=arguments[0],n="string"==typeof k,j=[].slice.call(arguments,1);return m.each(function(){var H,D,q=c.extend(!0,{},c.fn.checkbox.settings,h),B=q.className,J=q.namespace,l=q.selector,z=q.error,F="."+J,E="module-"+J,G=c(this),i=c(this).children(l.label),I=c(this).children(l.input),s=I[0],t=!1,r=!1,o=G.data(E),u=this;D={initialize:function(){D.verbose("Initializing checkbox",q),D.create.label(),D.bind.events(),D.set.tabbable(),D.hide.input(),D.observeChanges(),D.instantiate(),D.setup()},instantiate:function(){D.verbose("Storing instance of module",D),o=D,G.data(E,D)},destroy:function(){D.verbose("Destroying module"),D.unbind.events(),D.show.input(),G.removeData(E)},fix:{reference:function(){G.is(l.input)&&(D.debug("Behavior called on <input> adjusting invoked element"),G=G.closest(l.checkbox),D.refresh())}},setup:function(){D.set.initialLoad(),D.is.indeterminate()?(D.debug("Initial value is indeterminate"),D.indeterminate()):D.is.checked()?(D.debug("Initial value is checked"),D.check()):(D.debug("Initial value is unchecked"),D.uncheck()),D.remove.initialLoad()},refresh:function(){i=G.children(l.label),I=G.children(l.input),s=I[0]},hide:{input:function(){D.verbose("Modifying <input> z-index to be unselectable"),I.addClass(B.hidden)}},show:{input:function(){D.verbose("Modifying <input> z-index to be selectable"),I.removeClass(B.hidden)}},observeChanges:function(){"MutationObserver" in b&&(H=new MutationObserver(function(v){D.debug("DOM tree modified, updating selector cache"),D.refresh()}),H.observe(u,{childList:!0,subtree:!0}),D.debug("Setting up mutation observer",H))},attachEvents:function(w,x){var v=c(w);x=c.isFunction(D[x])?D[x]:D.toggle,v.length>0?(D.debug("Attaching checkbox events to element",w,x),v.on("click"+F,x)):D.error(z.notFound)},event:{click:function(v){var w=c(v.target);return w.is(l.input)?void D.verbose("Using default check action on initialized checkbox"):w.is(l.link)?void D.debug("Clicking link inside checkbox, skipping toggle"):(D.toggle(),I.focus(),void v.preventDefault())},keydown:function(w){var v=w.which,x={enter:13,space:32,escape:27};v==x.escape?(D.verbose("Escape key pressed blurring field"),I.blur(),r=!0):w.ctrlKey||v!=x.space&&v!=x.enter?r=!1:(D.verbose("Enter/space key pressed, toggling checkbox"),D.toggle(),r=!0)},keyup:function(v){r&&v.preventDefault()}},check:function(){D.should.allowCheck()&&(D.debug("Checking checkbox",I),D.set.checked(),D.should.ignoreCallbacks()||(q.onChecked.call(s),q.onChange.call(s)))},uncheck:function(){D.should.allowUncheck()&&(D.debug("Unchecking checkbox"),D.set.unchecked(),D.should.ignoreCallbacks()||(q.onUnchecked.call(s),q.onChange.call(s)))},indeterminate:function(){if(D.should.allowIndeterminate()){return void D.debug("Checkbox is already indeterminate")}D.debug("Making checkbox indeterminate"),D.set.indeterminate(),D.should.ignoreCallbacks()||(q.onIndeterminate.call(s),q.onChange.call(s))},determinate:function(){if(D.should.allowDeterminate()){return void D.debug("Checkbox is already determinate")}D.debug("Making checkbox determinate"),D.set.determinate(),D.should.ignoreCallbacks()||(q.onDeterminate.call(s),q.onChange.call(s))},enable:function(){if(D.is.enabled()){return void D.debug("Checkbox is already enabled")}D.debug("Enabling checkbox"),D.set.enabled(),q.onEnable.call(s),q.onEnabled.call(s)},disable:function(){if(D.is.disabled()){return void D.debug("Checkbox is already disabled")}D.debug("Disabling checkbox"),D.set.disabled(),q.onDisable.call(s),q.onDisabled.call(s)},get:{radios:function(){var v=D.get.name();return c('input[name="'+v+'"]').closest(l.checkbox)},otherRadios:function(){return D.get.radios().not(G)},name:function(){return I.attr("name")}},is:{initialLoad:function(){return t},radio:function(){return I.hasClass(B.radio)||"radio"==I.attr("type")},indeterminate:function(){return void 0!==I.prop("indeterminate")&&I.prop("indeterminate")},checked:function(){return void 0!==I.prop("checked")&&I.prop("checked")},disabled:function(){return void 0!==I.prop("disabled")&&I.prop("disabled")},enabled:function(){return !D.is.disabled()},determinate:function(){return !D.is.indeterminate()},unchecked:function(){return !D.is.checked()}},should:{allowCheck:function(){return D.is.determinate()&&D.is.checked()&&!D.should.forceCallbacks()?(D.debug("Should not allow check, checkbox is already checked"),!1):!1!==q.beforeChecked.apply(s)||(D.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return D.is.determinate()&&D.is.unchecked()&&!D.should.forceCallbacks()?(D.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==q.beforeUnchecked.apply(s)||(D.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return D.is.indeterminate()&&!D.should.forceCallbacks()?(D.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==q.beforeIndeterminate.apply(s)||(D.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return D.is.determinate()&&!D.should.forceCallbacks()?(D.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==q.beforeDeterminate.apply(s)||(D.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return D.is.initialLoad()&&q.fireOnInit},ignoreCallbacks:function(){return t&&!q.fireOnInit}},can:{change:function(){return !(G.hasClass(B.disabled)||G.hasClass(B.readOnly)||I.prop("disabled")||I.prop("readonly"))},uncheck:function(){return"boolean"==typeof q.uncheckable?q.uncheckable:!D.is.radio()}},set:{initialLoad:function(){t=!0},checked:function(){if(D.verbose("Setting class to checked"),G.removeClass(B.indeterminate).addClass(B.checked),D.is.radio()&&D.uncheckOthers(),!D.is.indeterminate()&&D.is.checked()){return void D.debug("Input is already checked, skipping input property change")}D.verbose("Setting state to checked",s),I.prop("indeterminate",!1).prop("checked",!0),D.trigger.change()},unchecked:function(){if(D.verbose("Removing checked class"),G.removeClass(B.indeterminate).removeClass(B.checked),!D.is.indeterminate()&&D.is.unchecked()){return void D.debug("Input is already unchecked")}D.debug("Setting state to unchecked"),I.prop("indeterminate",!1).prop("checked",!1),D.trigger.change()},indeterminate:function(){if(D.verbose("Setting class to indeterminate"),G.addClass(B.indeterminate),D.is.indeterminate()){return void D.debug("Input is already indeterminate, skipping input property change")}D.debug("Setting state to indeterminate"),I.prop("indeterminate",!0),D.trigger.change()},determinate:function(){if(D.verbose("Removing indeterminate class"),G.removeClass(B.indeterminate),D.is.determinate()){return void D.debug("Input is already determinate, skipping input property change")}D.debug("Setting state to determinate"),I.prop("indeterminate",!1)},disabled:function(){if(D.verbose("Setting class to disabled"),G.addClass(B.disabled),D.is.disabled()){return void D.debug("Input is already disabled, skipping input property change")}D.debug("Setting state to disabled"),I.prop("disabled","disabled"),D.trigger.change()},enabled:function(){if(D.verbose("Removing disabled class"),G.removeClass(B.disabled),D.is.enabled()){return void D.debug("Input is already enabled, skipping input property change")}D.debug("Setting state to enabled"),I.prop("disabled",!1),D.trigger.change()},tabbable:function(){D.verbose("Adding tabindex to checkbox"),void 0===I.attr("tabindex")&&I.attr("tabindex",0)}},remove:{initialLoad:function(){t=!1}},trigger:{change:function(){var w=d.createEvent("HTMLEvents"),v=I[0];v&&(D.verbose("Triggering native change event"),w.initEvent("change",!0,!1),v.dispatchEvent(w))}},create:{label:function(){I.prevAll(l.label).length>0?(I.prev(l.label).detach().insertAfter(I),D.debug("Moving existing label",i)):D.has.label()||(i=c("<label>").insertAfter(I),D.debug("Creating label",i))}},has:{label:function(){return i.length>0}},bind:{events:function(){D.verbose("Attaching checkbox events"),G.on("click"+F,D.event.click).on("keydown"+F,l.input,D.event.keydown).on("keyup"+F,l.input,D.event.keyup)}},unbind:{events:function(){D.debug("Removing events"),G.off(F)}},uncheckOthers:function(){var v=D.get.otherRadios();D.debug("Unchecking other radios",v),v.removeClass(B.checked)},toggle:function(){if(!D.can.change()){return void (D.is.radio()||D.debug("Checkbox is read-only or disabled, ignoring toggle"))}D.is.indeterminate()||D.is.unchecked()?(D.debug("Currently unchecked"),D.check()):D.is.checked()&&D.can.uncheck()&&(D.debug("Currently checked"),D.uncheck())},setting:function(v,w){if(D.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,q,v)}else{if(void 0===w){return q[v]}c.isPlainObject(q[v])?c.extend(!0,q[v],w):q[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,D,v)}else{if(void 0===w){return D[v]}D[v]=w}},debug:function(){!q.silent&&q.debug&&(q.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,q.name+":"),D.debug.apply(console,arguments)))},verbose:function(){!q.silent&&q.verbose&&q.debug&&(q.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,q.name+":"),D.verbose.apply(console,arguments)))},error:function(){q.silent||(D.error=Function.prototype.bind.call(console.error,console,q.name+":"),D.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;q.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,g.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:u,"Execution Time":y})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var v=q.name+":",w=0;p=!1,clearTimeout(D.performance.timer),c.each(g,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(v),console.table?console.table(g):c.each(g,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(y,K,x){var w,C,A,v=o;return K=K||j,x=u||x,"string"==typeof y&&void 0!==v&&(y=y.split(/[\. ]/),w=y.length-1,c.each(y,function(N,L){var M=N!=w?L+y[N+1].charAt(0).toUpperCase()+y[N+1].slice(1):y;if(c.isPlainObject(v[M])&&N!=w){v=v[M]}else{if(void 0!==v[M]){return C=v[M],!1}if(!c.isPlainObject(v[L])||N==w){return void 0!==v[L]?(C=v[L],!1):(D.error(z.method,y),!1)}v=v[L]}})),c.isFunction(C)?A=C.apply(x,K):void 0!==C&&(A=C),c.isArray(f)?f.push(A):void 0!==f?f=[f,A]:void 0!==A&&(f=A),C}},n?(void 0===o&&D.initialize(),D.invoke(k)):(void 0!==o&&o.invoke("destroy"),D.initialize())}),void 0!==f?f:this},c.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dimmer=function(h){var g,m=c(this),f=(new Date).getTime(),k=[],j=arguments[0],e="string"==typeof j,n=[].slice.call(arguments,1);return m.each(function(){var H,A,z,o=c.isPlainObject(h)?c.extend(!0,{},c.fn.dimmer.settings,h):c.extend({},c.fn.dimmer.settings),t=o.selector,G=o.namespace,l=o.className,s=o.error,D="."+G,B="module-"+G,E=m.selector||"",i="ontouchstart" in d.documentElement?"touchstart":"click",F=c(this),q=this,r=F.data(B);z={preinitialize:function(){z.is.dimmer()?(A=F.parent(),H=F):(A=F,H=z.has.dimmer()?o.dimmerName?A.find(t.dimmer).filter("."+o.dimmerName):A.find(t.dimmer):z.create(),z.set.variation())},initialize:function(){z.debug("Initializing dimmer",o),z.bind.events(),z.set.dimmable(),z.instantiate()},instantiate:function(){z.verbose("Storing instance of module",z),r=z,F.data(B,r)},destroy:function(){z.verbose("Destroying previous module",H),z.unbind.events(),z.remove.variation(),A.off(D)},bind:{events:function(){"hover"==o.on?A.on("mouseenter"+D,z.show).on("mouseleave"+D,z.hide):"click"==o.on&&A.on(i+D,z.toggle),z.is.page()&&(z.debug("Setting as a page dimmer",A),z.set.pageDimmer()),z.is.closable()&&(z.verbose("Adding dimmer close event",H),A.on(i+D,t.dimmer,z.event.click))}},unbind:{events:function(){F.removeData(B),A.off(D)}},event:{click:function(p){z.verbose("Determining if event occured on dimmer",p),(0===H.find(p.target).length||c(p.target).is(t.content))&&(z.hide(),p.stopImmediatePropagation())}},addContent:function(p){var u=c(p);z.debug("Add content to dimmer",u),u.parent()[0]!==H[0]&&u.detach().appendTo(H)},create:function(){var p=c(o.template.dimmer());return o.dimmerName&&(z.debug("Creating named dimmer",o.dimmerName),p.addClass(o.dimmerName)),p.appendTo(A),p},show:function(p){p=c.isFunction(p)?p:function(){},z.debug("Showing dimmer",H,o),z.is.dimmed()&&!z.is.animating()||!z.is.enabled()?z.debug("Dimmer is already shown or disabled"):(z.animate.show(p),o.onShow.call(q),o.onChange.call(q))},hide:function(p){p=c.isFunction(p)?p:function(){},z.is.dimmed()||z.is.animating()?(z.debug("Hiding dimmer",H),z.animate.hide(p),o.onHide.call(q),o.onChange.call(q)):z.debug("Dimmer is not visible")},toggle:function(){z.verbose("Toggling dimmer visibility",H),z.is.dimmed()?z.hide():z.show()},animate:{show:function(p){p=c.isFunction(p)?p:function(){},o.useCSS&&void 0!==c.fn.transition&&H.transition("is supported")?("auto"!==o.opacity&&z.set.opacity(),H.transition({animation:o.transition+" in",queue:!1,duration:z.get.duration(),useFailSafe:!0,onStart:function(){z.set.dimmed()},onComplete:function(){z.set.active(),p()}})):(z.verbose("Showing dimmer animation with javascript"),z.set.dimmed(),"auto"==o.opacity&&(o.opacity=0.8),H.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(z.get.duration(),o.opacity,function(){H.removeAttr("style"),z.set.active(),p()}))},hide:function(p){p=c.isFunction(p)?p:function(){},o.useCSS&&void 0!==c.fn.transition&&H.transition("is supported")?(z.verbose("Hiding dimmer with css"),H.transition({animation:o.transition+" out",queue:!1,duration:z.get.duration(),useFailSafe:!0,onStart:function(){z.remove.dimmed()},onComplete:function(){z.remove.active(),p()}})):(z.verbose("Hiding dimmer with javascript"),z.remove.dimmed(),H.stop().fadeOut(z.get.duration(),function(){z.remove.active(),H.removeAttr("style"),p()}))}},get:{dimmer:function(){return H},duration:function(){return"object"==typeof o.duration?z.is.active()?o.duration.hide:o.duration.show:o.duration}},has:{dimmer:function(){return o.dimmerName?F.find(t.dimmer).filter("."+o.dimmerName).length>0:F.find(t.dimmer).length>0}},is:{active:function(){return H.hasClass(l.active)},animating:function(){return H.is(":animated")||H.hasClass(l.animating)},closable:function(){return"auto"==o.closable?"hover"!=o.on:o.closable},dimmer:function(){return F.hasClass(l.dimmer)},dimmable:function(){return F.hasClass(l.dimmable)},dimmed:function(){return A.hasClass(l.dimmed)},disabled:function(){return A.hasClass(l.disabled)},enabled:function(){return !z.is.disabled()},page:function(){return A.is("body")},pageDimmer:function(){return H.hasClass(l.pageDimmer)}},can:{show:function(){return !H.hasClass(l.disabled)}},set:{opacity:function(v){var u=H.css("background-color"),x=u.split(","),p=x&&3==x.length,w=x&&4==x.length;v=0===o.opacity?0:o.opacity||v,p||w?(x[3]=v+")",u=x.join(",")):u="rgba(0, 0, 0, "+v+")",z.debug("Setting opacity to",v),H.css("background-color",u)},active:function(){H.addClass(l.active)},dimmable:function(){A.addClass(l.dimmable)},dimmed:function(){A.addClass(l.dimmed)},pageDimmer:function(){H.addClass(l.pageDimmer)},disabled:function(){H.addClass(l.disabled)},variation:function(p){(p=p||o.variation)&&H.addClass(p)}},remove:{active:function(){H.removeClass(l.active)},dimmed:function(){A.removeClass(l.dimmed)},disabled:function(){H.removeClass(l.disabled)},variation:function(p){(p=p||o.variation)&&H.removeClass(p)}},setting:function(p,u){if(z.debug("Changing setting",p,u),c.isPlainObject(p)){c.extend(!0,o,p)}else{if(void 0===u){return o[p]}c.isPlainObject(o[p])?c.extend(!0,o[p],u):o[p]=u}},internal:function(p,u){if(c.isPlainObject(p)){c.extend(!0,z,p)}else{if(void 0===u){return z[p]}z[p]=u}},debug:function(){!o.silent&&o.debug&&(o.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,o.name+":"),z.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),z.verbose.apply(console,arguments)))},error:function(){o.silent||(z.error=Function.prototype.bind.call(console.error,console,o.name+":"),z.error.apply(console,arguments))},performance:{log:function(v){var u,w,p;o.performance&&(u=(new Date).getTime(),p=f||u,w=u-p,f=u,k.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:q,"Execution Time":w})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var p=o.name+":",u=0;f=!1,clearTimeout(z.performance.timer),c.each(k,function(w,v){u+=v["Execution Time"]}),p+=" "+u+"ms",E&&(p+=" '"+E+"'"),m.length>1&&(p+=" ("+m.length+")"),(void 0!==console.group||void 0!==console.table)&&k.length>0&&(console.groupCollapsed(p),console.table?console.table(k):c.each(k,function(w,v){console.log(v.Name+": "+v["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(v,C,y){var u,x,w,p=r;return C=C||n,y=q||y,"string"==typeof v&&void 0!==p&&(v=v.split(/[\. ]/),u=v.length-1,c.each(v,function(K,I){var J=K!=u?I+v[K+1].charAt(0).toUpperCase()+v[K+1].slice(1):v;if(c.isPlainObject(p[J])&&K!=u){p=p[J]}else{if(void 0!==p[J]){return x=p[J],!1}if(!c.isPlainObject(p[I])||K==u){return void 0!==p[I]?(x=p[I],!1):(z.error(s.method,v),!1)}p=p[I]}})),c.isFunction(x)?w=x.apply(y,C):void 0!==x&&(w=x),c.isArray(g)?g.push(w):void 0!==g?g=[g,w]:void 0!==w&&(g=w),x}},z.preinitialize(),e?(void 0===r&&z.initialize(),z.invoke(j)):(void 0!==r&&r.invoke("destroy"),z.initialize())}),void 0!==g?g:this},c.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return c("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dropdown=function(k){var g,t=c(this),e=c(d),w=t.selector||"",j="ontouchstart" in d.documentElement,q=(new Date).getTime(),v=[],p=arguments[0],n="string"==typeof p,h=[].slice.call(arguments,1);return t.each(function(aA){var au,aw,az,aB,aq,ar,al,at,ax=c.isPlainObject(k)?c.extend(!0,{},c.fn.dropdown.settings,k):c.extend({},c.fn.dropdown.settings),u=ax.className,s=ax.message,an=ax.fields,G=ax.keys,aa=ax.metadata,aj=ax.namespace,ai=ax.regExp,ab=ax.selector,ak=ax.error,av=ax.templates,ay="."+aj,ap="module-"+aj,ag=c(this),ad=c(ax.context),ae=ag.find(ab.text),o=ag.find(ab.search),ac=ag.find(ab.sizer),ah=ag.find(ab.input),r=ag.find(ab.icon),m=ag.prev().find(ab.text).length>0?ag.prev().find(ab.text):ag.prev(),am=ag.children(ab.menu),J=am.find(ab.item),l=!1,ao=!1,i=!1,f=this,af=ag.data(ap);at={initialize:function(){at.debug("Initializing dropdown",ax),at.is.alreadySetup()?at.setup.reference():(at.setup.layout(),ax.values&&at.change.values(ax.values),at.refreshData(),at.save.defaults(),at.restore.selected(),at.create.id(),at.bind.events(),at.observeChanges(),at.instantiate())},instantiate:function(){at.verbose("Storing instance of dropdown",at),af=at,ag.data(ap,at)},destroy:function(){at.verbose("Destroying previous dropdown",ag),at.remove.tabbable(),ag.off(ay).removeData(ap),am.off(ay),e.off(aB),at.disconnect.menuObserver(),at.disconnect.selectObserver()},observeChanges:function(){"MutationObserver" in b&&(ar=new MutationObserver(at.event.select.mutation),al=new MutationObserver(at.event.menu.mutation),at.debug("Setting up mutation observer",ar,al),at.observe.select(),at.observe.menu())},disconnect:{menuObserver:function(){al&&al.disconnect()},selectObserver:function(){ar&&ar.disconnect()}},observe:{select:function(){at.has.input()&&ar.observe(ag[0],{childList:!0,subtree:!0})},menu:function(){at.has.menu()&&al.observe(am[0],{childList:!0,subtree:!0})}},create:{id:function(){aq=(Math.random().toString(16)+"000000000").substr(2,8),aB="."+aq,at.verbose("Creating unique id for element",aq)},userChoice:function(y){var A,x,z;return !!(y=y||at.get.userValues())&&(y=c.isArray(y)?y:[y],c.each(y,function(C,B){!1===at.get.item(B)&&(z=ax.templates.addition(at.add.variables(s.addResult,B)),x=c("<div />").html(z).attr("data-"+aa.value,B).attr("data-"+aa.text,B).addClass(u.addition).addClass(u.item),ax.hideAdditions&&x.addClass(u.hidden),A=void 0===A?x:A.add(x),at.verbose("Creating user choices for value",B,x))}),A)},userLabels:function(x){var y=at.get.userValues();y&&(at.debug("Adding user labels",y),c.each(y,function(A,z){at.verbose("Adding custom user value"),at.add.label(z,z)}))},menu:function(){am=c("<div />").addClass(u.menu).appendTo(ag)},sizer:function(){ac=c("<span />").addClass(u.sizer).insertAfter(o)}},search:function(x){x=void 0!==x?x:at.get.query(),at.verbose("Searching for query",x),at.has.minCharacters(x)?at.filter(x):at.hide()},select:{firstUnfiltered:function(){at.verbose("Selecting first non-filtered element"),at.remove.selectedItem(),J.not(ab.unselectable).not(ab.addition+ab.hidden).eq(0).addClass(u.selected)},nextAvailable:function(y){y=y.eq(0);var x=y.nextAll(ab.item).not(ab.unselectable).eq(0),z=y.prevAll(ab.item).not(ab.unselectable).eq(0);x.length>0?(at.verbose("Moving selection to",x),x.addClass(u.selected)):(at.verbose("Moving selection to",z),z.addClass(u.selected))}},setup:{api:function(){var x={debug:ax.debug,urlData:{value:at.get.value(),query:at.get.query()},on:!1};at.verbose("First request, initializing API"),ag.api(x)},layout:function(){ag.is("select")&&(at.setup.select(),at.setup.returnedObject()),at.has.menu()||at.create.menu(),at.is.search()&&!at.has.search()&&(at.verbose("Adding search input"),o=c("<input />").addClass(u.search).prop("autocomplete","off").insertBefore(ae)),at.is.multiple()&&at.is.searchSelection()&&!at.has.sizer()&&at.create.sizer(),ax.allowTab&&at.set.tabbable()},select:function(){var x=at.get.selectValues();at.debug("Dropdown initialized on a select",x),ag.is("select")&&(ah=ag),ah.parent(ab.dropdown).length>0?(at.debug("UI dropdown already exists. Creating dropdown menu only"),ag=ah.closest(ab.dropdown),at.has.menu()||at.create.menu(),am=ag.children(ab.menu),at.setup.menu(x)):(at.debug("Creating entire dropdown from select"),ag=c("<div />").attr("class",ah.attr("class")).addClass(u.selection).addClass(u.dropdown).html(av.dropdown(x)).insertBefore(ah),ah.hasClass(u.multiple)&&!1===ah.prop("multiple")&&(at.error(ak.missingMultiple),ah.prop("multiple",!0)),ah.is("[multiple]")&&at.set.multiple(),ah.prop("disabled")&&(at.debug("Disabling dropdown"),ag.addClass(u.disabled)),ah.removeAttr("class").detach().prependTo(ag)),at.refresh()},menu:function(x){am.html(av.menu(x,an)),J=am.find(ab.item)},reference:function(){at.debug("Dropdown behavior was called on select, replacing with closest dropdown"),ag=ag.parent(ab.dropdown),af=ag.data(ap),f=ag.get(0),at.refresh(),at.setup.returnedObject()},returnedObject:function(){var y=t.slice(0,aA),x=t.slice(aA+1);t=y.add(ag).add(x)}},refresh:function(){at.refreshSelectors(),at.refreshData()},refreshItems:function(){J=am.find(ab.item)},refreshSelectors:function(){at.verbose("Refreshing selector cache"),ae=ag.find(ab.text),o=ag.find(ab.search),ah=ag.find(ab.input),r=ag.find(ab.icon),m=ag.prev().find(ab.text).length>0?ag.prev().find(ab.text):ag.prev(),am=ag.children(ab.menu),J=am.find(ab.item)},refreshData:function(){at.verbose("Refreshing cached metadata"),J.removeData(aa.text).removeData(aa.value)},clearData:function(){at.verbose("Clearing metadata"),J.removeData(aa.text).removeData(aa.value),ag.removeData(aa.defaultText).removeData(aa.defaultValue).removeData(aa.placeholderText)},toggle:function(){at.verbose("Toggling menu visibility"),at.is.active()?at.hide():at.show()},show:function(x){if(x=c.isFunction(x)?x:function(){},!at.can.show()&&at.is.remote()&&(at.debug("No API results retrieved, searching before show"),at.queryRemote(at.get.query(),at.show)),at.can.show()&&!at.is.active()){if(at.debug("Showing dropdown"),!at.has.message()||at.has.maxSelections()||at.has.allResultsFiltered()||at.remove.message(),at.is.allFiltered()){return !0}!1!==ax.onShow.call(f)&&at.animate.show(function(){at.can.click()&&at.bind.intent(),at.has.menuSearch()&&at.focusSearch(),at.set.visible(),x.call(f)})}},hide:function(x){x=c.isFunction(x)?x:function(){},at.is.active()&&(at.debug("Hiding dropdown"),!1!==ax.onHide.call(f)&&at.animate.hide(function(){at.remove.visible(),x.call(f)}))},hideOthers:function(){at.verbose("Finding other dropdowns to hide"),t.not(ag).has(ab.menu+"."+u.visible).dropdown("hide")},hideMenu:function(){at.verbose("Hiding menu  instantaneously"),at.remove.active(),at.remove.visible(),am.transition("hide")},hideSubMenus:function(){var x=am.children(ab.item).find(ab.menu);at.verbose("Hiding sub menus",x),x.transition("hide")},bind:{events:function(){j&&at.bind.touchEvents(),at.bind.keyboardEvents(),at.bind.inputEvents(),at.bind.mouseEvents()},touchEvents:function(){at.debug("Touch device detected binding additional touch events"),at.is.searchSelection()||at.is.single()&&ag.on("touchstart"+ay,at.event.test.toggle),am.on("touchstart"+ay,ab.item,at.event.item.mouseenter)},keyboardEvents:function(){at.verbose("Binding keyboard events"),ag.on("keydown"+ay,at.event.keydown),at.has.search()&&ag.on(at.get.inputEvent()+ay,ab.search,at.event.input),at.is.multiple()&&e.on("keydown"+aB,at.event.document.keydown)},inputEvents:function(){at.verbose("Binding input change events"),ag.on("change"+ay,ab.input,at.event.change)},mouseEvents:function(){at.verbose("Binding mouse events"),at.is.multiple()&&ag.on("click"+ay,ab.label,at.event.label.click).on("click"+ay,ab.remove,at.event.remove.click),at.is.searchSelection()?(ag.on("mousedown"+ay,at.event.mousedown).on("mouseup"+ay,at.event.mouseup).on("mousedown"+ay,ab.menu,at.event.menu.mousedown).on("mouseup"+ay,ab.menu,at.event.menu.mouseup).on("click"+ay,ab.icon,at.event.icon.click).on("focus"+ay,ab.search,at.event.search.focus).on("click"+ay,ab.search,at.event.search.focus).on("blur"+ay,ab.search,at.event.search.blur).on("click"+ay,ab.text,at.event.text.focus),at.is.multiple()&&ag.on("click"+ay,at.event.click)):("click"==ax.on?ag.on("click"+ay,ab.icon,at.event.icon.click).on("click"+ay,at.event.test.toggle):"hover"==ax.on?ag.on("mouseenter"+ay,at.delay.show).on("mouseleave"+ay,at.delay.hide):ag.on(ax.on+ay,at.toggle),ag.on("mousedown"+ay,at.event.mousedown).on("mouseup"+ay,at.event.mouseup).on("focus"+ay,at.event.focus),at.has.menuSearch()?ag.on("blur"+ay,ab.search,at.event.search.blur):ag.on("blur"+ay,at.event.blur)),am.on("mouseenter"+ay,ab.item,at.event.item.mouseenter).on("mouseleave"+ay,ab.item,at.event.item.mouseleave).on("click"+ay,ab.item,at.event.item.click)},intent:function(){at.verbose("Binding hide intent event to document"),j&&e.on("touchstart"+aB,at.event.test.touch).on("touchmove"+aB,at.event.test.touch),e.on("click"+aB,at.event.test.hide)}},unbind:{intent:function(){at.verbose("Removing hide intent event from document"),j&&e.off("touchstart"+aB).off("touchmove"+aB),e.off("click"+aB)}},filter:function(y){var x=void 0!==y?y:at.get.query(),z=function(){at.is.multiple()&&at.filterActive(),(y||!y&&0==at.get.activeItem().length)&&at.select.firstUnfiltered(),at.has.allResultsFiltered()?ax.onNoResults.call(f,x)?ax.allowAdditions?ax.hideAdditions&&(at.verbose("User addition with no menu, setting empty style"),at.set.empty(),at.hideMenu()):(at.verbose("All items filtered, showing message",x),at.add.message(s.noResults)):(at.verbose("All items filtered, hiding dropdown",x),at.hideMenu()):(at.remove.empty(),at.remove.message()),ax.allowAdditions&&at.add.userSuggestion(y),at.is.searchSelection()&&at.can.show()&&at.is.focusedOnSearch()&&at.show()};ax.useLabels&&at.has.maxSelections()||(ax.apiSettings?at.can.useAPI()?at.queryRemote(x,function(){ax.filterRemoteData&&at.filterItems(x),z()}):at.error(ak.noAPI):(at.filterItems(x),z()))},queryRemote:function(y,z){var x={errorDuration:!1,cache:"local",throttle:ax.throttle,urlData:{query:y},onError:function(){at.add.message(s.serverError),z()},onFailure:function(){at.add.message(s.serverError),z()},onSuccess:function(A){at.remove.message(),at.setup.menu({values:A[an.remoteValues]}),z()}};ag.api("get request")||at.setup.api(),x=c.extend(!0,{},x,ax.apiSettings),ag.api("setting",x).api("query")},filterItems:function(z){var B=void 0!==z?z:at.get.query(),y=null,A=at.escape.string(B),x=new RegExp("^"+A,"igm");at.has.query()&&(y=[],at.verbose("Searching for matching values",B),J.each(function(){var C,E,D=c(this);if("both"==ax.match||"text"==ax.match){if(C=String(at.get.choiceText(D,!1)),-1!==C.search(x)){return y.push(this),!0}if("exact"===ax.fullTextSearch&&at.exactSearch(B,C)){return y.push(this),!0}if(!0===ax.fullTextSearch&&at.fuzzySearch(B,C)){return y.push(this),!0}}if("both"==ax.match||"value"==ax.match){if(E=String(at.get.choiceValue(D,C)),-1!==E.search(x)){return y.push(this),!0}if("exact"===ax.fullTextSearch&&at.exactSearch(B,E)){return y.push(this),!0}if(!0===ax.fullTextSearch&&at.fuzzySearch(B,E)){return y.push(this),!0}}})),at.debug("Showing only matched items",B),at.remove.filteredItem(),y&&J.not(y).addClass(u.filtered)},fuzzySearch:function(B,z){var D=z.length,y=B.length;if(B=B.toLowerCase(),z=z.toLowerCase(),y>D){return !1}if(y===D){return B===z}B:for(var C=0,x=0;C<y;C++){for(var A=B.charCodeAt(C);x<D;){if(z.charCodeAt(x++)===A){continue B}}return !1}return !0},exactSearch:function(y,x){return y=y.toLowerCase(),x=x.toLowerCase(),x.indexOf(y)>-1},filterActive:function(){ax.useLabels&&J.filter("."+u.active).addClass(u.filtered)},focusSearch:function(x){at.has.search()&&!at.is.focusedOnSearch()&&(x?(ag.off("focus"+ay,ab.search),o.focus(),ag.on("focus"+ay,ab.search,at.event.search.focus)):o.focus())},forceSelection:function(){var y=J.not(u.filtered).filter("."+u.selected).eq(0),x=J.not(u.filtered).filter("."+u.active).eq(0),z=y.length>0?y:x;if(z.length>0&&!at.is.multiple()){return at.debug("Forcing partial selection to selected item",z),void at.event.item.click.call(z,{},!0)}ax.allowAdditions?(at.set.selected(at.get.query()),at.remove.searchTerm()):at.remove.searchTerm()},change:{values:function(x){ax.allowAdditions||at.clear(),at.debug("Creating dropdown with specified values",x),at.setup.menu({values:x}),c.each(x,function(z,y){if(1==y.selected){return at.debug("Setting initial selection to",y.value),at.set.selected(y.value),!0}})}},event:{change:function(){i||(at.debug("Input changed, updating selection"),at.set.selected())},focus:function(){ax.showOnFocus&&!l&&at.is.hidden()&&!aw&&at.show()},blur:function(x){aw=d.activeElement===this,l||aw||(at.remove.activeLabel(),at.hide())},mousedown:function(){at.is.searchSelection()?az=!0:l=!0},mouseup:function(){at.is.searchSelection()?az=!1:l=!1},click:function(x){c(x.target).is(ag)&&(at.is.focusedOnSearch()?at.show():at.focusSearch())},search:{focus:function(){l=!0,at.is.multiple()&&at.remove.activeLabel(),ax.showOnFocus&&at.search()},blur:function(x){aw=d.activeElement===this,at.is.searchSelection()&&!az&&(ao||aw||(ax.forceSelection&&at.forceSelection(),at.hide())),az=!1}},icon:{click:function(x){at.toggle()}},text:{focus:function(x){l=!0,at.focusSearch()}},input:function(x){(at.is.multiple()||at.is.searchSelection())&&at.set.filtered(),clearTimeout(at.timer),at.timer=setTimeout(at.search,ax.delay.search)},label:{click:function(z){var D=c(this),y=ag.find(ab.label),C=y.filter("."+u.active),x=D.nextAll("."+u.active),B=D.prevAll("."+u.active),A=x.length>0?D.nextUntil(x).add(C).add(D):D.prevUntil(B).add(C).add(D);z.shiftKey?(C.removeClass(u.active),A.addClass(u.active)):z.ctrlKey?D.toggleClass(u.active):(C.removeClass(u.active),D.addClass(u.active)),ax.onLabelSelect.apply(this,y.filter("."+u.active))}},remove:{click:function(){var x=c(this).parent();x.hasClass(u.active)?at.remove.activeLabels():at.remove.activeLabels(x)}},test:{toggle:function(y){var x=at.is.multiple()?at.show:at.toggle;at.is.bubbledLabelClick(y)||at.is.bubbledIconClick(y)||at.determine.eventOnElement(y,x)&&y.preventDefault()},touch:function(x){at.determine.eventOnElement(x,function(){"touchstart"==x.type?at.timer=setTimeout(function(){at.hide()},ax.delay.touch):"touchmove"==x.type&&clearTimeout(at.timer)}),x.stopPropagation()},hide:function(x){at.determine.eventInModule(x,at.hide)}},select:{mutation:function(x){at.debug("<select> modified, recreating menu");var y=!1;c.each(x,function(A,z){if(c(z.target).is("select")||c(z.addedNodes).is("select")){return y=!0,!0}}),y&&(at.disconnect.selectObserver(),at.refresh(),at.setup.select(),at.set.selected(),at.observe.select())}},menu:{mutation:function(z){var D=z[0],y=c(D.addedNodes?D.addedNodes[0]:!1),C=c(D.removedNodes?D.removedNodes[0]:!1),x=y.add(C),B=x.is(ab.addition)||x.closest(ab.addition).length>0,A=x.is(ab.message)||x.closest(ab.message).length>0;B||A?(at.debug("Updating item selector cache"),at.refreshItems()):(at.debug("Menu modified, updating selector cache"),at.refresh())},mousedown:function(){ao=!0},mouseup:function(){ao=!1}},item:{mouseenter:function(z){var C=c(z.target),y=c(this),B=y.children(ab.menu),x=y.siblings(ab.item).children(ab.menu),A=B.length>0;!(B.find(C).length>0)&&A&&(clearTimeout(at.itemTimer),at.itemTimer=setTimeout(function(){at.verbose("Showing sub-menu",B),c.each(x,function(){at.animate.hide(!1,c(this))}),at.animate.show(!1,B)},ax.delay.show),z.preventDefault())},mouseleave:function(x){var y=c(this).children(ab.menu);y.length>0&&(clearTimeout(at.itemTimer),at.itemTimer=setTimeout(function(){at.verbose("Hiding sub-menu",y),at.animate.hide(!1,y)},ax.delay.hide))},click:function(E,A){var y=c(this),C=c(E?E.target:""),x=y.find(ab.menu),F=at.get.choiceText(y),z=at.get.choiceValue(y,F),B=x.length>0,D=x.find(C).length>0;at.has.menuSearch()&&c(d.activeElement).blur(),D||B&&!ax.allowCategorySelection||(at.is.searchSelection()&&(ax.allowAdditions&&at.remove.userAddition(),at.remove.searchTerm(),at.is.focusedOnSearch()||1==A||at.focusSearch(!0)),ax.useLabels||(at.remove.filteredItem(),at.set.scrollPosition(y)),at.determine.selectAction.call(this,F,z))}},document:{keydown:function(E){var L=E.which;if(at.is.inObject(L,G)){var z=ag.find(ab.label),C=z.filter("."+u.active),y=(C.data(aa.value),z.index(C)),I=z.length,x=C.length>0,M=C.length>1,B=0===y,H=y+1==I,K=at.is.searchSelection(),F=at.is.focusedOnSearch(),D=at.is.focused(),A=F&&0===at.get.caretPosition();if(K&&!x&&!F){return}L==G.leftArrow?!D&&!A||x?x&&(E.shiftKey?at.verbose("Adding previous label to selection"):(at.verbose("Selecting previous label"),z.removeClass(u.active)),B&&!M?C.addClass(u.active):C.prev(ab.siblingLabel).addClass(u.active).end(),E.preventDefault()):(at.verbose("Selecting previous label"),z.last().addClass(u.active)):L==G.rightArrow?(D&&!x&&z.first().addClass(u.active),x&&(E.shiftKey?at.verbose("Adding next label to selection"):(at.verbose("Selecting next label"),z.removeClass(u.active)),H?K?F?z.removeClass(u.active):at.focusSearch():M?C.next(ab.siblingLabel).addClass(u.active):C.addClass(u.active):C.next(ab.siblingLabel).addClass(u.active),E.preventDefault())):L==G.deleteKey||L==G.backspace?x?(at.verbose("Removing active labels"),H&&K&&!F&&at.focusSearch(),C.last().next(ab.siblingLabel).addClass(u.active),at.remove.activeLabels(C),E.preventDefault()):A&&!x&&L==G.backspace&&(at.verbose("Removing last label on input backspace"),C=z.last().addClass(u.active),at.remove.activeLabels(C)):C.removeClass(u.active)}}},keydown:function(F){var M=F.which;if(at.is.inObject(M,G)){var z,C=J.not(ab.unselectable).filter("."+u.selected).eq(0),y=am.children("."+u.active).eq(0),K=C.length>0?C:y,x=K.length>0?K.siblings(":not(."+u.filtered+")").addBack():am.children(":not(."+u.filtered+")"),N=K.children(ab.menu),B=K.closest(ab.menu),I=B.hasClass(u.visible)||B.hasClass(u.animating)||B.parent(ab.menu).length>0,L=N.length>0,H=K.length>0,E=K.not(ab.unselectable).length>0,A=M==G.delimiter&&ax.allowAdditions&&at.is.multiple(),D=ax.allowAdditions&&ax.hideAdditions&&(M==G.enter||A)&&E;if(D&&(at.verbose("Selecting item from keyboard shortcut",K),at.event.item.click.call(K,F),at.is.searchSelection()&&at.remove.searchTerm()),at.is.visible()){if((M==G.enter||A)&&(M==G.enter&&H&&L&&!ax.allowCategorySelection?(at.verbose("Pressed enter on unselectable category, opening sub menu"),M=G.rightArrow):E&&(at.verbose("Selecting item from keyboard shortcut",K),at.event.item.click.call(K,F),at.is.searchSelection()&&at.remove.searchTerm()),F.preventDefault()),H&&(M==G.leftArrow&&B[0]!==am[0]&&(at.verbose("Left key pressed, closing sub-menu"),at.animate.hide(!1,B),K.removeClass(u.selected),B.closest(ab.item).addClass(u.selected),F.preventDefault()),M==G.rightArrow&&L&&(at.verbose("Right key pressed, opening sub-menu"),at.animate.show(!1,N),K.removeClass(u.selected),N.find(ab.item).eq(0).addClass(u.selected),F.preventDefault())),M==G.upArrow){if(z=H&&I?K.prevAll(ab.item+":not("+ab.unselectable+")").eq(0):J.eq(0),x.index(z)<0){return at.verbose("Up key pressed but reached top of current menu"),void F.preventDefault()}at.verbose("Up key pressed, changing active item"),K.removeClass(u.selected),z.addClass(u.selected),at.set.scrollPosition(z),ax.selectOnKeydown&&at.is.single()&&at.set.selectedItem(z),F.preventDefault()}if(M==G.downArrow){if(z=H&&I?z=K.nextAll(ab.item+":not("+ab.unselectable+")").eq(0):J.eq(0),0===z.length){return at.verbose("Down key pressed but reached bottom of current menu"),void F.preventDefault()}at.verbose("Down key pressed, changing active item"),J.removeClass(u.selected),z.addClass(u.selected),at.set.scrollPosition(z),ax.selectOnKeydown&&at.is.single()&&at.set.selectedItem(z),F.preventDefault()}M==G.pageUp&&(at.scrollPage("up"),F.preventDefault()),M==G.pageDown&&(at.scrollPage("down"),F.preventDefault()),M==G.escape&&(at.verbose("Escape key pressed, closing dropdown"),at.hide())}else{A&&F.preventDefault(),M!=G.downArrow||at.is.visible()||(at.verbose("Down key pressed, showing dropdown"),at.show(),F.preventDefault())}}else{at.has.search()||at.set.selectedLetter(String.fromCharCode(M))}}},trigger:{change:function(){var y=d.createEvent("HTMLEvents"),x=ah[0];x&&(at.verbose("Triggering native change event"),y.initEvent("change",!0,!1),x.dispatchEvent(y))}},determine:{selectAction:function(x,y){at.verbose("Determining action",ax.action),c.isFunction(at.action[ax.action])?(at.verbose("Triggering preset action",ax.action,x,y),at.action[ax.action].call(f,x,y,this)):c.isFunction(ax.action)?(at.verbose("Triggering user action",ax.action,x,y),ax.action.call(f,x,y,this)):at.error(ak.action,ax.action)},eventInModule:function(z,y){var B=c(z.target),x=B.closest(d.documentElement).length>0,A=B.closest(ag).length>0;return y=c.isFunction(y)?y:function(){},x&&!A?(at.verbose("Triggering event",y),y(),!0):(at.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(A,z){var D=c(A.target),y=D.closest(ab.siblingLabel),C=d.body.contains(A.target),B=0===ag.find(y).length,x=0===D.closest(am).length;return z=c.isFunction(z)?z:function(){},C&&B&&x?(at.verbose("Triggering event",z),z(),!0):(at.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(y,z,x){if(z=void 0!==z?z:y,at.can.activate(c(x))){if(at.set.selected(z,c(x)),at.is.multiple()&&!at.is.allFiltered()){return}at.hideAndClear()}},select:function(y,z,x){if(z=void 0!==z?z:y,at.can.activate(c(x))){if(at.set.value(z,c(x)),at.is.multiple()&&!at.is.allFiltered()){return}at.hideAndClear()}},combo:function(y,z,x){z=void 0!==z?z:y,at.set.selected(z,c(x)),at.hideAndClear()},hide:function(y,x,z){at.set.value(x,y),at.hideAndClear()}},get:{id:function(){return aq},defaultText:function(){return ag.data(aa.defaultText)},defaultValue:function(){return ag.data(aa.defaultValue)},placeholderText:function(){return"auto"!=ax.placeholder&&"string"==typeof ax.placeholder?ax.placeholder:ag.data(aa.placeholderText)||""},text:function(){return ae.text()},query:function(){return c.trim(o.val())},searchWidth:function(x){return x=void 0!==x?x:o.val(),ac.text(x),Math.ceil(ac.width()+1)},selectionCount:function(){var x=at.get.values();return at.is.multiple()?c.isArray(x)?x.length:0:""!==at.get.value()?1:0},transition:function(x){return"auto"==ax.transition?at.is.upward(x)?"slide up":"slide down":ax.transition},userValues:function(){var x=at.get.values();return !!x&&(x=c.isArray(x)?x:[x],c.grep(x,function(y){return !1===at.get.item(y)}))},uniqueArray:function(x){return c.grep(x,function(z,y){return c.inArray(z,x)===y})},caretPosition:function(){var z,y,x=o.get(0);return"selectionStart" in x?x.selectionStart:d.selection?(x.focus(),z=d.selection.createRange(),y=z.text.length,z.moveStart("character",-x.value.length),z.text.length-y):void 0},value:function(){var x=ah.length>0?ah.val():ag.data(aa.value),y=c.isArray(x)&&1===x.length&&""===x[0];return void 0===x||y?"":x},values:function(){var x=at.get.value();return""===x?"":!at.has.selectInput()&&at.is.multiple()?"string"==typeof x?x.split(ax.delimiter):"":x},remoteValues:function(){var x=at.get.values(),y=!1;return x&&("string"==typeof x&&(x=[x]),c.each(x,function(B,A){var z=at.read.remoteData(A);at.verbose("Restoring value from session data",z,A),z&&(y||(y={}),y[A]=z)})),y},choiceText:function(x,y){if(y=void 0!==y?y:ax.preserveHTML,x){return x.find(ab.menu).length>0&&(at.verbose("Retrieving text of element with sub-menu"),x=x.clone(),x.find(ab.menu).remove(),x.find(ab.menuIcon).remove()),void 0!==x.data(aa.text)?x.data(aa.text):y?c.trim(x.html()):c.trim(x.text())}},choiceValue:function(x,y){return y=y||at.get.choiceText(x),!!x&&(void 0!==x.data(aa.value)?String(x.data(aa.value)):"string"==typeof y?c.trim(y.toLowerCase()):String(y))},inputEvent:function(){var x=o[0];return !!x&&(void 0!==x.oninput?"input":void 0!==x.onpropertychange?"propertychange":"keyup")},selectValues:function(){var x={};return x.values=[],ag.find("option").each(function(){var B=c(this),z=B.html(),A=B.attr("disabled"),y=void 0!==B.attr("value")?B.attr("value"):z;"auto"===ax.placeholder&&""===y?x.placeholder=z:x.values.push({name:z,value:y,disabled:A})}),ax.placeholder&&"auto"!==ax.placeholder&&(at.debug("Setting placeholder value to",ax.placeholder),x.placeholder=ax.placeholder),ax.sortSelect?(x.values.sort(function(z,y){return z.name>y.name?1:-1}),at.debug("Retrieved and sorted values from select",x)):at.debug("Retrieved values from select",x),x},activeItem:function(){return J.filter("."+u.active)},selectedItem:function(){var x=J.not(ab.unselectable).filter("."+u.selected);return x.length>0?x:J.eq(0)},itemWithAdditions:function(y){var x=at.get.item(y),z=at.create.userChoice(y);return z&&z.length>0&&(x=x.length>0?x.add(z):z),x},item:function(z,B){var y,A,x=!1;return z=void 0!==z?z:void 0!==at.get.values()?at.get.values():at.get.text(),y=A?z.length>0:void 0!==z&&null!==z,A=at.is.multiple()&&c.isArray(z),B=""===z||0===z||(B||!1),y&&J.each(function(){var C=c(this),E=at.get.choiceText(C),D=at.get.choiceValue(C,E);if(null!==D&&void 0!==D){if(A){-1===c.inArray(String(D),z)&&-1===c.inArray(E,z)||(x=x?x.add(C):C)}else{if(B){if(at.verbose("Ambiguous dropdown value using strict type check",C,z),D===z||E===z){return x=C,!0}}else{if(String(D)==String(z)||E==z){return at.verbose("Found select item by value",D,z),x=C,!0}}}}}),x}},check:{maxSelections:function(x){return !ax.maxSelections||(x=void 0!==x?x:at.get.selectionCount(),x>=ax.maxSelections?(at.debug("Maximum selection count reached"),ax.useLabels&&(J.addClass(u.filtered),at.add.message(s.maxSelections)),!0):(at.verbose("No longer at maximum selection count"),at.remove.message(),at.remove.filteredItem(),at.is.searchSelection()&&at.filterItems(),!1))}},restore:{defaults:function(){at.clear(),at.restore.defaultText(),at.restore.defaultValue()},defaultText:function(){var x=at.get.defaultText();x===at.get.placeholderText?(at.debug("Restoring default placeholder text",x),at.set.placeholderText(x)):(at.debug("Restoring default text",x),at.set.text(x))},placeholderText:function(){at.set.placeholderText()},defaultValue:function(){var x=at.get.defaultValue();void 0!==x&&(at.debug("Restoring default value",x),""!==x?(at.set.value(x),at.set.selected()):(at.remove.activeItem(),at.remove.selectedItem()))},labels:function(){ax.allowAdditions&&(ax.useLabels||(at.error(ak.labels),ax.useLabels=!0),at.debug("Restoring selected values"),at.create.userLabels()),at.check.maxSelections()},selected:function(){at.restore.values(),at.is.multiple()?(at.debug("Restoring previously selected values and labels"),at.restore.labels()):at.debug("Restoring previously selected values")},values:function(){at.set.initialLoad(),ax.apiSettings&&ax.saveRemoteData&&at.get.remoteValues()?at.restore.remoteValues():at.set.selected(),at.remove.initialLoad()},remoteValues:function(){var x=at.get.remoteValues();at.debug("Recreating selected from session data",x),x&&(at.is.single()?c.each(x,function(z,y){at.set.text(y)}):c.each(x,function(z,y){at.add.label(z,y)}))}},read:{remoteData:function(x){var y;return void 0===b.Storage?void at.error(ak.noStorage):void 0!==(y=sessionStorage.getItem(x))&&y}},save:{defaults:function(){at.save.defaultText(),at.save.placeholderText(),at.save.defaultValue()},defaultValue:function(){var x=at.get.value();at.verbose("Saving default value as",x),ag.data(aa.defaultValue,x)},defaultText:function(){var x=at.get.text();at.verbose("Saving default text as",x),ag.data(aa.defaultText,x)},placeholderText:function(){var x;!1!==ax.placeholder&&ae.hasClass(u.placeholder)&&(x=at.get.text(),at.verbose("Saving placeholder text as",x),ag.data(aa.placeholderText,x))},remoteData:function(x,y){if(void 0===b.Storage){return void at.error(ak.noStorage)}at.verbose("Saving remote data to session storage",y,x),sessionStorage.setItem(y,x)}},clear:function(){at.is.multiple()&&ax.useLabels?at.remove.labels():(at.remove.activeItem(),at.remove.selectedItem()),at.set.placeholderText(),at.clearValue()},clearValue:function(){at.set.value("")},scrollPage:function(D,K){var z,B,y,H=K||at.get.selectedItem(),x=H.closest(ab.menu),L=x.outerHeight(),A=x.scrollTop(),F=J.eq(0).outerHeight(),I=Math.floor(L/F),E=(x.prop("scrollHeight"),"up"==D?A-F*I:A+F*I),C=J.not(ab.unselectable);y="up"==D?C.index(H)-I:C.index(H)+I,z="up"==D?y>=0:y<C.length,B=z?C.eq(y):"up"==D?C.first():C.last(),B.length>0&&(at.debug("Scrolling page",D,B),H.removeClass(u.selected),B.addClass(u.selected),ax.selectOnKeydown&&at.is.single()&&at.set.selectedItem(B),x.scrollTop(E))},set:{filtered:function(){var B=at.is.multiple(),z=at.is.searchSelection(),D=B&&z,y=z?at.get.query():"",C="string"==typeof y&&y.length>0,x=at.get.searchWidth(),A=""!==y;B&&C&&(at.verbose("Adjusting input width",x,ax.glyphWidth),o.css("width",x)),C||D&&A?(at.verbose("Hiding placeholder text"),ae.addClass(u.filtered)):(!B||D&&!A)&&(at.verbose("Showing placeholder text"),ae.removeClass(u.filtered))},empty:function(){ag.addClass(u.empty)},loading:function(){ag.addClass(u.loading)},placeholderText:function(x){x=x||at.get.placeholderText(),at.debug("Setting placeholder text",x),at.set.text(x),ae.addClass(u.placeholder)},tabbable:function(){at.is.searchSelection()?(at.debug("Added tabindex to searchable dropdown"),o.val("").attr("tabindex",0),am.attr("tabindex",-1)):(at.debug("Added tabindex to dropdown"),void 0===ag.attr("tabindex")&&(ag.attr("tabindex",0),am.attr("tabindex",-1)))},initialLoad:function(){at.verbose("Setting initial load"),au=!0},activeItem:function(x){ax.allowAdditions&&x.filter(ab.addition).length>0?x.addClass(u.filtered):x.addClass(u.active)},partialSearch:function(y){var x=at.get.query().length;o.val(y.substr(0,x))},scrollPosition:function(C,H){var z,B,y,E,x,I,A,D,F;C=C||at.get.selectedItem(),z=C.closest(ab.menu),B=C&&C.length>0,H=void 0!==H&&H,C&&z.length>0&&B&&(E=C.position().top,z.addClass(u.loading),I=z.scrollTop(),x=z.offset().top,E=C.offset().top,y=I-x+E,H||(A=z.height(),F=I+A<y+5,D=y-5<I),at.debug("Scrolling to active item",y),(H||D||F)&&z.scrollTop(y),z.removeClass(u.loading))},text:function(x){"select"!==ax.action&&("combo"==ax.action?(at.debug("Changing combo button text",x,m),ax.preserveHTML?m.html(x):m.text(x)):(x!==at.get.placeholderText()&&ae.removeClass(u.placeholder),at.debug("Changing text",x,ae),ae.removeClass(u.filtered),ax.preserveHTML?ae.html(x):ae.text(x)))},selectedItem:function(z){var y=at.get.choiceValue(z),A=at.get.choiceText(z,!1),x=at.get.choiceText(z,!0);at.debug("Setting user selection to item",z),at.remove.activeItem(),at.set.partialSearch(A),at.set.activeItem(z),at.set.selected(y,z),at.set.text(x)},selectedLetter:function(z){var B,y=J.filter("."+u.selected),A=y.length>0&&at.has.firstLetter(y,z),x=!1;A&&(B=y.nextAll(J).eq(0),at.has.firstLetter(B,z)&&(x=B)),x||J.each(function(){if(at.has.firstLetter(c(this),z)){return x=c(this),!1}}),x&&(at.verbose("Scrolling to next value with letter",z),at.set.scrollPosition(x),y.removeClass(u.selected),x.addClass(u.selected),ax.selectOnKeydown&&at.is.single()&&at.set.selectedItem(x))},direction:function(x){"auto"==ax.direction?(at.remove.upward(),at.can.openDownward(x)?at.remove.upward(x):at.set.upward(x),at.is.leftward(x)||at.can.openRightward(x)||at.set.leftward(x)):"upward"==ax.direction&&at.set.upward(x)},upward:function(x){(x||ag).addClass(u.upward)},leftward:function(x){(x||am).addClass(u.leftward)},value:function(B,z,D){var y=at.escape.value(B),C=ah.length>0,x=(at.has.value(B),at.get.values()),A=void 0!==B?String(B):B;if(C){if(!ax.allowReselection&&A==x&&(at.verbose("Skipping value update already same value",B,x),!at.is.initialLoad())){return}at.is.single()&&at.has.selectInput()&&at.can.extendSelect()&&(at.debug("Adding user option",B),at.add.optionValue(B)),at.debug("Updating input value",y,x),i=!0,ah.val(y),!1===ax.fireOnInit&&at.is.initialLoad()?at.debug("Input native change event ignored on initial load"):at.trigger.change(),i=!1}else{at.verbose("Storing value in metadata",y,ah),y!==x&&ag.data(aa.value,A)}!1===ax.fireOnInit&&at.is.initialLoad()?at.verbose("No callback on initial load",ax.onChange):ax.onChange.call(f,B,z,D)},active:function(){ag.addClass(u.active)},multiple:function(){ag.addClass(u.multiple)},visible:function(){ag.addClass(u.visible)},exactly:function(y,x){at.debug("Setting selected to exact values"),at.clear(),at.set.selected(y,x)},selected:function(y,z){var x=at.is.multiple();(z=ax.allowAdditions?z||at.get.itemWithAdditions(y):z||at.get.item(y))&&(at.debug("Setting selected menu item to",z),at.is.multiple()&&at.remove.searchWidth(),at.is.single()?(at.remove.activeItem(),at.remove.selectedItem()):ax.useLabels&&at.remove.selectedItem(),z.each(function(){var C=c(this),F=at.get.choiceText(C),B=at.get.choiceValue(C,F),E=C.hasClass(u.filtered),D=C.hasClass(u.active),A=C.hasClass(u.addition),H=x&&1==z.length;x?!D||A?(ax.apiSettings&&ax.saveRemoteData&&at.save.remoteData(F,B),ax.useLabels?(at.add.value(B,F,C),at.add.label(B,F,H),at.set.activeItem(C),at.filterActive(),at.select.nextAvailable(z)):(at.add.value(B,F,C),at.set.text(at.add.variables(s.count)),at.set.activeItem(C))):E||(at.debug("Selected active value, removing label"),at.remove.selected(B)):(ax.apiSettings&&ax.saveRemoteData&&at.save.remoteData(F,B),at.set.text(F),at.set.value(B,F,C),C.addClass(u.active).addClass(u.selected))}))}},add:{label:function(z,C,y){var B,x=at.is.searchSelection()?o:ae,A=at.escape.value(z);if(B=c("<a />").addClass(u.label).attr("data-"+aa.value,A).html(av.label(A,C)),B=ax.onLabelCreate.call(B,A,C),at.has.label(z)){return void at.debug("Label already exists, skipping",A)}ax.label.variation&&B.addClass(ax.label.variation),!0===y?(at.debug("Animating in label",B),B.addClass(u.hidden).insertBefore(x).transition(ax.label.transition,ax.label.duration)):(at.debug("Adding selection label",B),B.insertBefore(x))},message:function(y){var z=am.children(ab.message),x=ax.templates.message(at.add.variables(y));z.length>0?z.html(x):z=c("<div/>").html(x).addClass(u.message).appendTo(am)},optionValue:function(x){var y=at.escape.value(x);ah.find('option[value="'+at.escape.string(y)+'"]').length>0||(at.disconnect.selectObserver(),at.is.single()&&(at.verbose("Removing previous user addition"),ah.find("option."+u.addition).remove()),c("<option/>").prop("value",y).addClass(u.addition).html(x).appendTo(ah),at.verbose("Adding user addition as an <option>",x),at.observe.select())},userSuggestion:function(A){var z,C=am.children(ab.addition),y=at.get.item(A),B=y&&y.not(ab.addition).length,x=C.length>0;if(!ax.useLabels||!at.has.maxSelections()){if(""===A||B){return void C.remove()}x?(C.data(aa.value,A).data(aa.text,A).attr("data-"+aa.value,A).attr("data-"+aa.text,A).removeClass(u.filtered),ax.hideAdditions||(z=ax.templates.addition(at.add.variables(s.addResult,A)),C.html(z)),at.verbose("Replacing user suggestion with new value",C)):(C=at.create.userChoice(A),C.prependTo(am),at.verbose("Adding item choice to menu corresponding with user choice addition",C)),ax.hideAdditions&&!at.is.allFiltered()||C.addClass(u.selected).siblings().removeClass(u.selected),at.refreshItems()}},variables:function(B,z){var D,y,C=-1!==B.search("{count}"),x=-1!==B.search("{maxCount}"),A=-1!==B.search("{term}");return at.verbose("Adding templated variables to message",B),C&&(D=at.get.selectionCount(),B=B.replace("{count}",D)),x&&(D=at.get.selectionCount(),B=B.replace("{maxCount}",ax.maxSelections)),A&&(y=z||at.get.query(),B=B.replace("{term}",y)),B},value:function(z,B,y){var A,x=at.get.values();if(""===z){return void at.debug("Cannot select blank values from multiselect")}c.isArray(x)?(A=x.concat([z]),A=at.get.uniqueArray(A)):A=[z],at.has.selectInput()?at.can.extendSelect()&&(at.debug("Adding value to select",z,A,ah),at.add.optionValue(z)):(A=A.join(ax.delimiter),at.debug("Setting hidden input to delimited value",A,ah)),!1===ax.fireOnInit&&at.is.initialLoad()?at.verbose("Skipping onadd callback on initial load",ax.onAdd):ax.onAdd.call(f,z,B,y),at.set.value(A,z,B,y),at.check.maxSelections()}},remove:{active:function(){ag.removeClass(u.active)},activeLabel:function(){ag.find(ab.label).removeClass(u.active)},empty:function(){ag.removeClass(u.empty)},loading:function(){ag.removeClass(u.loading)},initialLoad:function(){au=!1},upward:function(x){(x||ag).removeClass(u.upward)},leftward:function(x){(x||am).removeClass(u.leftward)},visible:function(){ag.removeClass(u.visible)},activeItem:function(){J.removeClass(u.active)},filteredItem:function(){ax.useLabels&&at.has.maxSelections()||(ax.useLabels&&at.is.multiple()?J.not("."+u.active).removeClass(u.filtered):J.removeClass(u.filtered),at.remove.empty())},optionValue:function(y){var x=at.escape.value(y),z=ah.find('option[value="'+at.escape.string(x)+'"]');z.length>0&&z.hasClass(u.addition)&&(ar&&(ar.disconnect(),at.verbose("Temporarily disconnecting mutation observer")),z.remove(),at.verbose("Removing user addition as an <option>",x),ar&&ar.observe(ah[0],{childList:!0,subtree:!0}))},message:function(){am.children(ab.message).remove()},searchWidth:function(){o.css("width","")},searchTerm:function(){at.verbose("Cleared search term"),o.val(""),at.set.filtered()},userAddition:function(){J.filter(ab.addition).remove()},selected:function(x,y){if(!(y=ax.allowAdditions?y||at.get.itemWithAdditions(x):y||at.get.item(x))){return !1}y.each(function(){var A=c(this),B=at.get.choiceText(A),z=at.get.choiceValue(A,B);at.is.multiple()?ax.useLabels?(at.remove.value(z,B,A),at.remove.label(z)):(at.remove.value(z,B,A),0===at.get.selectionCount()?at.set.placeholderText():at.set.text(at.add.variables(s.count))):at.remove.value(z,B,A),A.removeClass(u.filtered).removeClass(u.active),ax.useLabels&&A.removeClass(u.selected)})},selectedItem:function(){J.removeClass(u.selected)},value:function(z,y,B){var x,A=at.get.values();at.has.selectInput()?(at.verbose("Input is <select> removing selected option",z),x=at.remove.arrayValue(z,A),at.remove.optionValue(z)):(at.verbose("Removing from delimited values",z),x=at.remove.arrayValue(z,A),x=x.join(ax.delimiter)),!1===ax.fireOnInit&&at.is.initialLoad()?at.verbose("No callback on initial load",ax.onRemove):ax.onRemove.call(f,z,y,B),at.set.value(x,y,B),at.check.maxSelections()},arrayValue:function(x,y){return c.isArray(y)||(y=[y]),y=c.grep(y,function(z){return x!=z}),at.verbose("Removed value from delimited string",x,y),y},label:function(z,y){var A=ag.find(ab.label),x=A.filter("[data-"+aa.value+'="'+at.escape.string(z)+'"]');at.verbose("Removing label",x),x.remove()},activeLabels:function(x){x=x||ag.find(ab.label).filter("."+u.active),at.verbose("Removing active label selections",x),at.remove.labels(x)},labels:function(x){x=x||ag.find(ab.label),at.verbose("Removing labels",x),x.each(function(){var z=c(this),B=z.data(aa.value),y=void 0!==B?String(B):B,A=at.is.userValue(y);if(!1===ax.onLabelRemove.call(z,B)){return void at.debug("Label remove callback cancelled removal")}at.remove.message(),A?(at.remove.value(y),at.remove.label(y)):at.remove.selected(y)})},tabbable:function(){at.is.searchSelection()?(at.debug("Searchable dropdown initialized"),o.removeAttr("tabindex"),am.removeAttr("tabindex")):(at.debug("Simple selection dropdown initialized"),ag.removeAttr("tabindex"),am.removeAttr("tabindex"))}},has:{menuSearch:function(){return at.has.search()&&o.closest(am).length>0},search:function(){return o.length>0},sizer:function(){return ac.length>0},selectInput:function(){return ah.is("select")},minCharacters:function(x){return !ax.minCharacters||(x=void 0!==x?String(x):String(at.get.query()),x.length>=ax.minCharacters)},firstLetter:function(z,y){var A,x;return !(!z||0===z.length||"string"!=typeof y)&&(A=at.get.choiceText(z,!1),y=y.toLowerCase(),x=String(A).charAt(0).toLowerCase(),y==x)},input:function(){return ah.length>0},items:function(){return J.length>0},menu:function(){return am.length>0},message:function(){return 0!==am.children(ab.message).length},label:function(y){var x=at.escape.value(y);return ag.find(ab.label).filter("[data-"+aa.value+'="'+at.escape.string(x)+'"]').length>0},maxSelections:function(){return ax.maxSelections&&at.get.selectionCount()>=ax.maxSelections},allResultsFiltered:function(){var x=J.not(ab.addition);return x.filter(ab.unselectable).length===x.length},userSuggestion:function(){return am.children(ab.addition).length>0},query:function(){return""!==at.get.query()},value:function(x){var y=at.get.values();return !!(c.isArray(y)?y&&-1!==c.inArray(x,y):y==x)}},is:{active:function(){return ag.hasClass(u.active)},bubbledLabelClick:function(x){return c(x.target).is("select, input")&&ag.closest("label").length>0},bubbledIconClick:function(x){return c(x.target).closest(r).length>0},alreadySetup:function(){return ag.is("select")&&void 0!==ag.parent(ab.dropdown).data(ap)&&0===ag.prev().length},animating:function(x){return x?x.transition&&x.transition("is animating"):am.transition&&am.transition("is animating")},leftward:function(x){return(x||am).hasClass(u.leftward)},disabled:function(){return ag.hasClass(u.disabled)},focused:function(){return d.activeElement===ag[0]},focusedOnSearch:function(){return d.activeElement===o[0]},allFiltered:function(){return(at.is.multiple()||at.has.search())&&!(0==ax.hideAdditions&&at.has.userSuggestion())&&!at.has.message()&&at.has.allResultsFiltered()},hidden:function(x){return !at.is.visible(x)},initialLoad:function(){return au},inObject:function(y,z){var x=!1;return c.each(z,function(A,B){if(B==y){return x=!0,!0}}),x},multiple:function(){return ag.hasClass(u.multiple)},remote:function(){return ax.apiSettings&&at.can.useAPI()},single:function(){return !at.is.multiple()},selectMutation:function(x){var y=!1;return c.each(x,function(A,z){if(z.target&&c(z.target).is("select")){return y=!0,!0}}),y},search:function(){return ag.hasClass(u.search)},searchSelection:function(){return at.has.search()&&1===o.parent(ab.dropdown).length},selection:function(){return ag.hasClass(u.selection)},userValue:function(x){return -1!==c.inArray(x,at.get.userValues())},upward:function(x){return(x||ag).hasClass(u.upward)},visible:function(x){return x?x.hasClass(u.visible):am.hasClass(u.visible)},verticallyScrollableContext:function(){var x=ad.get(0)!==b&&ad.css("overflow-y");return"auto"==x||"scroll"==x},horizontallyScrollableContext:function(){var x=ad.get(0)!==b&&ad.css("overflow-X");return"auto"==x||"scroll"==x}},can:{activate:function(x){return !!ax.useLabels||(!at.has.maxSelections()||!(!at.has.maxSelections()||!x.hasClass(u.active)))},openDownward:function(z){var y,B=z||am,x=!0,A={};return B.addClass(u.loading),y={context:{scrollTop:ad.scrollTop(),height:ad.outerHeight()},menu:{offset:B.offset(),height:B.outerHeight()}},at.is.verticallyScrollableContext()&&(y.menu.offset.top+=y.context.scrollTop),A={above:y.context.scrollTop<=y.menu.offset.top-y.menu.height,below:y.context.scrollTop+y.context.height>=y.menu.offset.top+y.menu.height},A.below?(at.verbose("Dropdown can fit in context downward",A),x=!0):A.below||A.above?(at.verbose("Dropdown cannot fit below, opening upward",A),x=!1):(at.verbose("Dropdown cannot fit in either direction, favoring downward",A),x=!0),B.removeClass(u.loading),x},openRightward:function(z){var y,B=z||am,x=!0,A=!1;return B.addClass(u.loading),y={context:{scrollLeft:ad.scrollLeft(),width:ad.outerWidth()},menu:{offset:B.offset(),width:B.outerWidth()}},at.is.horizontallyScrollableContext()&&(y.menu.offset.left+=y.context.scrollLeft),A=y.menu.offset.left+y.menu.width>=y.context.scrollLeft+y.context.width,A&&(at.verbose("Dropdown cannot fit in context rightward",A),x=!1),B.removeClass(u.loading),x},click:function(){return j||"click"==ax.on},extendSelect:function(){return ax.allowAdditions||ax.apiSettings},show:function(){return !at.is.disabled()&&(at.has.items()||at.has.message())},useAPI:function(){return void 0!==c.fn.api}},animate:{show:function(z,B){var y,A=B||am,x=B?function(){}:function(){at.hideSubMenus(),at.hideOthers(),at.set.active()};z=c.isFunction(z)?z:function(){},at.verbose("Doing menu show animation",A),at.set.direction(B),y=at.get.transition(B),at.is.selection()&&at.set.scrollPosition(at.get.selectedItem(),!0),(at.is.hidden(A)||at.is.animating(A))&&("none"==y?(x(),A.transition("show"),z.call(f)):void 0!==c.fn.transition&&ag.transition("is supported")?A.transition({animation:y+" in",debug:ax.debug,verbose:ax.verbose,duration:ax.duration,queue:!0,onStart:x,onComplete:function(){z.call(f)}}):at.error(ak.noTransition,y))},hide:function(z,B){var y=B||am,A=(B?ax.duration:ax.duration,B?function(){}:function(){at.can.click()&&at.unbind.intent(),at.remove.active()}),x=at.get.transition(B);z=c.isFunction(z)?z:function(){},(at.is.visible(y)||at.is.animating(y))&&(at.verbose("Doing menu hide animation",y),"none"==x?(A(),y.transition("hide"),z.call(f)):void 0!==c.fn.transition&&ag.transition("is supported")?y.transition({animation:x+" out",duration:ax.duration,debug:ax.debug,verbose:ax.verbose,queue:!0,onStart:A,onComplete:function(){z.call(f)}}):at.error(ak.transition))}},hideAndClear:function(){at.remove.searchTerm(),at.has.maxSelections()||(at.has.search()?at.hide(function(){at.remove.filteredItem()}):at.hide())},delay:{show:function(){at.verbose("Delaying show event to ensure user intent"),clearTimeout(at.timer),at.timer=setTimeout(at.show,ax.delay.show)},hide:function(){at.verbose("Delaying hide event to ensure user intent"),clearTimeout(at.timer),at.timer=setTimeout(at.hide,ax.delay.hide)}},escape:{value:function(z){var C=c.isArray(z),y="string"==typeof z,B=!y&&!C,x=y&&-1!==z.search(ai.quote),A=[];return B||!x?z:(at.debug("Encoding quote values for use in select",z),C?(c.each(z,function(E,D){A.push(D.replace(ai.quote,"&quot;"))}),A):z.replace(ai.quote,"&quot;"))},string:function(x){return x=String(x),x.replace(ai.escape,"\\$&")}},setting:function(x,y){if(at.debug("Changing setting",x,y),c.isPlainObject(x)){c.extend(!0,ax,x)}else{if(void 0===y){return ax[x]}c.isPlainObject(ax[x])?c.extend(!0,ax[x],y):ax[x]=y}},internal:function(x,y){if(c.isPlainObject(x)){c.extend(!0,at,x)}else{if(void 0===y){return at[x]}at[x]=y}},debug:function(){!ax.silent&&ax.debug&&(ax.performance?at.performance.log(arguments):(at.debug=Function.prototype.bind.call(console.info,console,ax.name+":"),at.debug.apply(console,arguments)))},verbose:function(){!ax.silent&&ax.verbose&&ax.debug&&(ax.performance?at.performance.log(arguments):(at.verbose=Function.prototype.bind.call(console.info,console,ax.name+":"),at.verbose.apply(console,arguments)))},error:function(){ax.silent||(at.error=Function.prototype.bind.call(console.error,console,ax.name+":"),at.error.apply(console,arguments))},performance:{log:function(z){var y,A,x;ax.performance&&(y=(new Date).getTime(),x=q||y,A=y-x,q=y,v.push({Name:z[0],Arguments:[].slice.call(z,1)||"",Element:f,"Execution Time":A})),clearTimeout(at.performance.timer),at.performance.timer=setTimeout(at.performance.display,500)},display:function(){var x=ax.name+":",y=0;q=!1,clearTimeout(at.performance.timer),c.each(v,function(A,z){y+=z["Execution Time"]}),x+=" "+y+"ms",w&&(x+=" '"+w+"'"),(void 0!==console.group||void 0!==console.table)&&v.length>0&&(console.groupCollapsed(x),console.table?console.table(v):c.each(v,function(A,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(A,D,z){var y,C,B,x=af;return D=D||h,z=f||z,"string"==typeof A&&void 0!==x&&(A=A.split(/[\. ]/),y=A.length-1,c.each(A,function(H,E){var F=H!=y?E+A[H+1].charAt(0).toUpperCase()+A[H+1].slice(1):A;if(c.isPlainObject(x[F])&&H!=y){x=x[F]}else{if(void 0!==x[F]){return C=x[F],!1}if(!c.isPlainObject(x[E])||H==y){return void 0!==x[E]?(C=x[E],!1):(at.error(ak.method,A),!1)}x=x[E]}})),c.isFunction(C)?B=C.apply(z,D):void 0!==C&&(B=C),c.isArray(g)?g.push(B):void 0!==g?g=[g,B]:void 0!==B&&(g=B),C}},n?(void 0===af&&at.initialize(),at.invoke(p)):(void 0!==af&&af.invoke("destroy"),at.initialize())}),void 0!==g?g:t},c.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:b,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(g,f,h){},onAdd:function(g,f,h){},onRemove:function(g,f,h){},onLabelSelect:function(f){},onLabelCreate:function(e,f){return c(this)},onLabelRemove:function(f){return !0},onNoResults:function(f){return !0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},c.fn.dropdown.settings.templates={dropdown:function(f){var g=f.placeholder||!1,e=(f.values,"");return e+='<i class="dropdown icon"></i>',f.placeholder?e+='<div class="default text">'+g+"</div>":e+='<div class="text"></div>',e+='<div class="menu">',c.each(f.values,function(i,h){e+=h.disabled?'<div class="disabled item" data-value="'+h.value+'">'+h.name+"</div>":'<div class="item" data-value="'+h.value+'">'+h.name+"</div>"}),e+="</div>"},menu:function(f,h){var e=f[h.values]||{},g="";return c.each(e,function(m,l){var k=l[h.text]?'data-text="'+l[h.text]+'"':"",j=l[h.disabled]?"disabled ":"";g+='<div class="'+j+'item" data-value="'+l[h.value]+'"'+k+">",g+=l[h.name],g+="</div>"}),g},label:function(g,f){return f+'<i class="delete icon"></i>'},message:function(f){return f},addition:function(f){return f}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.embed=function(g){var j,f=c(this),m=f.selector||"",e=(new Date).getTime(),q=[],h=arguments[0],k="string"==typeof h,p=[].slice.call(arguments,1);return f.each(function(){var E,D=c.isPlainObject(g)?c.extend(!0,{},c.fn.embed.settings,g):c.extend({},c.fn.embed.settings),o=D.selector,B=D.className,J=D.sources,l=D.error,z=D.metadata,G=D.namespace,F=D.templates,H="."+G,i="module-"+G,I=(c(b),c(this)),s=I.find(o.placeholder),t=I.find(o.icon),r=I.find(o.embed),n=this,u=I.data(i);E={initialize:function(){E.debug("Initializing embed"),E.determine.autoplay(),E.create(),E.bind.events(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),u=E,I.data(i,E)},destroy:function(){E.verbose("Destroying previous instance of embed"),E.reset(),I.removeData(i).off(H)},refresh:function(){E.verbose("Refreshing selector cache"),s=I.find(o.placeholder),t=I.find(o.icon),r=I.find(o.embed)},bind:{events:function(){E.has.placeholder()&&(E.debug("Adding placeholder events"),I.on("click"+H,o.placeholder,E.createAndShow).on("click"+H,o.icon,E.createAndShow))}},create:function(){E.get.placeholder()?E.createPlaceholder():E.createAndShow()},createPlaceholder:function(w){var v=E.get.icon(),x=E.get.url();E.generate.embed(x);w=w||E.get.placeholder(),I.html(F.placeholder(w,v)),E.debug("Creating placeholder for embed",w,v)},createEmbed:function(v){E.refresh(),v=v||E.get.url(),r=c("<div/>").addClass(B.embed).html(E.generate.embed(v)).appendTo(I),D.onCreate.call(n,v),E.debug("Creating embed object",r)},changeEmbed:function(v){r.html(E.generate.embed(v))},createAndShow:function(){E.createEmbed(),E.show()},change:function(w,v,x){E.debug("Changing video to ",w,v,x),I.data(z.source,w).data(z.id,v),x?I.data(z.url,x):I.removeData(z.url),E.has.embed()?E.changeEmbed():E.create()},reset:function(){E.debug("Clearing embed and showing placeholder"),E.remove.active(),E.remove.embed(),E.showPlaceholder(),D.onReset.call(n)},show:function(){E.debug("Showing embed"),E.set.active(),D.onDisplay.call(n)},hide:function(){E.debug("Hiding embed"),E.showPlaceholder()},showPlaceholder:function(){E.debug("Showing placeholder image"),E.remove.active(),D.onPlaceholderDisplay.call(n)},get:{id:function(){return D.id||I.data(z.id)},placeholder:function(){return D.placeholder||I.data(z.placeholder)},icon:function(){return D.icon?D.icon:void 0!==I.data(z.icon)?I.data(z.icon):E.determine.icon()},source:function(v){return D.source?D.source:void 0!==I.data(z.source)?I.data(z.source):E.determine.source()},type:function(){var v=E.get.source();return void 0!==J[v]&&J[v].type},url:function(){return D.url?D.url:void 0!==I.data(z.url)?I.data(z.url):E.determine.url()}},determine:{autoplay:function(){E.should.autoplay()&&(D.autoplay=!0)},source:function(v){var w=!1;return v=v||E.get.url(),v&&c.each(J,function(y,x){if(-1!==v.search(x.domain)){return w=y,!1}}),w},icon:function(){var v=E.get.source();return void 0!==J[v]&&J[v].icon},url:function(){var w,v=D.id||I.data(z.id),x=D.source||I.data(z.source);return w=void 0!==J[x]&&J[x].url.replace("{id}",v),w&&I.data(z.url,w),w}},set:{active:function(){I.addClass(B.active)}},remove:{active:function(){I.removeClass(B.active)},embed:function(){r.empty()}},encode:{parameters:function(w){var v,x=[];for(v in w){x.push(encodeURIComponent(v)+"="+encodeURIComponent(w[v]))}return x.join("&amp;")}},generate:{embed:function(x){E.debug("Generating embed html");var w,y,v=E.get.source();return x=E.get.url(x),x?(y=E.generate.parameters(v),w=F.iframe(x,y)):E.error(l.noURL,I),w},parameters:function(w,x){var v=J[w]&&void 0!==J[w].parameters?J[w].parameters(D):{};return x=x||D.parameters,x&&(v=c.extend({},v,x)),v=D.onEmbed(v),E.encode.parameters(v)}},has:{embed:function(){return r.length>0},placeholder:function(){return D.placeholder||I.data(z.placeholder)}},should:{autoplay:function(){return"auto"===D.autoplay?D.placeholder||void 0!==I.data(z.placeholder):D.autoplay}},is:{video:function(){return"video"==E.get.type()}},setting:function(v,w){if(E.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,D,v)}else{if(void 0===w){return D[v]}c.isPlainObject(D[v])?c.extend(!0,D[v],w):D[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,E,v)}else{if(void 0===w){return E[v]}E[v]=w}},debug:function(){!D.silent&&D.debug&&(D.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,D.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!D.silent&&D.verbose&&D.debug&&(D.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),E.verbose.apply(console,arguments)))},error:function(){D.silent||(E.error=Function.prototype.bind.call(console.error,console,D.name+":"),E.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;D.performance&&(w=(new Date).getTime(),v=e||w,y=w-v,e=w,q.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:n,"Execution Time":y})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var v=D.name+":",w=0;e=!1,clearTimeout(E.performance.timer),c.each(q,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",m&&(v+=" '"+m+"'"),f.length>1&&(v+=" ("+f.length+")"),(void 0!==console.group||void 0!==console.table)&&q.length>0&&(console.groupCollapsed(v),console.table?console.table(q):c.each(q,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(x,K,C){var w,A,y,v=u;return K=K||p,C=n||C,"string"==typeof x&&void 0!==v&&(x=x.split(/[\. ]/),w=x.length-1,c.each(x,function(N,L){var M=N!=w?L+x[N+1].charAt(0).toUpperCase()+x[N+1].slice(1):x;if(c.isPlainObject(v[M])&&N!=w){v=v[M]}else{if(void 0!==v[M]){return A=v[M],!1}if(!c.isPlainObject(v[L])||N==w){return void 0!==v[L]?(A=v[L],!1):(E.error(l.method,x),!1)}v=v[L]}})),c.isFunction(A)?y=A.apply(C,K):void 0!==A&&(y=A),c.isArray(j)?j.push(y):void 0!==j?j=[j,y]:void 0!==y&&(j=y),A}},k?(void 0===u&&E.initialize(),E.invoke(h)):(void 0!==u&&u.invoke("destroy"),E.initialize())}),void 0!==j?j:this},c.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(f){},onEmbed:function(f){return f},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(f){return{autohide:!f.brandedUI,autoplay:f.autoplay,color:f.color||void 0,hq:f.hd,jsapi:f.api,modestbranding:!f.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(f){return{api:f.api,autoplay:f.autoplay,byline:f.brandedUI,color:f.color||void 0,portrait:f.brandedUI,title:f.brandedUI}}}},templates:{iframe:function(g,f){var h=g;return f&&(h+="?"+f),'<iframe src="'+h+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(g,f){var h="";return f&&(h+='<i class="'+f+' icon"></i>'),g&&(h+='<img class="placeholder" src="'+g+'">'),h}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.modal=function(n){var h,x=c(this),e=c(b),A=c(d),k=c("body"),w=x.selector||"",z=(new Date).getTime(),t=[],q=arguments[0],j="string"==typeof q,p=[].slice.call(arguments,1),y=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return x.each(function(){var W,M,U,V,r,u,J,v,N,g=c.isPlainObject(n)?c.extend(!0,{},c.fn.modal.settings,n):c.extend({},c.fn.modal.settings),f=g.selector,L=g.className,i=g.namespace,l=g.error,G="."+i,B="module-"+i,m=c(this),H=c(g.context),K=m.find(f.close),Q=this,o=m.data(B),s=!1;N={initialize:function(){N.verbose("Initializing dimmer",H),N.create.id(),N.create.dimmer(),N.refreshModals(),N.bind.events(),g.observeChanges&&N.observeChanges(),N.instantiate()},instantiate:function(){N.verbose("Storing instance of modal"),o=N,m.data(B,o)},create:{dimmer:function(){var C={debug:g.debug,dimmerName:"modals"},D=c.extend(!0,C,g.dimmerSettings);if(void 0===c.fn.dimmer){return void N.error(l.dimmer)}N.debug("Creating dimmer"),V=H.dimmer(D),g.detachable?(N.verbose("Modal is detachable, moving content into dimmer"),V.dimmer("add content",m)):N.set.undetached(),r=V.dimmer("get dimmer")},id:function(){J=(Math.random().toString(16)+"000000000").substr(2,8),u="."+J,N.verbose("Creating unique id for element",J)}},destroy:function(){N.verbose("Destroying previous modal"),m.removeData(B).off(G),e.off(u),r.off(u),K.off(G),H.dimmer("destroy")},observeChanges:function(){"MutationObserver" in b&&(v=new MutationObserver(function(C){N.debug("DOM tree modified, refreshing"),N.refresh()}),v.observe(Q,{childList:!0,subtree:!0}),N.debug("Setting up mutation observer",v))},refresh:function(){N.remove.scrolling(),N.cacheSizes(),N.set.screenHeight(),N.set.type(),N.set.position()},refreshModals:function(){M=m.siblings(f.modal),W=M.add(m)},attachEvents:function(D,E){var C=c(D);E=c.isFunction(N[E])?N[E]:N.toggle,C.length>0?(N.debug("Attaching modal events to element",D,E),C.off(G).on("click"+G,E)):N.error(l.notFound,D)},bind:{events:function(){N.verbose("Attaching events"),m.on("click"+G,f.close,N.event.close).on("click"+G,f.approve,N.event.approve).on("click"+G,f.deny,N.event.deny),e.on("resize"+u,N.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){if(s||!1===g.onApprove.call(Q,c(this))){return void N.verbose("Approve callback returned false cancelling hide")}s=!0,N.hide(function(){s=!1})},deny:function(){if(s||!1===g.onDeny.call(Q,c(this))){return void N.verbose("Deny callback returned false cancelling hide")}s=!0,N.hide(function(){s=!1})},close:function(){N.hide()},click:function(E){var D=c(E.target),F=D.closest(f.modal).length>0,C=c.contains(d.documentElement,E.target);!F&&C&&(N.debug("Dimmer clicked, hiding all modals"),N.is.active()&&(N.remove.clickaway(),g.allowMultiple?N.hide():N.hideAll()))},debounce:function(D,C){clearTimeout(N.timer),N.timer=setTimeout(D,C)},keyboard:function(C){27==C.which&&(g.closable?(N.debug("Escape key pressed hiding modal"),N.hide()):N.debug("Escape key pressed, but closable is set to false"),C.preventDefault())},resize:function(){V.dimmer("is active")&&(N.is.animating()||N.is.active())&&y(N.refresh)}},toggle:function(){N.is.active()||N.is.animating()?N.hide():N.show()},show:function(C){C=c.isFunction(C)?C:function(){},N.refreshModals(),N.set.dimmerSettings(),N.showModal(C)},hide:function(C){C=c.isFunction(C)?C:function(){},N.refreshModals(),N.hideModal(C)},showModal:function(C){C=c.isFunction(C)?C:function(){},N.is.animating()||!N.is.active()?(N.showDimmer(),N.cacheSizes(),N.set.position(),N.set.screenHeight(),N.set.type(),N.set.clickaway(),!g.allowMultiple&&N.others.active()?N.hideOthers(N.showModal):(g.allowMultiple&&g.detachable&&m.detach().appendTo(r),g.onShow.call(Q),g.transition&&void 0!==c.fn.transition&&m.transition("is supported")?(N.debug("Showing modal with css animations"),m.transition({debug:g.debug,animation:g.transition+" in",queue:g.queue,duration:g.duration,useFailSafe:!0,onComplete:function(){g.onVisible.apply(Q),g.keyboardShortcuts&&N.add.keyboardShortcuts(),N.save.focus(),N.set.active(),g.autofocus&&N.set.autofocus(),C()}})):N.error(l.noTransition))):N.debug("Modal is already visible")},hideModal:function(C,D){if(C=c.isFunction(C)?C:function(){},N.debug("Hiding modal"),!1===g.onHide.call(Q,c(this))){return void N.verbose("Hide callback returned false cancelling hide")}(N.is.animating()||N.is.active())&&(g.transition&&void 0!==c.fn.transition&&m.transition("is supported")?(N.remove.active(),m.transition({debug:g.debug,animation:g.transition+" out",queue:g.queue,duration:g.duration,useFailSafe:!0,onStart:function(){N.others.active()||D||N.hideDimmer(),g.keyboardShortcuts&&N.remove.keyboardShortcuts()},onComplete:function(){g.onHidden.call(Q),N.restore.focus(),C()}})):N.error(l.noTransition))},showDimmer:function(){V.dimmer("is animating")||!V.dimmer("is active")?(N.debug("Showing dimmer"),V.dimmer("show")):N.debug("Dimmer already visible")},hideDimmer:function(){if(!V.dimmer("is animating")&&!V.dimmer("is active")){return void N.debug("Dimmer is not visible cannot hide")}V.dimmer("hide",function(){N.remove.clickaway(),N.remove.screenHeight()})},hideAll:function(C){var D=W.filter("."+L.active+", ."+L.animating);C=c.isFunction(C)?C:function(){},D.length>0&&(N.debug("Hiding all visible modals"),N.hideDimmer(),D.modal("hide modal",C))},hideOthers:function(C){var D=M.filter("."+L.active+", ."+L.animating);C=c.isFunction(C)?C:function(){},D.length>0&&(N.debug("Hiding other modals",M),D.modal("hide modal",C,!0))},others:{active:function(){return M.filter("."+L.active).length>0},animating:function(){return M.filter("."+L.animating).length>0}},add:{keyboardShortcuts:function(){N.verbose("Adding keyboard shortcuts"),A.on("keyup"+G,N.event.keyboard)}},save:{focus:function(){U=c(d.activeElement).blur()}},restore:{focus:function(){U&&U.length>0&&U.focus()}},remove:{active:function(){m.removeClass(L.active)},clickaway:function(){g.closable&&r.off("click"+u)},bodyStyle:function(){""===k.attr("style")&&(N.verbose("Removing style attribute"),k.removeAttr("style"))},screenHeight:function(){N.debug("Removing page height"),k.css("height","")},keyboardShortcuts:function(){N.verbose("Removing keyboard shortcuts"),A.off("keyup"+G)},scrolling:function(){V.removeClass(L.scrolling),m.removeClass(L.scrolling)}},cacheSizes:function(){m.addClass(L.loading);var C=m.prop("scrollHeight"),D=m.outerHeight();void 0!==N.cache&&0===D||(N.cache={pageHeight:c(d).outerHeight(),height:D+g.offset,scrollHeight:C+g.offset,contextHeight:"body"==g.context?c(b).height():V.height()},N.cache.topOffset=-N.cache.height/2),m.removeClass(L.loading),N.debug("Caching modal and container sizes",N.cache)},can:{fit:function(){var I=N.cache.contextHeight,E=N.cache.contextHeight/2,P=N.cache.topOffset,D=N.cache.scrollHeight,O=N.cache.height,C=g.padding,F=E+P;return D>O?F+D+C<I:O+2*C<I}},is:{active:function(){return m.hasClass(L.active)},animating:function(){return m.transition("is supported")?m.transition("is animating"):m.is(":visible")},scrolling:function(){return V.hasClass(L.scrolling)},modernBrowser:function(){return !(b.ActiveXObject||"ActiveXObject" in b)}},set:{autofocus:function(){var D=m.find("[tabindex], :input").filter(":visible"),C=D.filter("[autofocus]"),E=C.length>0?C.first():D.first();E.length>0&&E.focus()},clickaway:function(){g.closable&&r.on("click"+u,N.event.click)},dimmerSettings:function(){if(void 0===c.fn.dimmer){return void N.error(l.dimmer)}var C={debug:g.debug,dimmerName:"modals",variation:!1,closable:"auto",duration:{show:g.duration,hide:g.duration}},D=c.extend(!0,C,g.dimmerSettings);g.inverted?(D.variation=void 0!==D.variation?D.variation+" inverted":"inverted",r.addClass(L.inverted)):r.removeClass(L.inverted),g.blurring?V.addClass(L.blurring):V.removeClass(L.blurring),H.dimmer("setting",D)},screenHeight:function(){N.can.fit()?k.css("height",""):(N.debug("Modal is taller than page content, resizing page height"),k.css("height",N.cache.height+2*g.padding))},active:function(){m.addClass(L.active)},scrolling:function(){V.addClass(L.scrolling),m.addClass(L.scrolling)},type:function(){N.can.fit()?(N.verbose("Modal fits on screen"),N.others.active()||N.others.animating()||N.remove.scrolling()):(N.verbose("Modal cannot fit on screen setting to scrolling"),N.set.scrolling())},position:function(){N.verbose("Centering modal on page",N.cache),N.can.fit()?m.css({top:"",marginTop:N.cache.topOffset}):m.css({marginTop:"",top:A.scrollTop()})},undetached:function(){V.addClass(L.undetached)}},setting:function(C,D){if(N.debug("Changing setting",C,D),c.isPlainObject(C)){c.extend(!0,g,C)}else{if(void 0===D){return g[C]}c.isPlainObject(g[C])?c.extend(!0,g[C],D):g[C]=D}},internal:function(C,D){if(c.isPlainObject(C)){c.extend(!0,N,C)}else{if(void 0===D){return N[C]}N[C]=D}},debug:function(){!g.silent&&g.debug&&(g.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,g.name+":"),N.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),N.verbose.apply(console,arguments)))},error:function(){g.silent||(N.error=Function.prototype.bind.call(console.error,console,g.name+":"),N.error.apply(console,arguments))},performance:{log:function(E){var D,F,C;g.performance&&(D=(new Date).getTime(),C=z||D,F=D-C,z=D,t.push({Name:E[0],Arguments:[].slice.call(E,1)||"",Element:Q,"Execution Time":F})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,500)},display:function(){var C=g.name+":",D=0;z=!1,clearTimeout(N.performance.timer),c.each(t,function(F,E){D+=E["Execution Time"]}),C+=" "+D+"ms",w&&(C+=" '"+w+"'"),(void 0!==console.group||void 0!==console.table)&&t.length>0&&(console.groupCollapsed(C),console.table?console.table(t):c.each(t,function(F,E){console.log(E.Name+": "+E["Execution Time"]+"ms")}),console.groupEnd()),t=[]}},invoke:function(F,P,E){var D,O,I,C=o;return P=P||p,E=Q||E,"string"==typeof F&&void 0!==C&&(F=F.split(/[\. ]/),D=F.length-1,c.each(F,function(T,R){var S=T!=D?R+F[T+1].charAt(0).toUpperCase()+F[T+1].slice(1):F;if(c.isPlainObject(C[S])&&T!=D){C=C[S]}else{if(void 0!==C[S]){return O=C[S],!1}if(!c.isPlainObject(C[R])||T==D){return void 0!==C[R]&&(O=C[R],!1)}C=C[R]}})),c.isFunction(O)?I=O.apply(E,P):void 0!==O&&(I=O),c.isArray(h)?h.push(I):void 0!==h?h=[h,I]:void 0!==I&&(h=I),O}},j?(void 0===o&&N.initialize(),N.invoke(q)):(void 0!==o&&o.invoke("destroy"),N.initialize())}),void 0!==h?h:this},c.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return !0},onHidden:function(){},onApprove:function(){return !0},onDeny:function(){return !0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",loading:"loading",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.nag=function(g){var j,f=c(this),m=f.selector||"",e=(new Date).getTime(),q=[],h=arguments[0],k="string"==typeof h,p=[].slice.call(arguments,1);return f.each(function(){var l,u=c.isPlainObject(g)?c.extend(!0,{},c.fn.nag.settings,g):c.extend({},c.fn.nag.settings),t=(u.className,u.selector),n=u.error,s=u.namespace,B="."+s,i=s+"-module",r=c(this),z=(r.find(t.close),c(u.context?u.context:"body")),w=this,A=r.data(i);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;l={initialize:function(){l.verbose("Initializing element"),r.on("click"+B,t.close,l.dismiss).data(i,l),u.detachable&&r.parent()[0]!==z[0]&&r.detach().prependTo(z),u.displayTime>0&&setTimeout(l.hide,u.displayTime),l.show()},destroy:function(){l.verbose("Destroying instance"),r.removeData(i).off(B)},show:function(){l.should.show()&&!r.is(":visible")&&(l.debug("Showing nag",u.animation.show),"fade"==u.animation.show?r.fadeIn(u.duration,u.easing):r.slideDown(u.duration,u.easing))},hide:function(){l.debug("Showing nag",u.animation.hide),"fade"==u.animation.show?r.fadeIn(u.duration,u.easing):r.slideUp(u.duration,u.easing)},onHide:function(){l.debug("Removing nag",u.animation.hide),r.remove(),u.onHide&&u.onHide()},dismiss:function(o){u.storageMethod&&l.storage.set(u.key,u.value),l.hide(),o.stopImmediatePropagation(),o.preventDefault()},should:{show:function(){return u.persist?(l.debug("Persistent nag is set, can show nag"),!0):l.storage.get(u.key)!=u.value.toString()?(l.debug("Stored value is not set, can show nag",l.storage.get(u.key)),!0):(l.debug("Stored value is set, cannot show nag",l.storage.get(u.key)),!1)}},get:{storageOptions:function(){var o={};return u.expires&&(o.expires=u.expires),u.domain&&(o.domain=u.domain),u.path&&(o.path=u.path),o}},clear:function(){l.storage.remove(u.key)},storage:{set:function(x,v){var o=l.get.storageOptions();if("localstorage"==u.storageMethod&&void 0!==b.localStorage){b.localStorage.setItem(x,v),l.debug("Value stored using local storage",x,v)}else{if("sessionstorage"==u.storageMethod&&void 0!==b.sessionStorage){b.sessionStorage.setItem(x,v),l.debug("Value stored using session storage",x,v)}else{if(void 0===c.cookie){return void l.error(n.noCookieStorage)}c.cookie(x,v,o),l.debug("Value stored using cookie",x,v,o)}}},get:function(x,v){var o;return"localstorage"==u.storageMethod&&void 0!==b.localStorage?o=b.localStorage.getItem(x):"sessionstorage"==u.storageMethod&&void 0!==b.sessionStorage?o=b.sessionStorage.getItem(x):void 0!==c.cookie?o=c.cookie(x):l.error(n.noCookieStorage),"undefined"!=o&&"null"!=o&&void 0!==o&&null!==o||(o=void 0),o},remove:function(v){var o=l.get.storageOptions();"localstorage"==u.storageMethod&&void 0!==b.localStorage?b.localStorage.removeItem(v):"sessionstorage"==u.storageMethod&&void 0!==b.sessionStorage?b.sessionStorage.removeItem(v):void 0!==c.cookie?c.removeCookie(v,o):l.error(n.noStorage)}},setting:function(o,v){if(l.debug("Changing setting",o,v),c.isPlainObject(o)){c.extend(!0,u,o)}else{if(void 0===v){return u[o]}c.isPlainObject(u[o])?c.extend(!0,u[o],v):u[o]=v}},internal:function(o,v){if(c.isPlainObject(o)){c.extend(!0,l,o)}else{if(void 0===v){return l[o]}l[o]=v}},debug:function(){!u.silent&&u.debug&&(u.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,u.name+":"),l.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),l.verbose.apply(console,arguments)))},error:function(){u.silent||(l.error=Function.prototype.bind.call(console.error,console,u.name+":"),l.error.apply(console,arguments))},performance:{log:function(x){var v,y,o;u.performance&&(v=(new Date).getTime(),o=e||v,y=v-o,e=v,q.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:w,"Execution Time":y})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var o=u.name+":",v=0;e=!1,clearTimeout(l.performance.timer),c.each(q,function(y,x){v+=x["Execution Time"]}),o+=" "+v+"ms",m&&(o+=" '"+m+"'"),(void 0!==console.group||void 0!==console.table)&&q.length>0&&(console.groupCollapsed(o),console.table?console.table(q):c.each(q,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(x,E,v){var C,y,o,D=A;return E=E||p,v=w||v,"string"==typeof x&&void 0!==D&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(H,G){var F=H!=C?G+x[H+1].charAt(0).toUpperCase()+x[H+1].slice(1):x;if(c.isPlainObject(D[F])&&H!=C){D=D[F]}else{if(void 0!==D[F]){return y=D[F],!1}if(!c.isPlainObject(D[G])||H==C){return void 0!==D[G]?(y=D[G],!1):(l.error(n.method,x),!1)}D=D[G]}})),c.isFunction(y)?o=y.apply(v,E):void 0!==y&&(o=y),c.isArray(j)?j.push(o):void 0!==j?j=[j,o]:void 0!==o&&(j=o),y}},k?(void 0===A&&l.initialize(),l.invoke(h)):(void 0!==A&&A.invoke("destroy"),l.initialize())}),void 0!==j?j:this},c.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},c.extend(c.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.popup=function(n){var h,w=c(this),e=c(d),y=c(b),k=c("body"),v=w.selector||"",x=(new Date).getTime(),t=[],q=arguments[0],j="string"==typeof q,p=[].slice.call(arguments,1);return w.each(function(){var aa,H,V,Y,Z,s,B=c.isPlainObject(n)?c.extend(!0,{},c.fn.popup.settings,n):c.extend({},c.fn.popup.settings),N=B.selector,G=B.className,W=B.error,g=B.metadata,f=B.namespace,U="."+B.namespace,i="module-"+f,l=c(this),K=c(B.context),J=c(B.scrollContext),m=c(B.boundary),L=B.target?c(B.target):l,Q=0,X=!1,r=!1,u=this,o=l.data(i);s={initialize:function(){s.debug("Initializing",l),s.createID(),s.bind.events(),!s.exists()&&B.preserve&&s.create(),B.observeChanges&&s.observeChanges(),s.instantiate()},instantiate:function(){s.verbose("Storing instance",s),o=s,l.data(i,o)},observeChanges:function(){"MutationObserver" in b&&(V=new MutationObserver(s.event.documentChanged),V.observe(d,{childList:!0,subtree:!0}),s.debug("Setting up mutation observer",V))},refresh:function(){B.popup?aa=c(B.popup).eq(0):B.inline&&(aa=L.nextAll(N.popup).eq(0),B.popup=aa),B.popup?(aa.addClass(G.loading),H=s.get.offsetParent(),aa.removeClass(G.loading),B.movePopup&&s.has.popup()&&s.get.offsetParent(aa)[0]!==H[0]&&(s.debug("Moving popup to the same offset parent as target"),aa.detach().appendTo(H))):H=B.inline?s.get.offsetParent(L):s.has.popup()?s.get.offsetParent(aa):k,H.is("html")&&H[0]!==k[0]&&(s.debug("Setting page as offset parent"),H=k),s.get.variation()&&s.set.variation()},reposition:function(){s.refresh(),s.set.position()},destroy:function(){s.debug("Destroying previous module"),V&&V.disconnect(),aa&&!B.preserve&&s.removePopup(),clearTimeout(s.hideTimer),clearTimeout(s.showTimer),s.unbind.close(),s.unbind.events(),l.removeData(i)},event:{start:function(z){var A=c.isPlainObject(B.delay)?B.delay.show:B.delay;clearTimeout(s.hideTimer),r||(s.showTimer=setTimeout(s.show,A))},end:function(){var z=c.isPlainObject(B.delay)?B.delay.hide:B.delay;clearTimeout(s.showTimer),s.hideTimer=setTimeout(s.hide,z)},touchstart:function(z){r=!0,s.show()},resize:function(){s.is.visible()&&s.set.position()},documentChanged:function(z){[].forEach.call(z,function(A){A.removedNodes&&[].forEach.call(A.removedNodes,function(C){(C==u||c(C).find(u).length>0)&&(s.debug("Element removed from DOM, tearing down events"),s.destroy())})})},hideGracefully:function(C){var A=c(C.target),D=c.contains(d.documentElement,C.target),z=A.closest(N.popup).length>0;C&&!z&&D?(s.debug("Click occurred outside popup hiding popup"),s.hide()):s.debug("Click was inside popup, keeping popup open")}},create:function(){var A=s.get.html(),C=s.get.title(),z=s.get.content();A||z||C?(s.debug("Creating pop-up html"),A||(A=B.templates.popup({title:C,content:z})),aa=c("<div/>").addClass(G.popup).data(g.activator,l).html(A),B.inline?(s.verbose("Inserting popup element inline",aa),aa.insertAfter(l)):(s.verbose("Appending popup element to body",aa),aa.appendTo(K)),s.refresh(),s.set.variation(),B.hoverable&&s.bind.popup(),B.onCreate.call(aa,u)):0!==L.next(N.popup).length?(s.verbose("Pre-existing popup found"),B.inline=!0,B.popup=L.next(N.popup).data(g.activator,l),s.refresh(),B.hoverable&&s.bind.popup()):B.popup?(c(B.popup).data(g.activator,l),s.verbose("Used popup specified in settings"),s.refresh(),B.hoverable&&s.bind.popup()):s.debug("No content specified skipping display",u)},createID:function(){Z=(Math.random().toString(16)+"000000000").substr(2,8),Y="."+Z,s.verbose("Creating unique id for element",Z)},toggle:function(){s.debug("Toggling pop-up"),s.is.hidden()?(s.debug("Popup is hidden, showing pop-up"),s.unbind.close(),s.show()):(s.debug("Popup is visible, hiding pop-up"),s.hide())},show:function(z){if(z=z||function(){},s.debug("Showing pop-up",B.transition),s.is.hidden()&&(!s.is.active()||!s.is.dropdown())){if(s.exists()||s.create(),!1===B.onShow.call(aa,u)){return void s.debug("onShow callback returned false, cancelling popup animation")}B.preserve||B.popup||s.refresh(),aa&&s.set.position()&&(s.save.conditions(),B.exclusive&&s.hideAll(),s.animate.show(z))}},hide:function(z){if(z=z||function(){},s.is.visible()||s.is.animating()){if(!1===B.onHide.call(aa,u)){return void s.debug("onHide callback returned false, cancelling popup animation")}s.remove.visible(),s.unbind.close(),s.restore.conditions(),s.animate.hide(z)}},hideAll:function(){c(N.popup).filter("."+G.popupVisible).each(function(){c(this).data(g.activator).popup("hide")})},exists:function(){return !!aa&&(B.inline||B.popup?s.has.popup():aa.closest(K).length>=1)},removePopup:function(){s.has.popup()&&!B.popup&&(s.debug("Removing popup",aa),aa.remove(),aa=void 0,B.onRemove.call(aa,u))},save:{conditions:function(){s.cache={title:l.attr("title")},s.cache.title&&l.removeAttr("title"),s.verbose("Saving original attributes",s.cache.title)}},restore:{conditions:function(){return s.cache&&s.cache.title&&(l.attr("title",s.cache.title),s.verbose("Restoring original attributes",s.cache.title)),!0}},supports:{svg:function(){return"undefined"==typeof SVGGraphicsElement}},animate:{show:function(z){z=c.isFunction(z)?z:function(){},B.transition&&void 0!==c.fn.transition&&l.transition("is supported")?(s.set.visible(),aa.transition({animation:B.transition+" in",queue:!1,debug:B.debug,verbose:B.verbose,duration:B.duration,onComplete:function(){s.bind.close(),z.call(aa,u),B.onVisible.call(aa,u)}})):s.error(W.noTransition)},hide:function(z){if(z=c.isFunction(z)?z:function(){},s.debug("Hiding pop-up"),!1===B.onHide.call(aa,u)){return void s.debug("onHide callback returned false, cancelling popup animation")}B.transition&&void 0!==c.fn.transition&&l.transition("is supported")?aa.transition({animation:B.transition+" out",queue:!1,duration:B.duration,debug:B.debug,verbose:B.verbose,onComplete:function(){s.reset(),z.call(aa,u),B.onHidden.call(aa,u)}}):s.error(W.noTransition)}},change:{content:function(z){aa.html(z)}},get:{html:function(){return l.removeData(g.html),l.data(g.html)||B.html},title:function(){return l.removeData(g.title),l.data(g.title)||B.title},content:function(){return l.removeData(g.content),l.data(g.content)||l.attr("title")||B.content},variation:function(){return l.removeData(g.variation),l.data(g.variation)||B.variation},popup:function(){return aa},popupOffset:function(){return aa.offset()},calculations:function(){var D,I=L[0],A=m[0]==b,E=B.inline||B.popup&&B.movePopup?L.position():L.offset(),C=A?{top:0,left:0}:m.offset(),z={},F=A?{top:y.scrollTop(),left:y.scrollLeft()}:{top:0,left:0};return z={target:{element:L[0],width:L.outerWidth(),height:L.outerHeight(),top:E.top,left:E.left,margin:{}},popup:{width:aa.outerWidth(),height:aa.outerHeight()},parent:{width:H.outerWidth(),height:H.outerHeight()},screen:{top:C.top,left:C.left,scroll:{top:F.top,left:F.left},width:m.width(),height:m.height()}},B.setFluidWidth&&s.is.fluid()&&(z.container={width:aa.parent().outerWidth()},z.popup.width=z.container.width),z.target.margin.top=B.inline?parseInt(b.getComputedStyle(I).getPropertyValue("margin-top"),10):0,z.target.margin.left=B.inline?s.is.rtl()?parseInt(b.getComputedStyle(I).getPropertyValue("margin-right"),10):parseInt(b.getComputedStyle(I).getPropertyValue("margin-left"),10):0,D=z.screen,z.boundary={top:D.top+D.scroll.top,bottom:D.top+D.scroll.top+D.height,left:D.left+D.scroll.left,right:D.left+D.scroll.left+D.width},z},id:function(){return Z},startEvent:function(){return"hover"==B.on?"mouseenter":"focus"==B.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==B.on?"mouseleave":"focus"==B.on&&"blur"},distanceFromBoundary:function(C,A){var E,z,D={};return A=A||s.get.calculations(),E=A.popup,z=A.boundary,C&&(D={top:C.top-z.top,left:C.left-z.left,right:z.right-(C.left+E.width),bottom:z.bottom-(C.top+E.height)},s.verbose("Distance from boundaries determined",C,D)),D},offsetParent:function(C){var I=void 0!==C?C[0]:l[0],A=I.parentNode,F=c(A);if(A){for(var z="none"===F.css("transform"),E="static"===F.css("position"),D=F.is("html");A&&!D&&E&&z;){A=A.parentNode,F=c(A),z="none"===F.css("transform"),E="static"===F.css("position"),D=F.is("html")}}return F&&F.length>0?F:c()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(F){var P=F.split(" "),C=P[0],E=P[1],A={top:"bottom",bottom:"top",left:"right",right:"left"},M={left:"center",center:"right",right:"left"},z={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},R="top"==C||"bottom"==C,D=!1,I=!1,O=!1;return X||(s.verbose("All available positions available"),X=s.get.positions()),s.debug("Recording last position tried",F),X[F]=!0,"opposite"===B.prefer&&(O=[A[C],E],O=O.join(" "),D=!0===X[O],s.debug("Trying opposite strategy",O)),"adjacent"===B.prefer&&R&&(O=[C,M[E]],O=O.join(" "),I=!0===X[O],s.debug("Trying adjacent strategy",O)),(I||D)&&(s.debug("Using backup position",O),O=z[F]),O}},set:{position:function(F,O){if(0===L.length||0===aa.length){return void s.error(W.notFound)}var C,E,A,z,P,D,I,M;if(O=O||s.get.calculations(),F=F||l.data(g.position)||B.position,C=l.data(g.offset)||B.offset,E=B.distanceAway,A=O.target,z=O.popup,P=O.parent,0===A.width&&0===A.height&&!s.is.svg(A.element)){return s.debug("Popup target is hidden, no action taken"),!1}switch(B.inline&&(s.debug("Adding margin to calculation",A.margin),"left center"==F||"right center"==F?(C+=A.margin.top,E+=-A.margin.left):"top left"==F||"top center"==F||"top right"==F?(C+=A.margin.left,E-=A.margin.top):(C+=A.margin.left,E+=A.margin.top)),s.debug("Determining popup position from calculations",F,O),s.is.rtl()&&(F=F.replace(/left|right/g,function(R){return"left"==R?"right":"left"}),s.debug("RTL: Popup position updated",F)),Q==B.maxSearchDepth&&"string"==typeof B.lastResort&&(F=B.lastResort),F){case"top left":D={top:"auto",bottom:P.height-A.top+E,left:A.left+C,right:"auto"};break;case"top center":D={bottom:P.height-A.top+E,left:A.left+A.width/2-z.width/2+C,top:"auto",right:"auto"};break;case"top right":D={bottom:P.height-A.top+E,right:P.width-A.left-A.width-C,top:"auto",left:"auto"};break;case"left center":D={top:A.top+A.height/2-z.height/2+C,right:P.width-A.left+E,left:"auto",bottom:"auto"};break;case"right center":D={top:A.top+A.height/2-z.height/2+C,left:A.left+A.width+E,bottom:"auto",right:"auto"};break;case"bottom left":D={top:A.top+A.height+E,left:A.left+C,bottom:"auto",right:"auto"};break;case"bottom center":D={top:A.top+A.height+E,left:A.left+A.width/2-z.width/2+C,bottom:"auto",right:"auto"};break;case"bottom right":D={top:A.top+A.height+E,right:P.width-A.left-A.width-C,left:"auto",bottom:"auto"}}if(void 0===D&&s.error(W.invalidPosition,F),s.debug("Calculated popup positioning values",D),aa.css(D).removeClass(G.position).addClass(F).addClass(G.loading),I=s.get.popupOffset(),M=s.get.distanceFromBoundary(I,O),s.is.offstage(M,F)){if(s.debug("Position is outside viewport",F),Q<B.maxSearchDepth){return Q++,F=s.get.nextPosition(F),s.debug("Trying new position",F),!!aa&&s.set.position(F,O)}if(!B.lastResort){return s.debug("Popup could not find a position to display",aa),s.error(W.cannotPlace,u),s.remove.attempts(),s.remove.loading(),s.reset(),B.onUnplaceable.call(aa,u),!1}s.debug("No position found, showing with last position")}return s.debug("Position is on stage",F),s.remove.attempts(),s.remove.loading(),B.setFluidWidth&&s.is.fluid()&&s.set.fluidWidth(O),!0},fluidWidth:function(z){z=z||s.get.calculations(),s.debug("Automatically setting element width to parent width",z.parent.width),aa.css("width",z.container.width)},variation:function(z){(z=z||s.get.variation())&&s.has.popup()&&(s.verbose("Adding variation to popup",z),aa.addClass(z))},visible:function(){l.addClass(G.visible)}},remove:{loading:function(){aa.removeClass(G.loading)},variation:function(z){(z=z||s.get.variation())&&(s.verbose("Removing variation",z),aa.removeClass(z))},visible:function(){l.removeClass(G.visible)},attempts:function(){s.verbose("Resetting all searched positions"),Q=0,X=!1}},bind:{events:function(){s.debug("Binding popup events to module"),"click"==B.on&&l.on("click"+U,s.toggle),"hover"==B.on&&l.on("touchstart"+U,s.event.touchstart),s.get.startEvent()&&l.on(s.get.startEvent()+U,s.event.start).on(s.get.endEvent()+U,s.event.end),B.target&&s.debug("Target set to element",L),y.on("resize"+Y,s.event.resize)},popup:function(){s.verbose("Allowing hover events on popup to prevent closing"),aa&&s.has.popup()&&aa.on("mouseenter"+U,s.event.start).on("mouseleave"+U,s.event.end)},close:function(){(!0===B.hideOnScroll||"auto"==B.hideOnScroll&&"click"!=B.on)&&s.bind.closeOnScroll(),"hover"==B.on&&r&&s.bind.touchClose(),"click"==B.on&&B.closable&&s.bind.clickaway()},closeOnScroll:function(){s.verbose("Binding scroll close event to document"),J.one(s.get.scrollEvent()+Y,s.event.hideGracefully)},touchClose:function(){s.verbose("Binding popup touchclose event to document"),e.on("touchstart"+Y,function(z){s.verbose("Touched away from popup"),s.event.hideGracefully.call(u,z)})},clickaway:function(){s.verbose("Binding popup close event to document"),e.on("click"+Y,function(z){s.verbose("Clicked away from popup"),s.event.hideGracefully.call(u,z)})}},unbind:{events:function(){y.off(Y),l.off(U)},close:function(){e.off(Y),J.off(Y)}},has:{popup:function(){return aa&&aa.length>0}},is:{offstage:function(A,C){var z=[];return c.each(A,function(E,D){D<-B.jitter&&(s.debug("Position exceeds allowable distance from edge",E,D,C),z.push(E))}),z.length>0},svg:function(z){return s.supports.svg()&&z instanceof SVGGraphicsElement},active:function(){return l.hasClass(G.active)},animating:function(){return void 0!==aa&&aa.hasClass(G.animating)},fluid:function(){return void 0!==aa&&aa.hasClass(G.fluid)},visible:function(){return void 0!==aa&&aa.hasClass(G.popupVisible)},dropdown:function(){return l.hasClass(G.dropdown)},hidden:function(){return !s.is.visible()},rtl:function(){return"rtl"==l.css("direction")}},reset:function(){s.remove.visible(),B.preserve?void 0!==c.fn.transition&&aa.transition("remove transition"):s.removePopup()},setting:function(z,A){if(c.isPlainObject(z)){c.extend(!0,B,z)}else{if(void 0===A){return B[z]}B[z]=A}},internal:function(z,A){if(c.isPlainObject(z)){c.extend(!0,s,z)}else{if(void 0===A){return s[z]}s[z]=A}},debug:function(){!B.silent&&B.debug&&(B.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,B.name+":"),s.debug.apply(console,arguments)))},verbose:function(){!B.silent&&B.verbose&&B.debug&&(B.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),s.verbose.apply(console,arguments)))},error:function(){B.silent||(s.error=Function.prototype.bind.call(console.error,console,B.name+":"),s.error.apply(console,arguments))},performance:{log:function(C){var A,D,z;B.performance&&(A=(new Date).getTime(),z=x||A,D=A-z,x=A,t.push({Name:C[0],Arguments:[].slice.call(C,1)||"",Element:u,"Execution Time":D})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var z=B.name+":",A=0;x=!1,clearTimeout(s.performance.timer),c.each(t,function(D,C){A+=C["Execution Time"]}),z+=" "+A+"ms",v&&(z+=" '"+v+"'"),(void 0!==console.group||void 0!==console.table)&&t.length>0&&(console.groupCollapsed(z),console.table?console.table(t):c.each(t,function(D,C){console.log(C.Name+": "+C["Execution Time"]+"ms")}),console.groupEnd()),t=[]}},invoke:function(D,I,C){var A,F,E,z=o;return I=I||p,C=u||C,"string"==typeof D&&void 0!==z&&(D=D.split(/[\. ]/),A=D.length-1,c.each(D,function(P,M){var O=P!=A?M+D[P+1].charAt(0).toUpperCase()+D[P+1].slice(1):D;if(c.isPlainObject(z[O])&&P!=A){z=z[O]}else{if(void 0!==z[O]){return F=z[O],!1}if(!c.isPlainObject(z[M])||P==A){return void 0!==z[M]&&(F=z[M],!1)}z=z[M]}})),c.isFunction(F)?E=F.apply(C,I):void 0!==F&&(E=F),c.isArray(h)?h.push(E):void 0!==h?h=[h,E]:void 0!==E&&(h=E),F}},j?(void 0===o&&s.initialize(),s.invoke(q)):(void 0!==o&&o.invoke("destroy"),s.initialize())}),void 0!==h?h:this},c.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:b,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:b,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(h){var g=/[&<>"'`]/g,k=/[&<>"'`]/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return f[i]};return k.test(h)?h.replace(g,j):h},popup:function(f){var g="",e=c.fn.popup.settings.templates.escape;return void 0!==typeof f&&(void 0!==typeof f.title&&f.title&&(f.title=e(f.title),g+='<div class="header">'+f.title+"</div>"),void 0!==typeof f.content&&f.content&&(f.content=e(f.content),g+='<div class="content">'+f.content+"</div>")),g}}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();void 0!==b&&b.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());c.fn.progress=function(n){var h,f=c(this),k=f.selector||"",e=(new Date).getTime(),p=[],g=arguments[0],j="string"==typeof g,m=[].slice.call(arguments,1);return f.each(function(){var r,F,E=c.isPlainObject(n)?c.extend(!0,{},c.fn.progress.settings,n):c.extend({},c.fn.progress.settings),s=E.className,D=E.metadata,K=E.namespace,l=E.selector,B=E.error,H="."+K,G="module-"+K,I=c(this),i=c(this).find(l.bar),J=c(this).find(l.progress),u=c(this).find(l.label),z=this,t=I.data(G),q=!1;F={initialize:function(){F.debug("Initializing progress bar",E),F.set.duration(),F.set.transitionEvent(),F.read.metadata(),F.read.settings(),F.instantiate()},instantiate:function(){F.verbose("Storing instance of progress",F),t=F,I.data(G,F)},destroy:function(){F.verbose("Destroying previous progress for",I),clearInterval(t.interval),F.remove.state(),I.removeData(G),t=void 0},reset:function(){F.remove.nextValue(),F.update.progress(0)},complete:function(){(void 0===F.percent||F.percent<100)&&(F.remove.progressPoll(),F.set.percent(100))},read:{metadata:function(){var o={percent:I.data(D.percent),total:I.data(D.total),value:I.data(D.value)};o.percent&&(F.debug("Current percent value set from metadata",o.percent),F.set.percent(o.percent)),o.total&&(F.debug("Total value set from metadata",o.total),F.set.total(o.total)),o.value&&(F.debug("Current value set from metadata",o.value),F.set.value(o.value),F.set.progress(o.value))},settings:function(){!1!==E.total&&(F.debug("Current total set in settings",E.total),F.set.total(E.total)),!1!==E.value&&(F.debug("Current value set in settings",E.value),F.set.value(E.value),F.set.progress(F.value)),!1!==E.percent&&(F.debug("Current percent set in settings",E.percent),F.set.percent(E.percent))}},bind:{transitionEnd:function(v){var o=F.get.transitionEnd();i.one(o+H,function(w){clearTimeout(F.failSafeTimer),v.call(this,w)}),F.failSafeTimer=setTimeout(function(){i.triggerHandler(o)},E.duration+E.failSafeDelay),F.verbose("Adding fail safe timer",F.timer)}},increment:function(v){var o,w;F.has.total()?(o=F.get.value(),v=v||1,w=o+v):(o=F.get.percent(),v=v||F.get.randomValue(),w=o+v,100,F.debug("Incrementing percentage by",o,w)),w=F.get.normalizedValue(w),F.set.progress(w)},decrement:function(w){var v,x,o=F.get.total();o?(v=F.get.value(),w=w||1,x=v-w,F.debug("Decrementing value by",w,v)):(v=F.get.percent(),w=w||F.get.randomValue(),x=v-w,F.debug("Decrementing percentage by",w,v)),x=F.get.normalizedValue(x),F.set.progress(x)},has:{progressPoll:function(){return F.progressPoll},total:function(){return !1!==F.get.total()}},get:{text:function(x){var w=F.value||0,A=F.total||0,v=q?F.get.displayPercent():F.percent||0,y=F.total>0?A-w:100-v;return x=x||"",x=x.replace("{value}",w).replace("{total}",A).replace("{left}",y).replace("{percent}",v),F.verbose("Adding variables to progress bar text",x),x},normalizedValue:function(o){if(o<0){return F.debug("Value cannot decrement below 0"),0}if(F.has.total()){if(o>F.total){return F.debug("Value cannot increment above total",F.total),F.total}}else{if(o>100){return F.debug("Value cannot increment above 100 percent"),100}}return o},updateInterval:function(){return"auto"==E.updateInterval?E.duration:E.updateInterval},randomValue:function(){return F.debug("Generating random increment percentage"),Math.floor(Math.random()*E.random.max+E.random.min)},numericValue:function(o){return"string"==typeof o?""!==o.replace(/[^\d.]/g,"")&&+o.replace(/[^\d.]/g,""):o},transitionEnd:function(){var w,v=d.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(w in o){if(void 0!==v.style[w]){return o[w]}}},displayPercent:function(){var w=i.width(),v=I.width(),x=parseInt(i.css("min-width"),10),o=w>x?w/v*100:F.percent;return E.precision>0?Math.round(o*(10*E.precision))/(10*E.precision):Math.round(o)},percent:function(){return F.percent||0},value:function(){return F.nextValue||F.value||0},total:function(){return F.total||!1}},create:{progressPoll:function(){F.progressPoll=setTimeout(function(){F.update.toNextValue(),F.remove.progressPoll()},F.get.updateInterval())}},is:{complete:function(){return F.is.success()||F.is.warning()||F.is.error()},success:function(){return I.hasClass(s.success)},warning:function(){return I.hasClass(s.warning)},error:function(){return I.hasClass(s.error)},active:function(){return I.hasClass(s.active)},visible:function(){return I.is(":visible")}},remove:{progressPoll:function(){F.verbose("Removing progress poll timer"),F.progressPoll&&(clearTimeout(F.progressPoll),delete F.progressPoll)},nextValue:function(){F.verbose("Removing progress value stored for next update"),delete F.nextValue},state:function(){F.verbose("Removing stored state"),delete F.total,delete F.percent,delete F.value},active:function(){F.verbose("Removing active state"),I.removeClass(s.active)},success:function(){F.verbose("Removing success state"),I.removeClass(s.success)},warning:function(){F.verbose("Removing warning state"),I.removeClass(s.warning)},error:function(){F.verbose("Removing error state"),I.removeClass(s.error)}},set:{barWidth:function(o){o>100?F.error(B.tooHigh,o):o<0?F.error(B.tooLow,o):(i.css("width",o+"%"),I.attr("data-percent",parseInt(o,10)))},duration:function(o){o=o||E.duration,o="number"==typeof o?o+"ms":o,F.verbose("Setting progress bar transition duration",o),i.css({"transition-duration":o})},percent:function(o){o="string"==typeof o?+o.replace("%",""):o,o=E.precision>0?Math.round(o*(10*E.precision))/(10*E.precision):Math.round(o),F.percent=o,F.has.total()||(F.value=E.precision>0?Math.round(o/100*F.total*(10*E.precision))/(10*E.precision):Math.round(o/100*F.total*10)/10,E.limitValues&&(F.value=F.value>100?100:F.value<0?0:F.value)),F.set.barWidth(o),F.set.labelInterval(),F.set.labels(),E.onChange.call(z,o,F.value,F.total)},labelInterval:function(){var o=function(){F.verbose("Bar finished animating, removing continuous label updates"),clearInterval(F.interval),q=!1,F.set.labels()};clearInterval(F.interval),F.bind.transitionEnd(o),q=!0,F.interval=setInterval(function(){c.contains(d.documentElement,z)||(clearInterval(F.interval),q=!1),F.set.labels()},E.framerate)},labels:function(){F.verbose("Setting both bar progress and outer label text"),F.set.barLabel(),F.set.state()},label:function(o){(o=o||"")&&(o=F.get.text(o),F.verbose("Setting label to text",o),u.text(o))},state:function(o){o=void 0!==o?o:F.percent,100===o?E.autoSuccess&&!(F.is.warning()||F.is.error()||F.is.success())?(F.set.success(),F.debug("Automatically triggering success at 100%")):(F.verbose("Reached 100% removing active state"),F.remove.active(),F.remove.progressPoll()):o>0?(F.verbose("Adjusting active progress bar label",o),F.set.active()):(F.remove.active(),F.set.label(E.text.active))},barLabel:function(o){void 0!==o?J.text(F.get.text(o)):"ratio"==E.label&&F.total?(F.verbose("Adding ratio to bar label"),J.text(F.get.text(E.text.ratio))):"percent"==E.label&&(F.verbose("Adding percentage to bar label"),J.text(F.get.text(E.text.percent)))},active:function(o){o=o||E.text.active,F.debug("Setting active state"),E.showActivity&&!F.is.active()&&I.addClass(s.active),F.remove.warning(),F.remove.error(),F.remove.success(),o=E.onLabelUpdate("active",o,F.value,F.total),o&&F.set.label(o),F.bind.transitionEnd(function(){E.onActive.call(z,F.value,F.total)})},success:function(o){o=o||E.text.success||E.text.active,F.debug("Setting success state"),I.addClass(s.success),F.remove.active(),F.remove.warning(),F.remove.error(),F.complete(),E.text.success?(o=E.onLabelUpdate("success",o,F.value,F.total),F.set.label(o)):(o=E.onLabelUpdate("active",o,F.value,F.total),F.set.label(o)),F.bind.transitionEnd(function(){E.onSuccess.call(z,F.total)})},warning:function(o){o=o||E.text.warning,F.debug("Setting warning state"),I.addClass(s.warning),F.remove.active(),F.remove.success(),F.remove.error(),F.complete(),o=E.onLabelUpdate("warning",o,F.value,F.total),o&&F.set.label(o),F.bind.transitionEnd(function(){E.onWarning.call(z,F.value,F.total)})},error:function(o){o=o||E.text.error,F.debug("Setting error state"),I.addClass(s.error),F.remove.active(),F.remove.success(),F.remove.warning(),F.complete(),o=E.onLabelUpdate("error",o,F.value,F.total),o&&F.set.label(o),F.bind.transitionEnd(function(){E.onError.call(z,F.value,F.total)})},transitionEvent:function(){r=F.get.transitionEnd()},total:function(o){F.total=o},value:function(o){F.value=o},progress:function(o){F.has.progressPoll()?(F.debug("Updated within interval, setting next update to use new value",o),F.set.nextValue(o)):(F.debug("First update in progress update interval, immediately updating",o),F.update.progress(o),F.create.progressPoll())},nextValue:function(o){F.nextValue=o}},update:{toNextValue:function(){var o=F.nextValue;o&&(F.debug("Update interval complete using last updated value",o),F.update.progress(o),F.remove.nextValue())},progress:function(v){var o;v=F.get.numericValue(v),!1===v&&F.error(B.nonNumeric,v),v=F.get.normalizedValue(v),F.has.total()?(F.set.value(v),o=v/F.total*100,F.debug("Calculating percent complete from total",o),F.set.percent(o)):(o=v,F.debug("Setting value to exact percentage value",o),F.set.percent(o))}},setting:function(o,v){if(F.debug("Changing setting",o,v),c.isPlainObject(o)){c.extend(!0,E,o)}else{if(void 0===v){return E[o]}c.isPlainObject(E[o])?c.extend(!0,E[o],v):E[o]=v}},internal:function(o,v){if(c.isPlainObject(o)){c.extend(!0,F,o)}else{if(void 0===v){return F[o]}F[o]=v}},debug:function(){!E.silent&&E.debug&&(E.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,E.name+":"),F.debug.apply(console,arguments)))},verbose:function(){!E.silent&&E.verbose&&E.debug&&(E.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,E.name+":"),F.verbose.apply(console,arguments)))},error:function(){E.silent||(F.error=Function.prototype.bind.call(console.error,console,E.name+":"),F.error.apply(console,arguments))},performance:{log:function(w){var v,x,o;E.performance&&(v=(new Date).getTime(),o=e||v,x=v-o,e=v,p.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:z,"Execution Time":x})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var o=E.name+":",v=0;e=!1,clearTimeout(F.performance.timer),c.each(p,function(x,w){v+=w["Execution Time"]}),o+=" "+v+"ms",k&&(o+=" '"+k+"'"),(void 0!==console.group||void 0!==console.table)&&p.length>0&&(console.groupCollapsed(o),console.table?console.table(p):c.each(p,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(x,L,C){var w,A,y,v=t;return L=L||m,C=z||C,"string"==typeof x&&void 0!==v&&(x=x.split(/[\. ]/),w=x.length-1,c.each(x,function(O,M){var N=O!=w?M+x[O+1].charAt(0).toUpperCase()+x[O+1].slice(1):x;if(c.isPlainObject(v[N])&&O!=w){v=v[N]}else{if(void 0!==v[N]){return A=v[N],!1}if(!c.isPlainObject(v[M])||O==w){return void 0!==v[M]?(A=v[M],!1):(F.error(B.method,x),!1)}v=v[M]}})),c.isFunction(A)?y=A.apply(C,L):void 0!==A&&(y=A),c.isArray(h)?h.push(y):void 0!==h?h=[h,y]:void 0!==y&&(h=y),A}},j?(void 0===t&&F.initialize(),F.invoke(g)):(void 0!==t&&t.invoke("destroy"),F.initialize())}),void 0!==h?h:this},c.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(h,g,j,f){return g},onChange:function(g,f,h){},onSuccess:function(f){},onActive:function(g,f){},onError:function(g,f){},onWarning:function(g,f){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.rating=function(p){var g,j=c(this),f=j.selector||"",m=(new Date).getTime(),e=[],q=arguments[0],h="string"==typeof q,k=[].slice.call(arguments,1);return j.each(function(){var F,t,s=c.isPlainObject(p)?c.extend(!0,{},c.fn.rating.settings,p):c.extend({},c.fn.rating.settings),n=s.namespace,r=s.className,E=s.metadata,l=s.selector,o=(s.error,"."+n),A="module-"+n,z=this,B=c(this).data(A),i=c(this),D=i.find(l.icon);t={initialize:function(){t.verbose("Initializing rating module",s),0===D.length&&t.setup.layout(),s.interactive?t.enable():t.disable(),t.set.initialLoad(),t.set.rating(t.get.initialRating()),t.remove.initialLoad(),t.instantiate()},instantiate:function(){t.verbose("Instantiating module",s),B=t,i.data(A,t)},destroy:function(){t.verbose("Destroying previous instance",B),t.remove.events(),i.removeData(A)},refresh:function(){D=i.find(l.icon)},setup:{layout:function(){var u=t.get.maxRating(),v=c.fn.rating.settings.templates.icon(u);t.debug("Generating icon html dynamically"),i.html(v),t.refresh()}},event:{mouseenter:function(){var u=c(this);u.nextAll().removeClass(r.selected),i.addClass(r.selected),u.addClass(r.selected).prevAll().addClass(r.selected)},mouseleave:function(){i.removeClass(r.selected),D.removeClass(r.selected)},click:function(){var v=c(this),w=t.get.rating(),u=D.index(v)+1;("auto"==s.clearable?1===D.length:s.clearable)&&w==u?t.clearRating():t.set.rating(u)}},clearRating:function(){t.debug("Clearing current rating"),t.set.rating(0)},bind:{events:function(){t.verbose("Binding events"),i.on("mouseenter"+o,l.icon,t.event.mouseenter).on("mouseleave"+o,l.icon,t.event.mouseleave).on("click"+o,l.icon,t.event.click)}},remove:{events:function(){t.verbose("Removing events"),i.off(o)},initialLoad:function(){F=!1}},enable:function(){t.debug("Setting rating to interactive mode"),t.bind.events(),i.removeClass(r.disabled)},disable:function(){t.debug("Setting rating to read-only mode"),t.remove.events(),i.addClass(r.disabled)},is:{initialLoad:function(){return F}},get:{initialRating:function(){return void 0!==i.data(E.rating)?(i.removeData(E.rating),i.data(E.rating)):s.initialRating},maxRating:function(){return void 0!==i.data(E.maxRating)?(i.removeData(E.maxRating),i.data(E.maxRating)):s.maxRating},rating:function(){var u=D.filter("."+r.active).length;return t.verbose("Current rating retrieved",u),u}},set:{rating:function(v){var u=v-1>=0?v-1:0,w=D.eq(u);i.removeClass(r.selected),D.removeClass(r.selected).removeClass(r.active),v>0&&(t.verbose("Setting current rating to",v),w.prevAll().addBack().addClass(r.active)),t.is.initialLoad()||s.onRate.call(z,v)},initialLoad:function(){F=!0}},setting:function(u,v){if(t.debug("Changing setting",u,v),c.isPlainObject(u)){c.extend(!0,s,u)}else{if(void 0===v){return s[u]}c.isPlainObject(s[u])?c.extend(!0,s[u],v):s[u]=v}},internal:function(u,v){if(c.isPlainObject(u)){c.extend(!0,t,u)}else{if(void 0===v){return t[u]}t[u]=v}},debug:function(){!s.silent&&s.debug&&(s.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,s.name+":"),t.debug.apply(console,arguments)))},verbose:function(){!s.silent&&s.verbose&&s.debug&&(s.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),t.verbose.apply(console,arguments)))},error:function(){s.silent||(t.error=Function.prototype.bind.call(console.error,console,s.name+":"),t.error.apply(console,arguments))},performance:{log:function(w){var v,x,u;s.performance&&(v=(new Date).getTime(),u=m||v,x=v-u,m=v,e.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:z,"Execution Time":x})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var u=s.name+":",v=0;m=!1,clearTimeout(t.performance.timer),c.each(e,function(x,w){v+=w["Execution Time"]}),u+=" "+v+"ms",f&&(u+=" '"+f+"'"),j.length>1&&(u+=" ("+j.length+")"),(void 0!==console.group||void 0!==console.table)&&e.length>0&&(console.groupCollapsed(u),console.table?console.table(e):c.each(e,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),e=[]}},invoke:function(x,w,G){var v,C,y,u=B;return w=w||k,G=z||G,"string"==typeof x&&void 0!==u&&(x=x.split(/[\. ]/),v=x.length-1,c.each(x,function(J,H){var I=J!=v?H+x[J+1].charAt(0).toUpperCase()+x[J+1].slice(1):x;if(c.isPlainObject(u[I])&&J!=v){u=u[I]}else{if(void 0!==u[I]){return C=u[I],!1}if(!c.isPlainObject(u[H])||J==v){return void 0!==u[H]&&(C=u[H],!1)}u=u[H]}})),c.isFunction(C)?y=C.apply(G,w):void 0!==C&&(y=C),c.isArray(g)?g.push(y):void 0!==g?g=[g,y]:void 0!==y&&(g=y),C}},h?(void 0===B&&t.initialize(),t.invoke(q)):(void 0!==B&&B.invoke("destroy"),t.initialize())}),void 0!==g?g:this},c.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(f){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(g){for(var f=1,h="";f<=g;){h+='<i class="icon"></i>',f++}return h}}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.search=function(h){var f,m=c(this),e=m.selector||"",p=(new Date).getTime(),g=[],k=arguments[0],n="string"==typeof k,j=[].slice.call(arguments,1);return c(this).each(function(){var U,L=c.isPlainObject(h)?c.extend(!0,{},c.fn.search.settings,h):c.extend({},c.fn.search.settings),Q=L.className,z=L.metadata,K=L.regExp,N=L.fields,V=L.selector,s=L.error,t=L.namespace,I="."+t,u=t+"-module",M=c(this),l=M.find(V.prompt),i=M.find(V.searchButton),J=M.find(V.results),o=M.find(V.result),q=M.find(V.category),G=this,B=M.data(u),r=!1,H=!1;U={initialize:function(){U.verbose("Initializing module"),U.determine.searchFields(),U.bind.events(),U.set.type(),U.create.results(),U.instantiate()},instantiate:function(){U.verbose("Storing instance of module",U),B=U,M.data(u,U)},destroy:function(){U.verbose("Destroying instance"),M.off(I).removeData(u)},refresh:function(){U.debug("Refreshing selector cache"),l=M.find(V.prompt),i=M.find(V.searchButton),q=M.find(V.category),J=M.find(V.results),o=M.find(V.result)},refreshResults:function(){J=M.find(V.results),o=M.find(V.result)},bind:{events:function(){U.verbose("Binding events to search"),L.automatic&&(M.on(U.get.inputEvent()+I,V.prompt,U.event.input),l.attr("autocomplete","off")),M.on("focus"+I,V.prompt,U.event.focus).on("blur"+I,V.prompt,U.event.blur).on("keydown"+I,V.prompt,U.handleKeyboard).on("click"+I,V.searchButton,U.query).on("mousedown"+I,V.results,U.event.result.mousedown).on("mouseup"+I,V.results,U.event.result.mouseup).on("click"+I,V.result,U.event.result.click)}},determine:{searchFields:function(){h&&void 0!==h.searchFields&&(L.searchFields=h.searchFields)}},event:{input:function(){L.searchDelay?(clearTimeout(U.timer),U.timer=setTimeout(function(){U.is.focused()&&U.query()},L.searchDelay)):U.query()},focus:function(){U.set.focus(),L.searchOnFocus&&U.has.minimumCharacters()&&U.query(function(){U.can.show()&&U.showResults()})},blur:function(x){var w=d.activeElement===this,v=function(){U.cancel.query(),U.remove.focus(),U.timer=setTimeout(U.hideResults,L.hideDelay)};w||(H=!1,U.resultsClicked?(U.debug("Determining if user action caused search to close"),M.one("click.close"+I,V.results,function(y){if(U.is.inMessage(y)||r){return void l.focus()}r=!1,U.is.animating()||U.is.hidden()||v()})):(U.debug("Input blurred without user action, closing results"),v()))},result:{mousedown:function(){U.resultsClicked=!0},mouseup:function(){U.resultsClicked=!1},click:function(x){U.debug("Search result selected");var A=c(this),w=A.find(V.title).eq(0),D=A.is("a[href]")?A:A.find("a[href]").eq(0),v=D.attr("href")||!1,F=D.attr("target")||!1,y=(w.html(),w.length>0&&w.text()),C=U.get.results(),E=A.data(z.result)||U.get.result(y,C);if(c.isFunction(L.onSelect)&&!1===L.onSelect.call(G,E,C)){return U.debug("Custom onSelect callback cancelled default select action"),void (r=!0)}U.hideResults(),y&&U.set.value(y),v&&(U.verbose("Opening search link found in result",D),"_blank"==F||x.ctrlKey?b.open(v):b.location.href=v)}}},handleKeyboard:function(C){var F,x=M.find(V.result),A=M.find(V.category),w=x.filter("."+Q.active),E=x.index(w),v=x.length,O=w.length>0,y=C.which,D={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(y==D.escape&&(U.verbose("Escape key pressed, blurring search field"),U.hideResults(),H=!0),U.is.visible()){if(y==D.enter){if(U.verbose("Enter key pressed, selecting active result"),x.filter("."+Q.active).length>0){return U.event.result.click.call(x.filter("."+Q.active),C),C.preventDefault(),!1}}else{y==D.upArrow&&O?(U.verbose("Up key pressed, changing active result"),F=E-1<0?E:E-1,A.removeClass(Q.active),x.removeClass(Q.active).eq(F).addClass(Q.active).closest(A).addClass(Q.active),C.preventDefault()):y==D.downArrow&&(U.verbose("Down key pressed, changing active result"),F=E+1>=v?E:E+1,A.removeClass(Q.active),x.removeClass(Q.active).eq(F).addClass(Q.active).closest(A).addClass(Q.active),C.preventDefault())}}else{y==D.enter&&(U.verbose("Enter key pressed, executing query"),U.query(),U.set.buttonPressed(),l.one("keyup",U.remove.buttonFocus))}},setup:{api:function(w,x){var v={debug:L.debug,on:!1,cache:!0,action:"search",urlData:{query:w},onSuccess:function(y){U.parse.response.call(G,y,w),x()},onFailure:function(){U.displayMessage(s.serverError),x()},onAbort:function(y){},onError:U.error};c.extend(!0,v,L.apiSettings),U.verbose("Setting up API request",v),M.api(v)}},can:{useAPI:function(){return void 0!==c.fn.api},show:function(){return U.is.focused()&&!U.is.visible()&&!U.is.empty()},transition:function(){return L.transition&&void 0!==c.fn.transition&&M.transition("is supported")}},is:{animating:function(){return J.hasClass(Q.animating)},hidden:function(){return J.hasClass(Q.hidden)},inMessage:function(w){if(w.target){var v=c(w.target);return c.contains(d.documentElement,w.target)&&v.closest(V.message).length>0}},empty:function(){return""===J.html()},visible:function(){return J.filter(":visible").length>0},focused:function(){return l.filter(":focus").length>0}},get:{inputEvent:function(){var v=l[0];return void 0!==v&&void 0!==v.oninput?"input":void 0!==v&&void 0!==v.onpropertychange?"propertychange":"keyup"},value:function(){return l.val()},results:function(){return M.data(z.results)},result:function(w,y){var v=["title","id"],x=!1;return w=void 0!==w?w:U.get.value(),y=void 0!==y?y:U.get.results(),"category"===L.type?(U.debug("Finding result that matches",w),c.each(y,function(C,A){if(c.isArray(A.results)&&(x=U.search.object(w,A.results,v)[0])){return !1}})):(U.debug("Finding result in results object",w),x=U.search.object(w,y,v)[0]),x||!1}},select:{firstResult:function(){U.verbose("Selecting first result"),o.first().addClass(Q.active)}},set:{focus:function(){M.addClass(Q.focus)},loading:function(){M.addClass(Q.loading)},value:function(v){U.verbose("Setting search input value",v),l.val(v)},type:function(v){v=v||L.type,"category"==L.type&&M.addClass(L.type)},buttonPressed:function(){i.addClass(Q.pressed)}},remove:{loading:function(){M.removeClass(Q.loading)},focus:function(){M.removeClass(Q.focus)},buttonPressed:function(){i.removeClass(Q.pressed)}},query:function(w){w=c.isFunction(w)?w:function(){};var x=U.get.value(),v=U.read.cache(x);w=w||function(){},U.has.minimumCharacters()?(v?(U.debug("Reading result from cache",x),U.save.results(v.results),U.addResults(v.html),U.inject.id(v.results),w()):(U.debug("Querying for",x),c.isPlainObject(L.source)||c.isArray(L.source)?(U.search.local(x),w()):U.can.useAPI()?U.search.remote(x,w):(U.error(s.source),w())),L.onSearchQuery.call(G,x)):U.hideResults()},search:{local:function(w){var v,x=U.search.object(w,L.content);U.set.loading(),U.save.results(x),U.debug("Returned local search results",x),v=U.generateResults({results:x}),U.remove.loading(),U.addResults(v),U.inject.id(x),U.write.cache(w,{html:v,results:x})},remote:function(v,w){w=c.isFunction(w)?w:function(){},M.api("is loading")&&M.api("abort"),U.setup.api(v,w),M.api("query")},object:function(y,E,x){var D=[],w=[],C=y.toString().replace(K.escape,"\\$&"),A=new RegExp(K.beginsWith+C,"i"),v=function(O,R){var F=-1==c.inArray(R,D),P=-1==c.inArray(R,w);F&&P&&O.push(R)};return E=E||L.source,x=void 0!==x?x:L.searchFields,c.isArray(x)||(x=[x]),void 0===E||!1===E?(U.error(s.source),[]):(c.each(x,function(F,O){c.each(E,function(P,R){"string"==typeof R[O]&&(-1!==R[O].search(A)?v(D,R):L.searchFullText&&U.fuzzySearch(y,R[O])&&v(w,R))})}),c.merge(D,w))}},fuzzySearch:function(A,x){var D=x.length,w=A.length;if("string"!=typeof A){return !1}if(A=A.toLowerCase(),x=x.toLowerCase(),w>D){return !1}if(w===D){return A===x}A:for(var C=0,v=0;C<w;C++){for(var y=A.charCodeAt(C);v<D;){if(x.charCodeAt(v++)===y){continue A}}return !1}return !0},parse:{response:function(w,v){var x=U.generateResults(w);U.verbose("Parsing server response",w),void 0!==w&&void 0!==v&&void 0!==w[N.results]&&(U.addResults(x),U.inject.id(w[N.results]),U.write.cache(v,{html:x,results:w[N.results]}),U.save.results(w[N.results]))}},cancel:{query:function(){U.can.useAPI()&&M.api("abort")}},has:{minimumCharacters:function(){return U.get.value().length>=L.minCharacters},results:function(){return 0!==J.length&&""!=J.html()}},clear:{cache:function(w){var v=M.data(z.cache);w?w&&v&&v[w]&&(U.debug("Removing value from cache",w),delete v[w],M.data(z.cache,v)):(U.debug("Clearing cache",w),M.removeData(z.cache))}},read:{cache:function(w){var v=M.data(z.cache);return !!L.cache&&(U.verbose("Checking cache for generated html for query",w),"object"==typeof v&&void 0!==v[w]&&v[w])}},create:{id:function(x,w){var A,v,y=x+1;return void 0!==w?(A=String.fromCharCode(97+w),v=A+y,U.verbose("Creating category result id",v)):(v=y,U.verbose("Creating result id",v)),v},results:function(){0===J.length&&(J=c("<div />").addClass(Q.results).appendTo(M))}},inject:{result:function(x,w,y){U.verbose("Injecting result into results");var v=void 0!==y?J.children().eq(y).children(V.result).eq(w):J.children(V.result).eq(w);U.verbose("Injecting results metadata",v),v.data(z.result,x)},id:function(w){U.debug("Injecting unique ids into results");var x=0,v=0;return"category"===L.type?c.each(w,function(y,A){v=0,c.each(A.results,function(E,D){var C=A.results[E];void 0===C.id&&(C.id=U.create.id(v,x)),U.inject.result(C,v,x),v++}),x++}):c.each(w,function(y,C){var A=w[y];void 0===A.id&&(A.id=U.create.id(v)),U.inject.result(A,v),v++}),w}},save:{results:function(v){U.verbose("Saving current search results to metadata",v),M.data(z.results,v)}},write:{cache:function(w,v){var x=void 0!==M.data(z.cache)?M.data(z.cache):{};L.cache&&(U.verbose("Writing generated html to cache",w,v),x[w]=v,M.data(z.cache,x))}},addResults:function(v){if(c.isFunction(L.onResultsAdd)&&!1===L.onResultsAdd.call(J,v)){return U.debug("onResultsAdd callback cancelled default action"),!1}v?(J.html(v),U.refreshResults(),L.selectFirstResult&&U.select.firstResult(),U.showResults()):U.hideResults(function(){J.empty()})},showResults:function(v){v=c.isFunction(v)?v:function(){},H||!U.is.visible()&&U.has.results()&&(U.can.transition()?(U.debug("Showing results with css animations"),J.transition({animation:L.transition+" in",debug:L.debug,verbose:L.verbose,duration:L.duration,onComplete:function(){v()},queue:!0})):(U.debug("Showing results with javascript"),J.stop().fadeIn(L.duration,L.easing)),L.onResultsOpen.call(J))},hideResults:function(v){v=c.isFunction(v)?v:function(){},U.is.visible()&&(U.can.transition()?(U.debug("Hiding results with css animations"),J.transition({animation:L.transition+" out",debug:L.debug,verbose:L.verbose,duration:L.duration,onComplete:function(){v()},queue:!0})):(U.debug("Hiding results with javascript"),J.stop().fadeOut(L.duration,L.easing)),L.onResultsClose.call(J))},generateResults:function(x){U.debug("Generating html from response",x);var A=L.templates[L.type],w=c.isPlainObject(x[N.results])&&!c.isEmptyObject(x[N.results]),y=c.isArray(x[N.results])&&x[N.results].length>0,v="";return w||y?(L.maxResults>0&&(w?"standard"==L.type&&U.error(s.maxResults):x[N.results]=x[N.results].slice(0,L.maxResults)),c.isFunction(A)?v=A(x,N):U.error(s.noTemplate,!1)):L.showNoResults&&(v=U.displayMessage(s.noResults,"empty")),L.onResults.call(G,x),v},displayMessage:function(w,v){return v=v||"standard",U.debug("Displaying message",w,v),U.addResults(L.templates.message(w,v)),L.templates.message(w,v)},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,L,v)}else{if(void 0===w){return L[v]}L[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,U,v)}else{if(void 0===w){return U[v]}U[v]=w}},debug:function(){!L.silent&&L.debug&&(L.performance?U.performance.log(arguments):(U.debug=Function.prototype.bind.call(console.info,console,L.name+":"),U.debug.apply(console,arguments)))},verbose:function(){!L.silent&&L.verbose&&L.debug&&(L.performance?U.performance.log(arguments):(U.verbose=Function.prototype.bind.call(console.info,console,L.name+":"),U.verbose.apply(console,arguments)))},error:function(){L.silent||(U.error=Function.prototype.bind.call(console.error,console,L.name+":"),U.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;L.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,g.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:G,"Execution Time":y})),clearTimeout(U.performance.timer),U.performance.timer=setTimeout(U.performance.display,500)},display:function(){var v=L.name+":",w=0;p=!1,clearTimeout(U.performance.timer),c.each(g,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),m.length>1&&(v+=" ("+m.length+")"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(v),console.table?console.table(g):c.each(g,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(y,D,x){var w,C,A,v=B;return D=D||j,x=G||x,"string"==typeof y&&void 0!==v&&(y=y.split(/[\. ]/),w=y.length-1,c.each(y,function(O,E){var F=O!=w?E+y[O+1].charAt(0).toUpperCase()+y[O+1].slice(1):y;if(c.isPlainObject(v[F])&&O!=w){v=v[F]}else{if(void 0!==v[F]){return C=v[F],!1}if(!c.isPlainObject(v[E])||O==w){return void 0!==v[E]&&(C=v[E],!1)}v=v[E]}})),c.isFunction(C)?A=C.apply(x,D):void 0!==C&&(A=C),c.isArray(f)?f.push(A):void 0!==f?f=[f,A]:void 0!==A&&(f=A),C}},n?(void 0===B&&U.initialize(),U.invoke(k)):(void 0!==B&&B.invoke("destroy"),U.initialize())}),void 0!==f?f:this},c.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(f){},onResults:function(f){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(h){var g=/[&<>"'`]/g,k=/[&<>"'`]/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return f[i]};return k.test(h)?h.replace(g,j):h},message:function(g,f){var h="";return void 0!==g&&void 0!==f&&(h+='<div class="message '+f+'">',h+="empty"==f?'<div class="header">No Results</div class="header"><div class="description">'+g+'</div class="description">':' <div class="description">'+g+"</div>",h+="</div>"),h},category:function(f,g){var e="";c.fn.search.settings.templates.escape;return void 0!==f[g.categoryResults]&&(c.each(f[g.categoryResults],function(h,i){void 0!==i[g.results]&&i.results.length>0&&(e+='<div class="category">',void 0!==i[g.categoryName]&&(e+='<div class="name">'+i[g.categoryName]+"</div>"),c.each(i.results,function(k,j){j[g.url]?e+='<a class="result" href="'+j[g.url]+'">':e+='<a class="result">',void 0!==j[g.image]&&(e+='<div class="image"> <img src="'+j[g.image]+'"></div>'),e+='<div class="content">',void 0!==j[g.price]&&(e+='<div class="price">'+j[g.price]+"</div>"),void 0!==j[g.title]&&(e+='<div class="title">'+j[g.title]+"</div>"),void 0!==j[g.description]&&(e+='<div class="description">'+j[g.description]+"</div>"),e+="</div>",e+="</a>"}),e+="</div>")}),f[g.action]&&(e+='<a href="'+f[g.action][g.actionURL]+'" class="action">'+f[g.action][g.actionText]+"</a>"),e)},standard:function(f,g){var e="";return void 0!==f[g.results]&&(c.each(f[g.results],function(i,h){h[g.url]?e+='<a class="result" href="'+h[g.url]+'">':e+='<a class="result">',void 0!==h[g.image]&&(e+='<div class="image"> <img src="'+h[g.image]+'"></div>'),e+='<div class="content">',void 0!==h[g.price]&&(e+='<div class="price">'+h[g.price]+"</div>"),void 0!==h[g.title]&&(e+='<div class="title">'+h[g.title]+"</div>"),void 0!==h[g.description]&&(e+='<div class="description">'+h[g.description]+"</div>"),e+="</div>",e+="</a>"}),f[g.action]&&(e+='<a href="'+f[g.action][g.actionURL]+'" class="action">'+f[g.action][g.actionText]+"</a>"),e)}}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.shape=function(h){var f,m=c(this),e=(c("body"),(new Date).getTime()),p=[],g=arguments[0],k="string"==typeof g,n=[].slice.call(arguments,1),j=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(i){setTimeout(i,0)};return m.each(function(){var K,E,q,D=m.selector||"",J=c.isPlainObject(h)?c.extend(!0,{},c.fn.shape.settings,h):c.extend({},c.fn.shape.settings),l=J.namespace,B=J.selector,G=J.error,F=J.className,H="."+l,i="module-"+l,I=c(this),s=I.find(B.sides),u=I.find(B.side),r=!1,o=this,z=I.data(i);q={initialize:function(){q.verbose("Initializing module for",o),q.set.defaultSide(),q.instantiate()},instantiate:function(){q.verbose("Storing instance of module",q),z=q,I.data(i,z)},destroy:function(){q.verbose("Destroying previous module for",o),I.removeData(i).off(H)},refresh:function(){q.verbose("Refreshing selector cache for",o),I=c(o),s=c(this).find(B.shape),u=c(this).find(B.side)},repaint:function(){q.verbose("Forcing repaint event");var t=s[0]||d.createElement("div");t.offsetWidth},animate:function(t,v){q.verbose("Animating box with properties",t),v=v||function(w){q.verbose("Executing animation callback"),void 0!==w&&w.stopPropagation(),q.reset(),q.set.active()},J.beforeChange.call(E[0]),q.get.transitionEvent()?(q.verbose("Starting CSS animation"),I.addClass(F.animating),s.css(t).one(q.get.transitionEvent(),v),q.set.duration(J.duration),j(function(){I.addClass(F.animating),K.addClass(F.hidden)})):v()},queue:function(t){q.debug("Queueing animation of",t),s.one(q.get.transitionEvent(),function(){q.debug("Executing queued animation"),setTimeout(function(){I.shape(t)},0)})},reset:function(){q.verbose("Animating states reset"),I.removeClass(F.animating).attr("style","").removeAttr("style"),s.attr("style","").removeAttr("style"),u.attr("style","").removeAttr("style").removeClass(F.hidden),E.removeClass(F.animating).attr("style","").removeAttr("style")},is:{complete:function(){return u.filter("."+F.active)[0]==E[0]},animating:function(){return I.hasClass(F.animating)}},set:{defaultSide:function(){K=I.find("."+J.className.active),E=K.next(B.side).length>0?K.next(B.side):I.find(B.side).first(),r=!1,q.verbose("Active side set to",K),q.verbose("Next side set to",E)},duration:function(t){t=t||J.duration,t="number"==typeof t?t+"ms":t,q.verbose("Setting animation duration",t),(J.duration||0===J.duration)&&s.add(u).css({"-webkit-transition-duration":t,"-moz-transition-duration":t,"-ms-transition-duration":t,"-o-transition-duration":t,"transition-duration":t})},currentStageSize:function(){var w=I.find("."+J.className.active),v=w.outerWidth(!0),x=w.outerHeight(!0);I.css({width:v,height:x})},stageSize:function(){var x=I.clone().addClass(F.loading),w=x.find("."+J.className.active),A=r?x.find(B.side).eq(r):w.next(B.side).length>0?w.next(B.side):x.find(B.side).first(),v="next"==J.width?A.outerWidth(!0):"initial"==J.width?I.width():J.width,y="next"==J.height?A.outerHeight(!0):"initial"==J.height?I.height():J.height;w.removeClass(F.active),A.addClass(F.active),x.insertAfter(I),x.remove(),"auto"!=J.width&&(I.css("width",v+J.jitter),q.verbose("Specifying width during animation",v)),"auto"!=J.height&&(I.css("height",y+J.jitter),q.verbose("Specifying height during animation",y))},nextSide:function(t){r=t,E=u.filter(t),r=u.index(E),0===E.length&&(q.set.defaultSide(),q.error(G.side)),q.verbose("Next side manually set to",E)},active:function(){q.verbose("Setting new side to active",E),u.removeClass(F.active),E.addClass(F.active),J.onChange.call(E[0]),q.set.defaultSide()}},flip:{up:function(){if(q.is.complete()&&!q.is.animating()&&!J.allowRepeats){return void q.debug("Side already visible",E)}if(q.is.animating()){q.queue("flip up")}else{q.debug("Flipping up",E);var t=q.get.transform.up();q.set.stageSize(),q.stage.above(),q.animate(t)}},down:function(){if(q.is.complete()&&!q.is.animating()&&!J.allowRepeats){return void q.debug("Side already visible",E)}if(q.is.animating()){q.queue("flip down")}else{q.debug("Flipping down",E);var t=q.get.transform.down();q.set.stageSize(),q.stage.below(),q.animate(t)}},left:function(){if(q.is.complete()&&!q.is.animating()&&!J.allowRepeats){return void q.debug("Side already visible",E)}if(q.is.animating()){q.queue("flip left")}else{q.debug("Flipping left",E);var t=q.get.transform.left();q.set.stageSize(),q.stage.left(),q.animate(t)}},right:function(){if(q.is.complete()&&!q.is.animating()&&!J.allowRepeats){return void q.debug("Side already visible",E)}if(q.is.animating()){q.queue("flip right")}else{q.debug("Flipping right",E);var t=q.get.transform.right();q.set.stageSize(),q.stage.right(),q.animate(t)}},over:function(){if(q.is.complete()&&!q.is.animating()&&!J.allowRepeats){return void q.debug("Side already visible",E)}q.is.animating()?q.queue("flip over"):(q.debug("Flipping over",E),q.set.stageSize(),q.stage.behind(),q.animate(q.get.transform.over()))},back:function(){if(q.is.complete()&&!q.is.animating()&&!J.allowRepeats){return void q.debug("Side already visible",E)}q.is.animating()?q.queue("flip back"):(q.debug("Flipping back",E),q.set.stageSize(),q.stage.behind(),q.animate(q.get.transform.back()))}},get:{transform:{up:function(){var t={y:-(K.outerHeight(!0)-E.outerHeight(!0))/2,z:-K.outerHeight(!0)/2};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(-90deg)"}},down:function(){var t={y:-(K.outerHeight(!0)-E.outerHeight(!0))/2,z:-K.outerHeight(!0)/2};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(90deg)"}},left:function(){var t={x:-(K.outerWidth(!0)-E.outerWidth(!0))/2,z:-K.outerWidth(!0)/2};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(90deg)"}},right:function(){var t={x:-(K.outerWidth(!0)-E.outerWidth(!0))/2,z:-K.outerWidth(!0)/2};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+{x:-(K.outerWidth(!0)-E.outerWidth(!0))/2}.x+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+{x:-(K.outerWidth(!0)-E.outerWidth(!0))/2}.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var x,w=d.createElement("element"),v={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(x in v){if(void 0!==w.style[x]){return v[x]}}},nextSide:function(){return K.next(B.side).length>0?K.next(B.side):I.find(B.side).first()}},stage:{above:function(){var t={origin:(K.outerHeight(!0)-E.outerHeight(!0))/2,depth:{active:E.outerHeight(!0)/2,next:K.outerHeight(!0)/2}};q.verbose("Setting the initial animation position as above",E,t),s.css({transform:"translateZ(-"+t.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),E.addClass(F.animating).css({top:t.origin+"px",transform:"rotateX(90deg) translateZ("+t.depth.next+"px)"})},below:function(){var t={origin:(K.outerHeight(!0)-E.outerHeight(!0))/2,depth:{active:E.outerHeight(!0)/2,next:K.outerHeight(!0)/2}};q.verbose("Setting the initial animation position as below",E,t),s.css({transform:"translateZ(-"+t.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),E.addClass(F.animating).css({top:t.origin+"px",transform:"rotateX(-90deg) translateZ("+t.depth.next+"px)"})},left:function(){var t={active:K.outerWidth(!0),next:E.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};q.verbose("Setting the initial animation position as left",E,v),s.css({transform:"translateZ(-"+v.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+v.depth.active+"px)"}),E.addClass(F.animating).css({left:v.origin+"px",transform:"rotateY(-90deg) translateZ("+v.depth.next+"px)"})},right:function(){var t={active:K.outerWidth(!0),next:E.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};q.verbose("Setting the initial animation position as left",E,v),s.css({transform:"translateZ(-"+v.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+v.depth.active+"px)"}),E.addClass(F.animating).css({left:v.origin+"px",transform:"rotateY(90deg) translateZ("+v.depth.next+"px)"})},behind:function(){var t={active:K.outerWidth(!0),next:E.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};q.verbose("Setting the initial animation position as behind",E,v),K.css({transform:"rotateY(0deg)"}),E.addClass(F.animating).css({left:v.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(v,w){if(q.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,J,v)}else{if(void 0===w){return J[v]}c.isPlainObject(J[v])?c.extend(!0,J[v],w):J[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,q,v)}else{if(void 0===w){return q[v]}q[v]=w}},debug:function(){!J.silent&&J.debug&&(J.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,J.name+":"),q.debug.apply(console,arguments)))},verbose:function(){!J.silent&&J.verbose&&J.debug&&(J.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,J.name+":"),q.verbose.apply(console,arguments)))},error:function(){J.silent||(q.error=Function.prototype.bind.call(console.error,console,J.name+":"),q.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;J.performance&&(w=(new Date).getTime(),v=e||w,y=w-v,e=w,p.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:o,"Execution Time":y})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var v=J.name+":",w=0;e=!1,clearTimeout(q.performance.timer),c.each(p,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",D&&(v+=" '"+D+"'"),m.length>1&&(v+=" ("+m.length+")"),(void 0!==console.group||void 0!==console.table)&&p.length>0&&(console.groupCollapsed(v),console.table?console.table(p):c.each(p,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(y,L,x){var w,C,A,v=z;return L=L||n,x=o||x,"string"==typeof y&&void 0!==v&&(y=y.split(/[\. ]/),w=y.length-1,c.each(y,function(N,t){var M=N!=w?t+y[N+1].charAt(0).toUpperCase()+y[N+1].slice(1):y;if(c.isPlainObject(v[M])&&N!=w){v=v[M]}else{if(void 0!==v[M]){return C=v[M],!1}if(!c.isPlainObject(v[t])||N==w){return void 0!==v[t]&&(C=v[t],!1)}v=v[t]}})),c.isFunction(C)?A=C.apply(x,L):void 0!==C&&(A=C),c.isArray(f)?f.push(A):void 0!==f?f=[f,A]:void 0!==A&&(f=A),C}},k?(void 0===z&&q.initialize(),q.invoke(g)):(void 0!==z&&z.invoke("destroy"),q.initialize())}),void 0!==f?f:this},c.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.sidebar=function(q){var j,z=c(this),e=c(b),C=c(d),n=c("html"),y=c("head"),B=z.selector||"",x=(new Date).getTime(),w=[],k=arguments[0],t="string"==typeof k,A=[].slice.call(arguments,1),h=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return z.each(function(){var V,Q,U,p,s,J,u=c.isPlainObject(q)?c.extend(!0,{},c.fn.sidebar.settings,q):c.extend({},c.fn.sidebar.settings),M=u.selector,g=u.className,f=u.namespace,L=u.regExp,i=u.error,l="."+f,G="module-"+f,v=c(this),m=c(u.context),H=v.children(M.sidebar),K=m.children(M.fixed),N=m.children(M.pusher),o=this,r=v.data(G);J={initialize:function(){J.debug("Initializing sidebar",q),J.create.id(),s=J.get.transitionEvent(),u.delaySetup?h(J.setup.layout):J.setup.layout(),h(function(){J.setup.cache()}),J.instantiate()},instantiate:function(){J.verbose("Storing instance of module",J),r=J,v.data(G,J)},create:{id:function(){U=(Math.random().toString(16)+"000000000").substr(2,8),Q="."+U,J.verbose("Creating unique id for element",U)}},destroy:function(){J.verbose("Destroying previous module for",v),v.off(l).removeData(G),J.is.ios()&&J.remove.ios(),m.off(Q),e.off(Q),C.off(Q)},event:{clickaway:function(E){var D=N.find(E.target).length>0||N.is(E.target),F=m.is(E.target);D&&(J.verbose("User clicked on dimmed page"),J.hide()),F&&(J.verbose("User clicked on dimmable context (scaled out page)"),J.hide())},touch:function(D){},containScroll:function(D){o.scrollTop<=0&&(o.scrollTop=1),o.scrollTop+o.offsetHeight>=o.scrollHeight&&(o.scrollTop=o.scrollHeight-o.offsetHeight-1)},scroll:function(D){0===c(D.target).closest(M.sidebar).length&&D.preventDefault()}},bind:{clickaway:function(){J.verbose("Adding clickaway events to context",m),u.closable&&m.on("click"+Q,J.event.clickaway).on("touchend"+Q,J.event.clickaway)},scrollLock:function(){u.scrollLock&&(J.debug("Disabling page scroll"),e.on("DOMMouseScroll"+Q,J.event.scroll)),J.verbose("Adding events to contain sidebar scroll"),C.on("touchmove"+Q,J.event.touch),v.on("scroll"+l,J.event.containScroll)}},unbind:{clickaway:function(){J.verbose("Removing clickaway events from context",m),m.off(Q)},scrollLock:function(){J.verbose("Removing scroll lock from page"),C.off(Q),e.off(Q),v.off("scroll"+l)}},add:{inlineCSS:function(){var E,P=J.cache.width||v.outerWidth(),D=J.cache.height||v.outerHeight(),O=J.is.rtl(),I=J.get.direction(),F={left:P,right:-P,top:D,bottom:-D};O&&(J.verbose("RTL detected, flipping widths"),F.left=-P,F.right=P),E="<style>","left"===I||"right"===I?(J.debug("Adding CSS rules for animation distance",P),E+=" .ui.visible."+I+".sidebar ~ .fixed, .ui.visible."+I+".sidebar ~ .pusher {   -webkit-transform: translate3d("+F[I]+"px, 0, 0);           transform: translate3d("+F[I]+"px, 0, 0); }"):"top"!==I&&"bottom"!=I||(E+=" .ui.visible."+I+".sidebar ~ .fixed, .ui.visible."+I+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+F[I]+"px, 0);           transform: translate3d(0, "+F[I]+"px, 0); }"),J.is.ie()&&("left"===I||"right"===I?(J.debug("Adding CSS rules for animation distance",P),E+=" body.pushable > .ui.visible."+I+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+F[I]+"px, 0, 0);           transform: translate3d("+F[I]+"px, 0, 0); }"):"top"!==I&&"bottom"!=I||(E+=" body.pushable > .ui.visible."+I+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+F[I]+"px, 0);           transform: translate3d(0, "+F[I]+"px, 0); }"),E+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),E+="</style>",V=c(E).appendTo(y),J.debug("Adding sizing css to head",V)}},refresh:function(){J.verbose("Refreshing selector cache"),m=c(u.context),H=m.children(M.sidebar),N=m.children(M.pusher),K=m.children(M.fixed),J.clear.cache()},refreshSidebars:function(){J.verbose("Refreshing other sidebars"),H=m.children(M.sidebar)},repaint:function(){J.verbose("Forcing repaint event"),o.style.display="none";o.offsetHeight;o.scrollTop=o.scrollTop,o.style.display=""},setup:{cache:function(){J.cache={width:v.outerWidth(),height:v.outerHeight(),rtl:"rtl"==v.css("direction")}},layout:function(){0===m.children(M.pusher).length&&(J.debug("Adding wrapper element for sidebar"),J.error(i.pusher),N=c('<div class="pusher" />'),m.children().not(M.omitted).not(H).wrapAll(N),J.refresh()),0!==v.nextAll(M.pusher).length&&v.nextAll(M.pusher)[0]===N[0]||(J.debug("Moved sidebar to correct parent element"),J.error(i.movedSidebar,o),v.detach().prependTo(m),J.refresh()),J.clear.cache(),J.set.pushable(),J.set.direction()}},attachEvents:function(E,F){var D=c(E);F=c.isFunction(J[F])?J[F]:J.toggle,D.length>0?(J.debug("Attaching sidebar events to element",E,F),D.on("click"+l,F)):J.error(i.notFound,E)},show:function(D){if(D=c.isFunction(D)?D:function(){},J.is.hidden()){if(J.refreshSidebars(),u.overlay&&(J.error(i.overlay),u.transition="overlay"),J.refresh(),J.othersActive()){if(J.debug("Other sidebars currently visible"),u.exclusive){if("overlay"!=u.transition){return void J.hideOthers(J.show)}J.hideOthers()}else{u.transition="overlay"}}J.pushPage(function(){D.call(o),u.onShow.call(o)}),u.onChange.call(o),u.onVisible.call(o)}else{J.debug("Sidebar is already visible")}},hide:function(D){D=c.isFunction(D)?D:function(){},(J.is.visible()||J.is.animating())&&(J.debug("Hiding sidebar",D),J.refreshSidebars(),J.pullPage(function(){D.call(o),u.onHidden.call(o)}),u.onChange.call(o),u.onHide.call(o))},othersAnimating:function(){return H.not(v).filter("."+g.animating).length>0},othersVisible:function(){return H.not(v).filter("."+g.visible).length>0},othersActive:function(){return J.othersVisible()||J.othersAnimating()},hideOthers:function(F){var E=H.not(v).filter("."+g.visible),I=E.length,D=0;F=F||function(){},E.sidebar("hide",function(){++D==I&&F()})},toggle:function(){J.verbose("Determining toggled direction"),J.is.hidden()?J.show():J.hide()},pushPage:function(F){var P,E,O,D=J.get.transition(),I="overlay"===D||J.othersActive()?v:N;F=c.isFunction(F)?F:function(){},"scale down"==u.transition&&J.scrollToTop(),J.set.transition(D),J.repaint(),P=function(){J.bind.clickaway(),J.add.inlineCSS(),J.set.animating(),J.set.visible()},E=function(){J.set.dimmed()},O=function(R){R.target==I[0]&&(I.off(s+Q,O),J.remove.animating(),J.bind.scrollLock(),F.call(o))},I.off(s+Q),I.on(s+Q,O),h(P),u.dimPage&&!J.othersVisible()&&h(E)},pullPage:function(F){var O,E,I=J.get.transition(),D="overlay"==I||J.othersActive()?v:N;F=c.isFunction(F)?F:function(){},J.verbose("Removing context push state",J.get.direction()),J.unbind.clickaway(),J.unbind.scrollLock(),O=function(){J.set.transition(I),J.set.animating(),J.remove.visible(),u.dimPage&&!J.othersVisible()&&N.removeClass(g.dimmed)},E=function(P){P.target==D[0]&&(D.off(s+Q,E),J.remove.animating(),J.remove.transition(),J.remove.inlineCSS(),("scale down"==I||u.returnScroll&&J.is.mobile())&&J.scrollBack(),F.call(o))},D.off(s+Q),D.on(s+Q,E),h(O)},scrollToTop:function(){J.verbose("Scrolling to top of page to avoid animation issues"),p=c(b).scrollTop(),v.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){J.verbose("Scrolling back to original page position"),b.scrollTo(0,p)},clear:{cache:function(){J.verbose("Clearing cached dimensions"),J.cache={}}},set:{ios:function(){n.addClass(g.ios)},pushed:function(){m.addClass(g.pushed)},pushable:function(){m.addClass(g.pushable)},dimmed:function(){N.addClass(g.dimmed)},active:function(){v.addClass(g.active)},animating:function(){v.addClass(g.animating)},transition:function(D){D=D||J.get.transition(),v.addClass(D)},direction:function(D){D=D||J.get.direction(),v.addClass(g[D])},visible:function(){v.addClass(g.visible)},overlay:function(){v.addClass(g.overlay)}},remove:{inlineCSS:function(){J.debug("Removing inline css styles",V),V&&V.length>0&&V.remove()},ios:function(){n.removeClass(g.ios)},pushed:function(){m.removeClass(g.pushed)},pushable:function(){m.removeClass(g.pushable)},active:function(){v.removeClass(g.active)},animating:function(){v.removeClass(g.animating)},transition:function(D){D=D||J.get.transition(),v.removeClass(D)},direction:function(D){D=D||J.get.direction(),v.removeClass(g[D])},visible:function(){v.removeClass(g.visible)},overlay:function(){v.removeClass(g.overlay)}},get:{direction:function(){return v.hasClass(g.top)?g.top:v.hasClass(g.right)?g.right:v.hasClass(g.bottom)?g.bottom:g.left},transition:function(){var E,D=J.get.direction();return E=J.is.mobile()?"auto"==u.mobileTransition?u.defaultTransition.mobile[D]:u.mobileTransition:"auto"==u.transition?u.defaultTransition.computer[D]:u.transition,J.verbose("Determined transition",E),E},transitionEvent:function(){var F,E=d.createElement("element"),D={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(F in D){if(void 0!==E.style[F]){return D[F]}}}},is:{ie:function(){var D=!b.ActiveXObject&&"ActiveXObject" in b,E="ActiveXObject" in b;return D||E},ios:function(){var E=navigator.userAgent,D=E.match(L.ios),F=E.match(L.mobileChrome);return !(!D||F)&&(J.verbose("Browser was found to be iOS",E),!0)},mobile:function(){var D=navigator.userAgent;return D.match(L.mobile)?(J.verbose("Browser was found to be mobile",D),!0):(J.verbose("Browser is not mobile, using regular transition",D),!1)},hidden:function(){return !J.is.visible()},visible:function(){return v.hasClass(g.visible)},open:function(){return J.is.visible()},closed:function(){return J.is.hidden()},vertical:function(){return v.hasClass(g.top)},animating:function(){return m.hasClass(g.animating)},rtl:function(){return void 0===J.cache.rtl&&(J.cache.rtl="rtl"==v.css("direction")),J.cache.rtl}},setting:function(D,E){if(J.debug("Changing setting",D,E),c.isPlainObject(D)){c.extend(!0,u,D)}else{if(void 0===E){return u[D]}c.isPlainObject(u[D])?c.extend(!0,u[D],E):u[D]=E}},internal:function(D,E){if(c.isPlainObject(D)){c.extend(!0,J,D)}else{if(void 0===E){return J[D]}J[D]=E}},debug:function(){!u.silent&&u.debug&&(u.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,u.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),J.verbose.apply(console,arguments)))},error:function(){u.silent||(J.error=Function.prototype.bind.call(console.error,console,u.name+":"),J.error.apply(console,arguments))},performance:{log:function(F){var E,I,D;u.performance&&(E=(new Date).getTime(),D=x||E,I=E-D,x=E,w.push({Name:F[0],Arguments:[].slice.call(F,1)||"",Element:o,"Execution Time":I})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,500)},display:function(){var D=u.name+":",E=0;x=!1,clearTimeout(J.performance.timer),c.each(w,function(I,F){E+=F["Execution Time"]}),D+=" "+E+"ms",B&&(D+=" '"+B+"'"),(void 0!==console.group||void 0!==console.table)&&w.length>0&&(console.groupCollapsed(D),console.table?console.table(w):c.each(w,function(I,F){console.log(F.Name+": "+F["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(I,R,F){var E,P,O,D=r;return R=R||A,F=o||F,"string"==typeof I&&void 0!==D&&(I=I.split(/[\. ]/),E=I.length-1,c.each(I,function(W,S){var T=W!=E?S+I[W+1].charAt(0).toUpperCase()+I[W+1].slice(1):I;if(c.isPlainObject(D[T])&&W!=E){D=D[T]}else{if(void 0!==D[T]){return P=D[T],!1}if(!c.isPlainObject(D[S])||W==E){return void 0!==D[S]?(P=D[S],!1):(J.error(i.method,I),!1)}D=D[S]}})),c.isFunction(P)?O=P.apply(F,R):void 0!==P&&(O=P),c.isArray(j)?j.push(O):void 0!==j?j=[j,O]:void 0!==O&&(j=O),P}},t?(void 0===r&&J.initialize(),J.invoke(k)):(void 0!==r&&J.invoke("destroy"),J.initialize())}),void 0!==j?j:this},c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.sticky=function(h){var f,m=c(this),e=m.selector||"",p=(new Date).getTime(),g=[],k=arguments[0],n="string"==typeof k,j=[].slice.call(arguments,1);return m.each(function(){var H,D,q,B,J,l=c.isPlainObject(h)?c.extend(!0,{},c.fn.sticky.settings,h):c.extend({},c.fn.sticky.settings),z=l.className,F=l.namespace,E=l.error,G="."+F,i="module-"+F,I=c(this),s=c(b),t=c(l.scrollContext),r=(I.selector,I.data(i)),o=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(v){setTimeout(v,0)},u=this;J={initialize:function(){J.determineContainer(),J.determineContext(),J.verbose("Initializing sticky",l,H),J.save.positions(),J.checkErrors(),J.bind.events(),l.observeChanges&&J.observeChanges(),J.instantiate()},instantiate:function(){J.verbose("Storing instance of module",J),r=J,I.data(i,J)},destroy:function(){J.verbose("Destroying previous instance"),J.reset(),q&&q.disconnect(),B&&B.disconnect(),s.off("load"+G,J.event.load).off("resize"+G,J.event.resize),t.off("scrollchange"+G,J.event.scrollchange),I.removeData(i)},observeChanges:function(){"MutationObserver" in b&&(q=new MutationObserver(J.event.documentChanged),B=new MutationObserver(J.event.changed),q.observe(d,{childList:!0,subtree:!0}),B.observe(u,{childList:!0,subtree:!0}),B.observe(D[0],{childList:!0,subtree:!0}),J.debug("Setting up mutation observer",B))},determineContainer:function(){H=l.container?c(l.container):I.offsetParent()},determineContext:function(){if(D=l.context?c(l.context):H,0===D.length){return void J.error(E.invalidContext,l.context,I)}},checkErrors:function(){if(J.is.hidden()&&J.error(E.visible,I),J.cache.element.height>J.cache.context.height){return J.reset(),void J.error(E.elementSize,I)}},bind:{events:function(){s.on("load"+G,J.event.load).on("resize"+G,J.event.resize),t.off("scroll"+G).on("scroll"+G,J.event.scroll).on("scrollchange"+G,J.event.scrollchange)}},event:{changed:function(v){clearTimeout(J.timer),J.timer=setTimeout(function(){J.verbose("DOM tree modified, updating sticky menu",v),J.refresh()},100)},documentChanged:function(v){[].forEach.call(v,function(w){w.removedNodes&&[].forEach.call(w.removedNodes,function(x){(x==u||c(x).find(u).length>0)&&(J.debug("Element removed from DOM, tearing down events"),J.destroy())})})},load:function(){J.verbose("Page contents finished loading"),o(J.refresh)},resize:function(){J.verbose("Window resized"),o(J.refresh)},scroll:function(){o(function(){t.triggerHandler("scrollchange"+G,t.scrollTop())})},scrollchange:function(w,v){J.stick(v),l.onScroll.call(u)}},refresh:function(v){J.reset(),l.context||J.determineContext(),v&&J.determineContainer(),J.save.positions(),J.stick(),l.onReposition.call(u)},supports:{sticky:function(){var v=c("<div/>");v[0];return v.addClass(z.supported),v.css("position").match("sticky")}},save:{lastScroll:function(v){J.lastScroll=v},elementScroll:function(v){J.elementScroll=v},positions:function(){var w={height:t.height()},v={margin:{top:parseInt(I.css("margin-top"),10),bottom:parseInt(I.css("margin-bottom"),10)},offset:I.offset(),width:I.outerWidth(),height:I.outerHeight()},x={offset:D.offset(),height:D.outerHeight()};H.outerHeight();J.is.standardScroll()||(J.debug("Non-standard scroll. Removing scroll offset from element offset"),w.top=t.scrollTop(),w.left=t.scrollLeft(),v.offset.top+=w.top,x.offset.top+=w.top,v.offset.left+=w.left,x.offset.left+=w.left),J.cache={fits:v.height+l.offset<=w.height,sameHeight:v.height==x.height,scrollContext:{height:w.height},element:{margin:v.margin,top:v.offset.top-v.margin.top,left:v.offset.left,width:v.width,height:v.height,bottom:v.offset.top+v.height},context:{top:x.offset.top,height:x.height,bottom:x.offset.top+x.height}},J.set.containerSize(),J.stick(),J.debug("Caching element positions",J.cache)}},get:{direction:function(w){var v="down";return w=w||t.scrollTop(),void 0!==J.lastScroll&&(J.lastScroll<w?v="down":J.lastScroll>w&&(v="up")),v},scrollChange:function(v){return v=v||t.scrollTop(),J.lastScroll?v-J.lastScroll:0},currentElementScroll:function(){return J.elementScroll?J.elementScroll:J.is.top()?Math.abs(parseInt(I.css("top"),10))||0:Math.abs(parseInt(I.css("bottom"),10))||0},elementScroll:function(A){A=A||t.scrollTop();var x=J.cache.element,K=J.cache.scrollContext,w=J.get.scrollChange(A),C=x.height-K.height+l.offset,v=J.get.currentElementScroll(),y=v+w;return v=J.cache.fits||y<0?0:y>C?C:y}},remove:{lastScroll:function(){delete J.lastScroll},elementScroll:function(v){delete J.elementScroll},minimumSize:function(){H.css("min-height","")},offset:function(){I.css("margin-top","")}},set:{offset:function(){J.verbose("Setting offset on element",l.offset),I.css("margin-top",l.offset)},containerSize:function(){var v=H.get(0).tagName;"HTML"===v||"body"==v?J.determineContainer():Math.abs(H.outerHeight()-J.cache.context.height)>l.jitter&&(J.debug("Context has padding, specifying exact height for container",J.cache.context.height),H.css({height:J.cache.context.height}))},minimumSize:function(){var v=J.cache.element;H.css("min-height",v.height)},scroll:function(v){J.debug("Setting scroll on element",v),J.elementScroll!=v&&(J.is.top()&&I.css("bottom","").css("top",-v),J.is.bottom()&&I.css("top","").css("bottom",v))},size:function(){0!==J.cache.element.height&&0!==J.cache.element.width&&(u.style.setProperty("width",J.cache.element.width+"px","important"),u.style.setProperty("height",J.cache.element.height+"px","important"))}},is:{standardScroll:function(){return t[0]==b},top:function(){return I.hasClass(z.top)},bottom:function(){return I.hasClass(z.bottom)},initialPosition:function(){return !J.is.fixed()&&!J.is.bound()},hidden:function(){return !I.is(":visible")},bound:function(){return I.hasClass(z.bound)},fixed:function(){return I.hasClass(z.fixed)}},stick:function(C){var N=C||t.scrollTop(),x=J.cache,A=x.fits,w=x.sameHeight,L=x.element,v=x.scrollContext,O=x.context,y=J.is.bottom()&&l.pushing?l.bottomOffset:l.offset,C={top:N+y,bottom:N+y+v.height},K=(J.get.direction(C.top),A?0:J.get.elementScroll(C.top)),M=!A;0!==L.height&&!w&&(J.is.initialPosition()?C.top>=O.bottom?(J.debug("Initial element position is bottom of container"),J.bindBottom()):C.top>L.top&&(L.height+C.top-K>=O.bottom?(J.debug("Initial element position is bottom of container"),J.bindBottom()):(J.debug("Initial element position is fixed"),J.fixTop())):J.is.fixed()?J.is.top()?C.top<=L.top?(J.debug("Fixed element reached top of container"),J.setInitialPosition()):L.height+C.top-K>=O.bottom?(J.debug("Fixed element reached bottom of container"),J.bindBottom()):M&&(J.set.scroll(K),J.save.lastScroll(C.top),J.save.elementScroll(K)):J.is.bottom()&&(C.bottom-L.height<=L.top?(J.debug("Bottom fixed rail has reached top of container"),J.setInitialPosition()):C.bottom>=O.bottom?(J.debug("Bottom fixed rail has reached bottom of container"),J.bindBottom()):M&&(J.set.scroll(K),J.save.lastScroll(C.top),J.save.elementScroll(K))):J.is.bottom()&&(C.top<=L.top?(J.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),J.setInitialPosition()):l.pushing?J.is.bound()&&C.bottom<=O.bottom&&(J.debug("Fixing bottom attached element to bottom of browser."),J.fixBottom()):J.is.bound()&&C.top<=O.bottom-L.height&&(J.debug("Fixing bottom attached element to top of browser."),J.fixTop())))},bindTop:function(){J.debug("Binding element to top of parent container"),J.remove.offset(),I.css({left:"",top:"",marginBottom:""}).removeClass(z.fixed).removeClass(z.bottom).addClass(z.bound).addClass(z.top),l.onTop.call(u),l.onUnstick.call(u)},bindBottom:function(){J.debug("Binding element to bottom of parent container"),J.remove.offset(),I.css({left:"",top:""}).removeClass(z.fixed).removeClass(z.top).addClass(z.bound).addClass(z.bottom),l.onBottom.call(u),l.onUnstick.call(u)},setInitialPosition:function(){J.debug("Returning to initial position"),J.unfix(),J.unbind()},fixTop:function(){J.debug("Fixing element to top of page"),l.setSize&&J.set.size(),J.set.minimumSize(),J.set.offset(),I.css({left:J.cache.element.left,bottom:"",marginBottom:""}).removeClass(z.bound).removeClass(z.bottom).addClass(z.fixed).addClass(z.top),l.onStick.call(u)},fixBottom:function(){J.debug("Sticking element to bottom of page"),l.setSize&&J.set.size(),J.set.minimumSize(),J.set.offset(),I.css({left:J.cache.element.left,bottom:"",marginBottom:""}).removeClass(z.bound).removeClass(z.top).addClass(z.fixed).addClass(z.bottom),l.onStick.call(u)},unbind:function(){J.is.bound()&&(J.debug("Removing container bound position on element"),J.remove.offset(),I.removeClass(z.bound).removeClass(z.top).removeClass(z.bottom))},unfix:function(){J.is.fixed()&&(J.debug("Removing fixed position on element"),J.remove.minimumSize(),J.remove.offset(),I.removeClass(z.fixed).removeClass(z.top).removeClass(z.bottom),l.onUnstick.call(u))},reset:function(){J.debug("Resetting elements position"),J.unbind(),J.unfix(),J.resetCSS(),J.remove.offset(),J.remove.lastScroll()},resetCSS:function(){I.css({width:"",height:""}),H.css({height:""})},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,l,v)}else{if(void 0===w){return l[v]}l[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,J,v)}else{if(void 0===w){return J[v]}J[v]=w}},debug:function(){!l.silent&&l.debug&&(l.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,l.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!l.silent&&l.verbose&&l.debug&&(l.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),J.verbose.apply(console,arguments)))},error:function(){l.silent||(J.error=Function.prototype.bind.call(console.error,console,l.name+":"),J.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;l.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,g.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:u,"Execution Time":y})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,0)},display:function(){var v=l.name+":",w=0;p=!1,clearTimeout(J.performance.timer),c.each(g,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(v),console.table?console.table(g):c.each(g,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(y,K,x){var w,C,A,v=r;return K=K||j,x=u||x,"string"==typeof y&&void 0!==v&&(y=y.split(/[\. ]/),w=y.length-1,c.each(y,function(N,L){var M=N!=w?L+y[N+1].charAt(0).toUpperCase()+y[N+1].slice(1):y;if(c.isPlainObject(v[M])&&N!=w){v=v[M]}else{if(void 0!==v[M]){return C=v[M],!1}if(!c.isPlainObject(v[L])||N==w){return void 0!==v[L]&&(C=v[L],!1)}v=v[L]}})),c.isFunction(C)?A=C.apply(x,K):void 0!==C&&(A=C),c.isArray(f)?f.push(A):void 0!==f?f=[f,A]:void 0!==A&&(f=A),C}},n?(void 0===r&&J.initialize(),J.invoke(k)):(void 0!==r&&r.invoke("destroy"),J.initialize())}),void 0!==f?f:this},c.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:b,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.tab=function(j){var g,p=c(c.isFunction(this)?b:this),e=p.selector||"",t=(new Date).getTime(),h=[],n=arguments[0],q="string"==typeof n,m=[].slice.call(arguments,1),k=!1;return p.each(function(){var K,N,B,J,M,Q,s=c.isPlainObject(j)?c.extend(!0,{},c.fn.tab.settings,j):c.extend({},c.fn.tab.settings),u=s.className,H=s.metadata,z=s.selector,L=s.error,i="."+s.namespace,f="module-"+s.namespace,I=c(this),l={},o=!0,G=0,D=this,r=I.data(f);M={initialize:function(){M.debug("Initializing tab menu item",I),M.fix.callbacks(),M.determineTabs(),M.debug("Determining tabs",s.context,N),s.auto&&M.set.auto(),M.bind.events(),s.history&&!k&&(M.initializeHistory(),k=!0),M.instantiate()},instantiate:function(){M.verbose("Storing instance of module",M),r=M,I.data(f,M)},destroy:function(){M.debug("Destroying tabs",I),I.removeData(f).off(i)},bind:{events:function(){c.isWindow(D)||(M.debug("Attaching tab activation events to element",I),I.on("click"+i,M.event.click))}},determineTabs:function(){var v;"parent"===s.context?(I.closest(z.ui).length>0?(v=I.closest(z.ui),M.verbose("Using closest UI element as parent",v)):v=I,K=v.parent(),M.verbose("Determined parent element for creating context",K)):s.context?(K=c(s.context),M.verbose("Using selector for tab context",s.context,K)):K=c("body"),s.childrenOnly?(N=K.children(z.tabs),M.debug("Searching tab context children for tabs",K,N)):(N=K.find(z.tabs),M.debug("Searching tab context for tabs",K,N))},fix:{callbacks:function(){c.isPlainObject(j)&&(j.onTabLoad||j.onTabInit)&&(j.onTabLoad&&(j.onLoad=j.onTabLoad,delete j.onTabLoad,M.error(L.legacyLoad,j.onLoad)),j.onTabInit&&(j.onFirstLoad=j.onTabInit,delete j.onTabInit,M.error(L.legacyInit,j.onFirstLoad)),s=c.extend(!0,{},c.fn.tab.settings,j))}},initializeHistory:function(){if(M.debug("Initializing page state"),void 0===c.address){return M.error(L.state),!1}if("state"==s.historyType){if(M.debug("Using HTML5 to manage state"),!1===s.path){return M.error(L.path),!1}c.address.history(!0).state(s.path)}c.address.bind("change",M.event.history.change)},event:{click:function(v){var w=c(this).data(H.tab);void 0!==w?(s.history?(M.verbose("Updating page state",v),c.address.value(w)):(M.verbose("Changing tab",v),M.changeTab(w)),v.preventDefault()):M.debug("No tab specified")},history:{change:function(w){var x=w.pathNames.join("/")||M.get.initialPath(),v=s.templates.determineTitle(x)||!1;M.performance.display(),M.debug("History change event",x,w),Q=w,void 0!==x&&M.changeTab(x),v&&c.address.title(v)}}},refresh:function(){B&&(M.debug("Refreshing tab",B),M.changeTab(B))},cache:{read:function(v){return void 0!==v&&l[v]},add:function(w,v){w=w||B,M.debug("Adding cached content for",w),l[w]=v},remove:function(v){v=v||B,M.debug("Removing cached content for",v),delete l[v]}},set:{auto:function(){var v="string"==typeof s.path?s.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";M.verbose("Setting up automatic tab retrieval from server",v),c.isPlainObject(s.apiSettings)?s.apiSettings.url=v:s.apiSettings={url:v}},loading:function(w){var v=M.get.tabElement(w);v.hasClass(u.loading)||(M.verbose("Setting loading state for",v),v.addClass(u.loading).siblings(N).removeClass(u.active+" "+u.loading),v.length>0&&s.onRequest.call(v[0],w))},state:function(v){c.address.value(v)}},changeTab:function(A){var w=b.history&&b.history.pushState,y=w&&s.ignoreFirstLoad&&o,v=s.auto||c.isPlainObject(s.apiSettings),x=v&&!y?M.utilities.pathToArray(A):M.get.defaultPathArray(A);A=M.utilities.arrayToPath(x),c.each(x,function(W,F){var X,C,T,V,R=x.slice(0,W+1),P=M.utilities.arrayToPath(R),O=M.is.tab(P),U=W+1==x.length,E=M.get.tabElement(P);if(M.verbose("Looking for tab",F),O){if(M.verbose("Tab was found",F),B=P,J=M.utilities.filterArray(x,R),U?V=!0:(C=x.slice(0,W+2),T=M.utilities.arrayToPath(C),(V=!M.is.tab(T))&&M.verbose("Tab parameters found",C)),V&&v){return y?(M.debug("Ignoring remote content on first tab load",P),o=!1,M.cache.add(A,E.html()),M.activate.all(P),s.onFirstLoad.call(E[0],P,J,Q),s.onLoad.call(E[0],P,J,Q)):(M.activate.navigation(P),M.fetch.content(P,A)),!1}M.debug("Opened local tab",P),M.activate.all(P),M.cache.read(P)||(M.cache.add(P,!0),M.debug("First time tab loaded calling tab init"),s.onFirstLoad.call(E[0],P,J,Q)),s.onLoad.call(E[0],P,J,Q)}else{if(-1!=A.search("/")||""===A){return M.error(L.missingTab,I,K,P),!1}if(X=c("#"+A+', a[name="'+A+'"]'),P=X.closest("[data-tab]").data(H.tab),E=M.get.tabElement(P),X&&X.length>0&&P){return M.debug("Anchor link used, opening parent tab",E,X),E.hasClass(u.active)||setTimeout(function(){M.scrollTo(X)},0),M.activate.all(P),M.cache.read(P)||(M.cache.add(P,!0),M.debug("First time tab loaded calling tab init"),s.onFirstLoad.call(E[0],P,J,Q)),s.onLoad.call(E[0],P,J,Q),!1}}})},scrollTo:function(w){var v=!!(w&&w.length>0)&&w.offset().top;!1!==v&&(M.debug("Forcing scroll to an in-page link in a hidden tab",v,w),c(d).scrollTop(v))},update:{content:function(x,A,w){var y=M.get.tabElement(x),v=y[0];w=void 0!==w?w:s.evaluateScripts,"string"==typeof s.cacheType&&"dom"==s.cacheType.toLowerCase()&&"string"!=typeof A?y.empty().append(c(A).clone(!0)):w?(M.debug("Updating HTML and evaluating inline scripts",x,A),y.html(A)):(M.debug("Updating HTML",x,A),v.innerHTML=A)}},fetch:{content:function(y,F){var x,E,w=M.get.tabElement(y),C={dataType:"html",encodeParameters:!1,on:"now",cache:s.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(O){"response"==s.cacheType&&M.cache.add(F,O),M.update.content(y,O),y==B?(M.debug("Content loaded",y),M.activate.tab(y)):M.debug("Content loaded in background",y),s.onFirstLoad.call(w[0],y,J,Q),s.onLoad.call(w[0],y,J,Q),s.loadOnce?M.cache.add(F,!0):"string"==typeof s.cacheType&&"dom"==s.cacheType.toLowerCase()&&w.children().length>0?setTimeout(function(){var P=w.children().clone(!0);P=P.not("script"),M.cache.add(F,P)},0):M.cache.add(F,w.html())},urlData:{tab:F}},A=w.api("get request")||!1,v=A&&"pending"===A.state();F=F||y,E=M.cache.read(F),s.cache&&E?(M.activate.tab(y),M.debug("Adding cached content",F),s.loadOnce||("once"==s.evaluateScripts?M.update.content(y,E,!1):M.update.content(y,E)),s.onLoad.call(w[0],y,J,Q)):v?(M.set.loading(y),M.debug("Content is already loading",F)):void 0!==c.api?(x=c.extend(!0,{},s.apiSettings,C),M.debug("Retrieving remote content",F,x),M.set.loading(y),w.api(x)):M.error(L.api)}},activate:{all:function(v){M.activate.tab(v),M.activate.navigation(v)},tab:function(x){var w=M.get.tabElement(x),y="siblings"==s.deactivate?w.siblings(N):N.not(w),v=w.hasClass(u.active);M.verbose("Showing tab content for",w),v||(w.addClass(u.active),y.removeClass(u.active+" "+u.loading),w.length>0&&s.onVisible.call(w[0],x))},navigation:function(x){var w=M.get.navElement(x),y="siblings"==s.deactivate?w.siblings(p):p.not(w),v=w.hasClass(u.active);M.verbose("Activating tab navigation for",w,x),v||(w.addClass(u.active),y.removeClass(u.active+" "+u.loading))}},deactivate:{all:function(){M.deactivate.navigation(),M.deactivate.tabs()},navigation:function(){p.removeClass(u.active)},tabs:function(){N.removeClass(u.active+" "+u.loading)}},is:{tab:function(v){return void 0!==v&&M.get.tabElement(v).length>0}},get:{initialPath:function(){return p.eq(0).data(H.tab)||N.eq(0).data(H.tab)},path:function(){return c.address.value()},defaultPathArray:function(v){return M.utilities.pathToArray(M.get.defaultPath(v))},defaultPath:function(w){var v=p.filter("[data-"+H.tab+'^="'+w+'/"]').eq(0),x=v.data(H.tab)||!1;if(x){if(M.debug("Found default tab",x),G<s.maxDepth){return G++,M.get.defaultPath(x)}M.error(L.recursion)}else{M.debug("No default tabs found for",w,N)}return G=0,w},navElement:function(v){return v=v||B,p.filter("[data-"+H.tab+'="'+v+'"]')},tabElement:function(x){var w,A,v,y;return x=x||B,v=M.utilities.pathToArray(x),y=M.utilities.last(v),w=N.filter("[data-"+H.tab+'="'+x+'"]'),A=N.filter("[data-"+H.tab+'="'+y+'"]'),w.length>0?w:A},tab:function(){return B}},utilities:{filterArray:function(v,w){return c.grep(v,function(x){return -1==c.inArray(x,w)})},last:function(v){return !!c.isArray(v)&&v[v.length-1]},pathToArray:function(v){return void 0===v&&(v=B),"string"==typeof v?v.split("/"):[v]},arrayToPath:function(v){return !!c.isArray(v)&&v.join("/")}},setting:function(v,w){if(M.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,s,v)}else{if(void 0===w){return s[v]}c.isPlainObject(s[v])?c.extend(!0,s[v],w):s[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,M,v)}else{if(void 0===w){return M[v]}M[v]=w}},debug:function(){!s.silent&&s.debug&&(s.performance?M.performance.log(arguments):(M.debug=Function.prototype.bind.call(console.info,console,s.name+":"),M.debug.apply(console,arguments)))},verbose:function(){!s.silent&&s.verbose&&s.debug&&(s.performance?M.performance.log(arguments):(M.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),M.verbose.apply(console,arguments)))},error:function(){s.silent||(M.error=Function.prototype.bind.call(console.error,console,s.name+":"),M.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;s.performance&&(w=(new Date).getTime(),v=t||w,y=w-v,t=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:D,"Execution Time":y})),clearTimeout(M.performance.timer),M.performance.timer=setTimeout(M.performance.display,500)},display:function(){var v=s.name+":",w=0;t=!1,clearTimeout(M.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(y,E,x){var w,C,A,v=r;return E=E||m,x=D||x,"string"==typeof y&&void 0!==v&&(y=y.split(/[\. ]/),w=y.length-1,c.each(y,function(P,F){var O=P!=w?F+y[P+1].charAt(0).toUpperCase()+y[P+1].slice(1):y;if(c.isPlainObject(v[O])&&P!=w){v=v[O]}else{if(void 0!==v[O]){return C=v[O],!1}if(!c.isPlainObject(v[F])||P==w){return void 0!==v[F]?(C=v[F],!1):(M.error(L.method,y),!1)}v=v[F]}})),c.isFunction(C)?A=C.apply(x,E):void 0!==C&&(A=C),c.isArray(g)?g.push(A):void 0!==g?g=[g,A]:void 0!==A&&(g=A),C}},q?(void 0===r&&M.initialize(),M.invoke(n)):(void 0!==r&&r.invoke("destroy"),M.initialize())}),void 0!==g?g:this},c.tab=function(){c(b).tab.apply(this,arguments)},c.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(g,f,h){},onLoad:function(g,f,h){},onVisible:function(g,f,h){},onRequest:function(g,f,h){},templates:{determineTitle:function(f){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.transition=function(){var h,f=c(this),m=f.selector||"",e=(new Date).getTime(),p=[],g=arguments,k=g[0],n=[].slice.call(arguments,1),j="string"==typeof k;b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;return f.each(function(E){var s,o,r,D,l,q,z,u,A,i=c(this),B=this;A={initialize:function(){s=A.get.settings.apply(B,g),D=s.className,r=s.error,l=s.metadata,u="."+s.namespace,z="module-"+s.namespace,o=i.data(z)||A,q=A.get.animationEndEvent(),j&&(j=A.invoke(k)),!1===j&&(A.verbose("Converted arguments into settings object",s),s.interval?A.delay(s.animate):A.animate(),A.instantiate())},instantiate:function(){A.verbose("Storing instance of module",A),o=A,i.data(z,o)},destroy:function(){A.verbose("Destroying previous module for",B),i.removeData(z)},refresh:function(){A.verbose("Refreshing display type on next animation"),delete A.displayType},forceRepaint:function(){A.verbose("Forcing element repaint");var w=i.parent(),v=i.next();0===v.length?i.detach().appendTo(w):i.detach().insertBefore(v)},repaint:function(){A.verbose("Repainting element");B.offsetWidth},delay:function(w){var x,v,t=A.get.animationDirection();t||(t=A.can.transition()?A.get.direction():"static"),w=void 0!==w?w:s.interval,x="auto"==s.reverse&&t==D.outward,v=x||1==s.reverse?(f.length-E)*s.interval:E*s.interval,A.debug("Delaying animation by",v),setTimeout(A.animate,v)},animate:function(t){if(s=t||s,!A.is.supported()){return A.error(r.support),!1}if(A.debug("Preparing animation",s.animation),A.is.animating()){if(s.queue){return !s.allowRepeats&&A.has.direction()&&A.is.occurring()&&!0!==A.queuing?A.debug("Animation is currently occurring, preventing queueing same animation",s.animation):A.queue(s.animation),!1}if(!s.allowRepeats&&A.is.occurring()){return A.debug("Animation is already occurring, will not execute repeated animation",s.animation),!1}A.debug("New animation started, completing previous early",s.animation),o.complete()}A.can.animate()?A.set.animating(s.animation):A.error(r.noAnimation,s.animation,B)},reset:function(){A.debug("Resetting animation to beginning conditions"),A.remove.animationCallbacks(),A.restore.conditions(),A.remove.animating()},queue:function(t){A.debug("Queueing animation of",t),A.queuing=!0,i.one(q+".queue"+u,function(){A.queuing=!1,A.repaint(),A.animate.apply(this,s)})},complete:function(t){A.debug("Animation complete",s.animation),A.remove.completeCallback(),A.remove.failSafe(),A.is.looping()||(A.is.outward()?(A.verbose("Animation is outward, hiding element"),A.restore.conditions(),A.hide()):A.is.inward()?(A.verbose("Animation is outward, showing element"),A.restore.conditions(),A.show()):(A.verbose("Static animation completed"),A.restore.conditions(),s.onComplete.call(B)))},force:{visible:function(){var y=i.attr("style"),x=A.get.userStyle(),F=A.get.displayType(),w=x+"display: "+F+" !important;",C=i.css("display"),v=void 0===y||""===y;C!==F?(A.verbose("Overriding default display to show element",F),i.attr("style",w)):v&&i.removeAttr("style")},hidden:function(){var w=i.attr("style"),v=i.css("display"),x=void 0===w||""===w;"none"===v||A.is.hidden()?x&&i.removeAttr("style"):(A.verbose("Overriding default display to hide element"),i.css("display","none"))}},has:{direction:function(v){var w=!1;return v=v||s.animation,"string"==typeof v&&(v=v.split(" "),c.each(v,function(y,x){x!==D.inward&&x!==D.outward||(w=!0)})),w},inlineDisplay:function(){var v=i.attr("style")||"";return c.isArray(v.match(/display.*?;/,""))}},set:{animating:function(w){var v;A.remove.completeCallback(),w=w||s.animation,v=A.get.animationClass(w),A.save.animation(v),A.force.visible(),A.remove.hidden(),A.remove.direction(),A.start.animation(v)},duration:function(w,v){v=v||s.duration,((v="number"==typeof v?v+"ms":v)||0===v)&&(A.verbose("Setting animation duration",v),i.css({"animation-duration":v}))},direction:function(t){t=t||A.get.direction(),t==D.inward?A.set.inward():A.set.outward()},looping:function(){A.debug("Transition set to loop"),i.addClass(D.looping)},hidden:function(){i.addClass(D.transition).addClass(D.hidden)},inward:function(){A.debug("Setting direction to inward"),i.removeClass(D.outward).addClass(D.inward)},outward:function(){A.debug("Setting direction to outward"),i.removeClass(D.inward).addClass(D.outward)},visible:function(){i.addClass(D.transition).addClass(D.visible)}},start:{animation:function(t){t=t||A.get.animationClass(),A.debug("Starting tween",t),i.addClass(t).one(q+".complete"+u,A.complete),s.useFailSafe&&A.add.failSafe(),A.set.duration(s.duration),s.onStart.call(B)}},save:{animation:function(t){A.cache||(A.cache={}),A.cache.animation=t},displayType:function(t){"none"!==t&&i.data(l.displayType,t)},transitionExists:function(v,w){c.fn.transition.exists[v]=w,A.verbose("Saving existence of transition",v,w)}},restore:{conditions:function(){var t=A.get.currentAnimation();t&&(i.removeClass(t),A.verbose("Removing animation class",A.cache)),A.remove.duration()}},add:{failSafe:function(){var t=A.get.duration();A.timer=setTimeout(function(){i.triggerHandler(q)},t+s.failSafeDelay),A.verbose("Adding fail safe timer",A.timer)}},remove:{animating:function(){i.removeClass(D.animating)},animationCallbacks:function(){A.remove.queueCallback(),A.remove.completeCallback()},queueCallback:function(){i.off(".queue"+u)},completeCallback:function(){i.off(".complete"+u)},display:function(){i.css("display","")},direction:function(){i.removeClass(D.inward).removeClass(D.outward)},duration:function(){i.css("animation-duration","")},failSafe:function(){A.verbose("Removing fail safe timer",A.timer),A.timer&&clearTimeout(A.timer)},hidden:function(){i.removeClass(D.hidden)},visible:function(){i.removeClass(D.visible)},looping:function(){A.debug("Transitions are no longer looping"),A.is.looping()&&(A.reset(),i.removeClass(D.looping))},transition:function(){i.removeClass(D.visible).removeClass(D.hidden)}},get:{settings:function(w,x,v){return"object"==typeof w?c.extend(!0,{},c.fn.transition.settings,w):"function"==typeof v?c.extend({},c.fn.transition.settings,{animation:w,onComplete:v,duration:x}):"string"==typeof x||"number"==typeof x?c.extend({},c.fn.transition.settings,{animation:w,duration:x}):"object"==typeof x?c.extend({},c.fn.transition.settings,x,{animation:w}):"function"==typeof x?c.extend({},c.fn.transition.settings,{animation:w,onComplete:x}):c.extend({},c.fn.transition.settings,{animation:w})},animationClass:function(w){var v=w||s.animation,x=A.can.transition()&&!A.has.direction()?A.get.direction()+" ":"";return D.animating+" "+D.transition+" "+x+v},currentAnimation:function(){return !(!A.cache||void 0===A.cache.animation)&&A.cache.animation},currentDirection:function(){return A.is.inward()?D.inward:D.outward},direction:function(){return A.is.hidden()||!A.is.visible()?D.inward:D.outward},animationDirection:function(v){var w;return v=v||s.animation,"string"==typeof v&&(v=v.split(" "),c.each(v,function(y,x){x===D.inward?w=D.inward:x===D.outward&&(w=D.outward)})),w||!1},duration:function(t){return t=t||s.duration,!1===t&&(t=i.css("animation-duration")||0),"string"==typeof t?t.indexOf("ms")>-1?parseFloat(t):1000*parseFloat(t):t},displayType:function(t){return t=void 0===t||t,s.displayType?s.displayType:(t&&void 0===i.data(l.displayType)&&A.can.transition(!0),i.data(l.displayType))},userStyle:function(t){return t=t||i.attr("style")||"",t.replace(/display.*?;/,"")},transitionExists:function(v){return c.fn.transition.exists[v]},animationStartEvent:function(){var x,w=d.createElement("div"),v={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(x in v){if(void 0!==w.style[x]){return v[x]}}return !1},animationEndEvent:function(){var x,w=d.createElement("div"),v={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(x in v){if(void 0!==w.style[x]){return v[x]}}return !1}},can:{transition:function(I){var x,C,w,G,v,J,y=s.animation,F=A.get.transitionExists(y),H=A.get.displayType(!1);if(void 0===F||I){if(A.verbose("Determining whether animation exists"),x=i.attr("class"),C=i.prop("tagName"),w=c("<"+C+" />").addClass(x).insertAfter(i),G=w.addClass(y).removeClass(D.inward).removeClass(D.outward).addClass(D.animating).addClass(D.transition).css("animationName"),v=w.addClass(D.inward).css("animationName"),H||(H=w.attr("class",x).removeAttr("style").removeClass(D.hidden).removeClass(D.visible).show().css("display"),A.verbose("Determining final display state",H),A.save.displayType(H)),w.remove(),G!=v){A.debug("Direction exists for animation",y),J=!0}else{if("none"==G||!G){return void A.debug("No animation defined in css",y)}A.debug("Static animation found",y,H),J=!1}A.save.transitionExists(y,J)}return void 0!==F?F:J},animate:function(){return void 0!==A.can.transition()}},is:{animating:function(){return i.hasClass(D.animating)},inward:function(){return i.hasClass(D.inward)},outward:function(){return i.hasClass(D.outward)},looping:function(){return i.hasClass(D.looping)},occurring:function(t){return t=t||s.animation,t="."+t.replace(" ","."),i.filter(t).length>0},visible:function(){return i.is(":visible")},hidden:function(){return"hidden"===i.css("visibility")},supported:function(){return !1!==q}},hide:function(){A.verbose("Hiding element"),A.is.animating()&&A.reset(),B.blur(),A.remove.display(),A.remove.visible(),A.set.hidden(),A.force.hidden(),s.onHide.call(B),s.onComplete.call(B)},show:function(t){A.verbose("Showing element",t),A.remove.hidden(),A.set.visible(),A.force.visible(),s.onShow.call(B),s.onComplete.call(B)},toggle:function(){A.is.visible()?A.hide():A.show()},stop:function(){A.debug("Stopping current animation"),i.triggerHandler(q)},stopAll:function(){A.debug("Stopping all animation"),A.remove.queueCallback(),i.triggerHandler(q)},clear:{queue:function(){A.debug("Clearing animation queue"),A.remove.queueCallback()}},enable:function(){A.verbose("Starting animation"),i.removeClass(D.disabled)},disable:function(){A.debug("Stopping animation"),i.addClass(D.disabled)},setting:function(v,w){if(A.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,s,v)}else{if(void 0===w){return s[v]}c.isPlainObject(s[v])?c.extend(!0,s[v],w):s[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,A,v)}else{if(void 0===w){return A[v]}A[v]=w}},debug:function(){!s.silent&&s.debug&&(s.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,s.name+":"),A.debug.apply(console,arguments)))},verbose:function(){!s.silent&&s.verbose&&s.debug&&(s.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),A.verbose.apply(console,arguments)))},error:function(){s.silent||(A.error=Function.prototype.bind.call(console.error,console,s.name+":"),A.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;s.performance&&(w=(new Date).getTime(),v=e||w,y=w-v,e=w,p.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:B,"Execution Time":y})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var v=s.name+":",w=0;e=!1,clearTimeout(A.performance.timer),c.each(p,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",m&&(v+=" '"+m+"'"),f.length>1&&(v+=" ("+f.length+")"),(void 0!==console.group||void 0!==console.table)&&p.length>0&&(console.groupCollapsed(v),console.table?console.table(p):c.each(p,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(x,G,F){var w,C,y,v=o;return G=G||n,F=B||F,"string"==typeof x&&void 0!==v&&(x=x.split(/[\. ]/),w=x.length-1,c.each(x,function(I,t){var H=I!=w?t+x[I+1].charAt(0).toUpperCase()+x[I+1].slice(1):x;if(c.isPlainObject(v[H])&&I!=w){v=v[H]}else{if(void 0!==v[H]){return C=v[H],!1}if(!c.isPlainObject(v[t])||I==w){return void 0!==v[t]&&(C=v[t],!1)}v=v[t]}})),c.isFunction(C)?y=C.apply(F,G):void 0!==C&&(y=C),c.isArray(h)?h.push(y):void 0!==h?h=[h,y]:void 0!==y&&(h=y),void 0!==C&&C}},A.initialize()}),void 0!==h?h:this},c.fn.transition.exists={},c.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(c,b,d,a){var b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();c.api=c.fn.api=function(g){var j,f=c(c.isFunction(this)?b:this),m=f.selector||"",e=(new Date).getTime(),q=[],h=arguments[0],k="string"==typeof h,p=[].slice.call(arguments,1);return f.each(function(){var F,L,K,G,J,z=c.isPlainObject(g)?c.extend(!0,{},c.fn.api.settings,g):c.extend({},c.fn.api.settings),E=z.namespace,I=z.metadata,M=z.selector,s=z.error,t=z.className,B="."+E,u="module-"+E,H=c(this),l=H.closest(M.form),i=z.stateContext?c(z.stateContext):H,D=this,n=i[0],r=H.data(u);J={initialize:function(){k||J.bind.events(),J.instantiate()},instantiate:function(){J.verbose("Storing instance of module",J),r=J,H.data(u,r)},destroy:function(){J.verbose("Destroying previous module for",D),H.removeData(u).off(B)},bind:{events:function(){var o=J.get.event();o?(J.verbose("Attaching API events to element",o),H.on(o+B,J.event.trigger)):"now"==z.on&&(J.debug("Querying API endpoint immediately"),J.query())}},decode:{json:function(o){if(void 0!==o&&"string"==typeof o){try{o=JSON.parse(o)}catch(o){}}return o}},read:{cachedResponse:function(o){var v;return void 0===b.Storage?void J.error(s.noStorage):(v=sessionStorage.getItem(o),J.debug("Using cached response",o,v),v=J.decode.json(v))}},write:{cachedResponse:function(v,o){return o&&""===o?void J.debug("Response empty, not caching",o):void 0===b.Storage?void J.error(s.noStorage):(c.isPlainObject(o)&&(o=JSON.stringify(o)),sessionStorage.setItem(v,o),void J.verbose("Storing cached response for url",v,o))}},query:function(){if(J.is.disabled()){return void J.debug("Element is disabled API request aborted")}if(J.is.loading()){if(!z.interruptRequests){return void J.debug("Cancelling request, previous request is still pending")}J.debug("Interrupting previous request"),J.abort()}if(z.defaultData&&c.extend(!0,z.urlData,J.get.defaultData()),z.serializeForm&&(z.data=J.add.formData(z.data)),!1===(L=J.get.settings())){return J.cancelled=!0,void J.error(s.beforeSend)}if(J.cancelled=!1,!(K=J.get.templatedURL())&&!J.is.mocked()){return void J.error(s.missingURL)}if((K=J.add.urlData(K))||J.is.mocked()){if(L.url=z.base+K,F=c.extend(!0,{},z,{type:z.method||z.type,data:void 0,url:z.base+K,beforeSend:z.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),J.debug("Querying URL",F.url),J.verbose("Using AJAX settings",F),"local"===z.cache&&J.read.cachedResponse(K)){return J.debug("Response returned from local cache"),J.request=J.create.request(),void J.request.resolveWith(n,[J.read.cachedResponse(K)])}z.throttle?z.throttleFirstRequest||J.timer?(J.debug("Throttling request",z.throttle),clearTimeout(J.timer),J.timer=setTimeout(function(){J.timer&&delete J.timer,J.debug("Sending throttled request",void 0,F.method),J.send.request()},z.throttle)):(J.debug("Sending request",void 0,F.method),J.send.request(),J.timer=setTimeout(function(){},z.throttle)):(J.debug("Sending request",void 0,F.method),J.send.request())}},should:{removeError:function(){return !0===z.hideError||"auto"===z.hideError&&!J.is.form()}},is:{disabled:function(){return H.filter(M.disabled).length>0},expectingJSON:function(){return"json"===z.dataType||"jsonp"===z.dataType},form:function(){return H.is("form")||i.is("form")},mocked:function(){return z.mockResponse||z.mockResponseAsync||z.response||z.responseAsync},input:function(){return H.is("input")},loading:function(){return !!J.request&&"pending"==J.request.state()},abortedRequest:function(o){return o&&void 0!==o.readyState&&0===o.readyState?(J.verbose("XHR request determined to be aborted"),!0):(J.verbose("XHR request was not aborted"),!1)},validResponse:function(o){return J.is.expectingJSON()&&c.isFunction(z.successTest)?(J.debug("Checking JSON returned success",z.successTest,o),z.successTest(o)?(J.debug("Response passed success test",o),!0):(J.debug("Response failed success test",o),!1)):(J.verbose("Response is not JSON, skipping validation",z.successTest,o),!0)}},was:{cancelled:function(){return J.cancelled||!1},succesful:function(){return J.request&&"resolved"==J.request.state()},failure:function(){return J.request&&"rejected"==J.request.state()},complete:function(){return J.request&&("resolved"==J.request.state()||"rejected"==J.request.state())}},add:{urlData:function(w,y){var v,x;return w&&(v=w.match(z.regExp.required),x=w.match(z.regExp.optional),y=y||z.urlData,v&&(J.debug("Looking for required URL variables",v),c.each(v,function(C,O){var A=-1!==O.indexOf("$")?O.substr(2,O.length-3):O.substr(1,O.length-2),N=c.isPlainObject(y)&&void 0!==y[A]?y[A]:void 0!==H.data(A)?H.data(A):void 0!==i.data(A)?i.data(A):y[A];if(void 0===N){return J.error(s.requiredParameter,A,w),w=!1,!1}J.verbose("Found required variable",A,N),N=z.encodeParameters?J.get.urlEncodedValue(N):N,w=w.replace(O,N)})),x&&(J.debug("Looking for optional URL variables",v),c.each(x,function(C,O){var A=-1!==O.indexOf("$")?O.substr(3,O.length-4):O.substr(2,O.length-3),N=c.isPlainObject(y)&&void 0!==y[A]?y[A]:void 0!==H.data(A)?H.data(A):void 0!==i.data(A)?i.data(A):y[A];void 0!==N?(J.verbose("Optional variable Found",A,N),w=w.replace(O,N)):(J.verbose("Optional variable not found",A),w=-1!==w.indexOf("/"+O)?w.replace("/"+O,""):w.replace(O,""))}))),w},formData:function(w){var y,v=void 0!==c.fn.serializeObject,x=v?l.serializeObject():l.serialize();return w=w||z.data,y=c.isPlainObject(w),y?v?(J.debug("Extending existing data with form data",w,x),w=c.extend(!0,{},w,x)):(J.error(s.missingSerialize),J.debug("Cant extend data. Replacing data with form data",w,x),w=x):(J.debug("Adding form data",x),w=x),w}},send:{request:function(){J.set.loading(),J.request=J.create.request(),J.is.mocked()?J.mockedXHR=J.create.mockedXHR():J.xhr=J.create.xhr(),z.onRequest.call(n,J.request,J.xhr)}},event:{trigger:function(o){J.query(),"submit"!=o.type&&"click"!=o.type||o.preventDefault()},xhr:{always:function(){},done:function(x,N,w){var C=this,v=(new Date).getTime()-G,A=z.loadingDuration-v,y=!!c.isFunction(z.onResponse)&&(J.is.expectingJSON()?z.onResponse.call(C,c.extend(!0,{},x)):z.onResponse.call(C,x));A=A>0?A:0,y&&(J.debug("Modified API response in onResponse callback",z.onResponse,y,x),x=y),A>0&&J.debug("Response completed early delaying state change by",A),setTimeout(function(){J.is.validResponse(x)?J.request.resolveWith(C,[x,w]):J.request.rejectWith(C,[w,"invalid"])},A)},fail:function(y,x,C){var w=this,A=(new Date).getTime()-G,v=z.loadingDuration-A;v=v>0?v:0,v>0&&J.debug("Response completed early delaying state change by",v),setTimeout(function(){J.is.abortedRequest(y)?J.request.rejectWith(w,[y,"aborted",C]):J.request.rejectWith(w,[y,"error",x,C])},v)}},request:{done:function(v,o){J.debug("Successful API Response",v),"local"===z.cache&&K&&(J.write.cachedResponse(K,v),J.debug("Saving server response locally",J.cache)),z.onSuccess.call(n,v,H,o)},complete:function(w,v){var x,o;J.was.succesful()?(o=w,x=v):(x=w,o=J.get.responseFromXHR(x)),J.remove.loading(),z.onComplete.call(n,o,H,x)},fail:function(x,w,y){var v=J.get.responseFromXHR(x),o=J.get.errorFromRequest(v,w,y);if("aborted"==w){return J.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",w,y),z.onAbort.call(n,w,H,x),!0}"invalid"==w?J.debug("JSON did not pass success test. A server-side error has most likely occurred",v):"error"==w&&void 0!==x&&(J.debug("XHR produced a server error",w,y),200!=x.status&&void 0!==y&&""!==y&&J.error(s.statusMessage+y,F.url),z.onError.call(n,o,H,x)),z.errorDuration&&"aborted"!==w&&(J.debug("Adding error state"),J.set.error(),J.should.removeError()&&setTimeout(J.remove.error,z.errorDuration)),J.debug("API Request failed",o,x),z.onFailure.call(n,v,H,x)}}},create:{request:function(){return c.Deferred().always(J.event.request.complete).done(J.event.request.done).fail(J.event.request.fail)},mockedXHR:function(){var x,A,w,y=z.mockResponse||z.response,v=z.mockResponseAsync||z.responseAsync;return w=c.Deferred().always(J.event.xhr.complete).done(J.event.xhr.done).fail(J.event.xhr.fail),y?(c.isFunction(y)?(J.debug("Using specified synchronous callback",y),A=y.call(n,L)):(J.debug("Using settings specified response",y),A=y),w.resolveWith(n,[A,!1,{responseText:A}])):c.isFunction(v)&&(x=function(o){J.debug("Async callback returned response",o),o?w.resolveWith(n,[o,!1,{responseText:o}]):w.rejectWith(n,[{responseText:o},!1,!1])},J.debug("Using specified async response callback",v),v.call(n,L,x)),w},xhr:function(){var o;return o=c.ajax(F).always(J.event.xhr.always).done(J.event.xhr.done).fail(J.event.xhr.fail),J.verbose("Created server request",o,F),o}},set:{error:function(){J.verbose("Adding error state to element",i),i.addClass(t.error)},loading:function(){J.verbose("Adding loading state to element",i),i.addClass(t.loading),G=(new Date).getTime()}},remove:{error:function(){J.verbose("Removing error state from element",i),i.removeClass(t.error)},loading:function(){J.verbose("Removing loading state from element",i),i.removeClass(t.loading)}},get:{responseFromXHR:function(o){return !!c.isPlainObject(o)&&(J.is.expectingJSON()?J.decode.json(o.responseText):o.responseText)},errorFromRequest:function(v,w,o){return c.isPlainObject(v)&&void 0!==v.error?v.error:void 0!==z.error[w]?z.error[w]:o},request:function(){return J.request||!1},xhr:function(){return J.xhr||!1},settings:function(){var o;return o=z.beforeSend.call(n,z),o&&(void 0!==o.success&&(J.debug("Legacy success callback detected",o),J.error(s.legacyParameters,o.success),o.onSuccess=o.success),void 0!==o.failure&&(J.debug("Legacy failure callback detected",o),J.error(s.legacyParameters,o.failure),o.onFailure=o.failure),void 0!==o.complete&&(J.debug("Legacy complete callback detected",o),J.error(s.legacyParameters,o.complete),o.onComplete=o.complete)),void 0===o&&J.error(s.noReturnedValue),!1===o?o:void 0!==o?c.extend(!0,{},o):c.extend(!0,{},z)},urlEncodedValue:function(v){var w=b.decodeURIComponent(v),o=b.encodeURIComponent(v);return w!==v?(J.debug("URL value is already encoded, avoiding double encoding",v),v):(J.verbose("Encoding value using encodeURIComponent",v,o),o)},defaultData:function(){var o={};return c.isWindow(D)||(J.is.input()?o.value=H.val():J.is.form()||(o.text=H.text())),o},event:function(){return c.isWindow(D)||"now"==z.on?(J.debug("API called without element, no events attached"),!1):"auto"==z.on?H.is("input")?void 0!==D.oninput?"input":void 0!==D.onpropertychange?"propertychange":"keyup":H.is("form")?"submit":"click":z.on},templatedURL:function(o){if(o=o||H.data(I.action)||z.action||!1,K=H.data(I.url)||z.url||!1){return J.debug("Using specified url",K),K}if(o){if(J.debug("Looking up url for action",o,z.api),void 0===z.api[o]&&!J.is.mocked()){return void J.error(s.missingAction,z.action,z.api)}K=z.api[o]}else{J.is.form()&&(K=H.attr("action")||i.attr("action")||!1,J.debug("No url or action specified, defaulting to form action",K))}return K}},abort:function(){var o=J.get.xhr();o&&"resolved"!==o.state()&&(J.debug("Cancelling API request"),o.abort())},reset:function(){J.remove.error(),J.remove.loading()},setting:function(o,v){if(J.debug("Changing setting",o,v),c.isPlainObject(o)){c.extend(!0,z,o)}else{if(void 0===v){return z[o]}c.isPlainObject(z[o])?c.extend(!0,z[o],v):z[o]=v}},internal:function(o,v){if(c.isPlainObject(o)){c.extend(!0,J,o)}else{if(void 0===v){return J[o]}J[o]=v}},debug:function(){!z.silent&&z.debug&&(z.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,z.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),J.verbose.apply(console,arguments)))},error:function(){z.silent||(J.error=Function.prototype.bind.call(console.error,console,z.name+":"),J.error.apply(console,arguments))},performance:{log:function(w){var v,x,o;z.performance&&(v=(new Date).getTime(),o=e||v,x=v-o,e=v,q.push({Name:w[0],Arguments:[].slice.call(w,1)||"","Execution Time":x})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,500)},display:function(){var o=z.name+":",v=0;e=!1,clearTimeout(J.performance.timer),c.each(q,function(x,w){v+=w["Execution Time"]}),o+=" "+v+"ms",m&&(o+=" '"+m+"'"),(void 0!==console.group||void 0!==console.table)&&q.length>0&&(console.groupCollapsed(o),console.table?console.table(q):c.each(q,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(x,N,C){var w,A,y,v=r;return N=N||p,C=D||C,"string"==typeof x&&void 0!==v&&(x=x.split(/[\. ]/),w=x.length-1,c.each(x,function(Q,O){var P=Q!=w?O+x[Q+1].charAt(0).toUpperCase()+x[Q+1].slice(1):x;if(c.isPlainObject(v[P])&&Q!=w){v=v[P]}else{if(void 0!==v[P]){return A=v[P],!1}if(!c.isPlainObject(v[O])||Q==w){return void 0!==v[O]?(A=v[O],!1):(J.error(s.method,x),!1)}v=v[O]}})),c.isFunction(A)?y=A.apply(C,N):void 0!==A&&(y=A),c.isArray(j)?j.push(y):void 0!==j?j=[j,y]:void 0!==y&&(j=y),A}},k?(void 0===r&&J.initialize(),J.invoke(h)):(void 0!==r&&r.invoke("destroy"),J.initialize())}),void 0!==j?j:this},c.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2000,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(f){return f},beforeXHR:function(f){},onRequest:function(g,f){},onResponse:!1,onSuccess:function(g,f){},onComplete:function(g,f){},onFailure:function(g,f){},onError:function(g,f){},onAbort:function(g,f){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.state=function(n){var h,f=c(this),k=f.selector||"",e=(d.documentElement,(new Date).getTime()),p=[],g=arguments[0],j="string"==typeof g,m=[].slice.call(arguments,1);return f.each(function(){var o,u=c.isPlainObject(n)?c.extend(!0,{},c.fn.state.settings,n):c.extend({},c.fn.state.settings),t=u.error,q=u.metadata,s=u.className,E=u.namespace,l=u.states,r=u.text,A="."+E,z=E+"-module",B=c(this),i=this,D=B.data(z);o={initialize:function(){o.verbose("Initializing module"),u.automatic&&o.add.defaults(),u.context&&""!==k?c(u.context).on(k,"mouseenter"+A,o.change.text).on(k,"mouseleave"+A,o.reset.text).on(k,"click"+A,o.toggle.state):B.on("mouseenter"+A,o.change.text).on("mouseleave"+A,o.reset.text).on("click"+A,o.toggle.state),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),D=o,B.data(z,o)},destroy:function(){o.verbose("Destroying previous module",D),B.off(A).removeData(z)},refresh:function(){o.verbose("Refreshing selector cache"),B=c(i)},add:{defaults:function(){var v=n&&c.isPlainObject(n.states)?n.states:{};c.each(u.defaults,function(w,x){void 0!==o.is[w]&&o.is[w]()&&(o.verbose("Adding default states",w,i),c.extend(u.states,x,v))})}},is:{active:function(){return B.hasClass(s.active)},loading:function(){return B.hasClass(s.loading)},inactive:function(){return !B.hasClass(s.active)},state:function(v){return void 0!==s[v]&&B.hasClass(s[v])},enabled:function(){return !B.is(u.filter.active)},disabled:function(){return B.is(u.filter.active)},textEnabled:function(){return !B.is(u.filter.text)},button:function(){return B.is(".button:not(a, .submit)")},input:function(){return B.is("input")},progress:function(){return B.is(".ui.progress")}},allow:function(v){o.debug("Now allowing state",v),l[v]=!0},disallow:function(v){o.debug("No longer allowing",v),l[v]=!1},allows:function(v){return l[v]||!1},enable:function(){B.removeClass(s.disabled)},disable:function(){B.addClass(s.disabled)},setState:function(v){o.allows(v)&&B.addClass(s[v])},removeState:function(v){o.allows(v)&&B.removeClass(s[v])},toggle:{state:function(){var v;if(o.allows("active")&&o.is.enabled()){if(o.refresh(),void 0!==c.fn.api){if(v=B.api("get request"),B.api("was cancelled")){o.debug("API Request cancelled by beforesend"),u.activateTest=function(){return !1},u.deactivateTest=function(){return !1}}else{if(v){return void o.listenTo(v)}}}o.change.state()}}},listenTo:function(v){o.debug("API request detected, waiting for state signal",v),v&&(r.loading&&o.update.text(r.loading),c.when(v).then(function(){"resolved"==v.state()?(o.debug("API request succeeded"),u.activateTest=function(){return !0},u.deactivateTest=function(){return !0}):(o.debug("API request failed"),u.activateTest=function(){return !1},u.deactivateTest=function(){return !1}),o.change.state()}))},change:{state:function(){o.debug("Determining state change direction"),o.is.inactive()?o.activate():o.deactivate(),u.sync&&o.sync(),u.onChange.call(i)},text:function(){o.is.textEnabled()&&(o.is.disabled()?(o.verbose("Changing text to disabled text",r.hover),o.update.text(r.disabled)):o.is.active()?r.hover?(o.verbose("Changing text to hover text",r.hover),o.update.text(r.hover)):r.deactivate&&(o.verbose("Changing text to deactivating text",r.deactivate),o.update.text(r.deactivate)):r.hover?(o.verbose("Changing text to hover text",r.hover),o.update.text(r.hover)):r.activate&&(o.verbose("Changing text to activating text",r.activate),o.update.text(r.activate)))}},activate:function(){u.activateTest.call(i)&&(o.debug("Setting state to active"),B.addClass(s.active),o.update.text(r.active),u.onActivate.call(i))},deactivate:function(){u.deactivateTest.call(i)&&(o.debug("Setting state to inactive"),B.removeClass(s.active),o.update.text(r.inactive),u.onDeactivate.call(i))},sync:function(){o.verbose("Syncing other buttons to current state"),o.is.active()?f.not(B).state("activate"):f.not(B).state("deactivate")},get:{text:function(){return u.selector.text?B.find(u.selector.text).text():B.html()},textFor:function(v){return r[v]||!1}},flash:{text:function(x,w,v){var y=o.get.text();o.debug("Flashing text message",x,w),x=x||u.text.flash,w=w||u.flashDuration,v=v||function(){},o.update.text(x),setTimeout(function(){o.update.text(y),v.call(i)},w)}},reset:{text:function(){var w=r.active||B.data(q.storedText),v=r.inactive||B.data(q.storedText);o.is.textEnabled()&&(o.is.active()&&w?(o.verbose("Resetting active text",w),o.update.text(w)):v&&(o.verbose("Resetting inactive text",w),o.update.text(v)))}},update:{text:function(w){var v=o.get.text();w&&w!==v?(o.debug("Updating text",w),u.selector.text?B.data(q.storedText,w).find(u.selector.text).text(w):B.data(q.storedText,w).html(w)):o.debug("Text is already set, ignoring update",w)}},setting:function(w,v){if(o.debug("Changing setting",w,v),c.isPlainObject(w)){c.extend(!0,u,w)}else{if(void 0===v){return u[w]}c.isPlainObject(u[w])?c.extend(!0,u[w],v):u[w]=v}},internal:function(w,v){if(c.isPlainObject(w)){c.extend(!0,o,w)}else{if(void 0===v){return o[w]}o[w]=v}},debug:function(){!u.silent&&u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){u.silent||(o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments))},performance:{log:function(x){var w,v,y;u.performance&&(w=(new Date).getTime(),y=e||w,v=w-y,e=w,p.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:i,"Execution Time":v})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var w=u.name+":",v=0;e=!1,clearTimeout(o.performance.timer),c.each(p,function(y,x){v+=x["Execution Time"]}),w+=" "+v+"ms",k&&(w+=" '"+k+"'"),(void 0!==console.group||void 0!==console.table)&&p.length>0&&(console.groupCollapsed(w),console.table?console.table(p):c.each(p,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(x,F,w){var C,y,v,G=D;return F=F||m,w=i||w,"string"==typeof x&&void 0!==G&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(I,J){var H=I!=C?J+x[I+1].charAt(0).toUpperCase()+x[I+1].slice(1):x;if(c.isPlainObject(G[H])&&I!=C){G=G[H]}else{if(void 0!==G[H]){return y=G[H],!1}if(!c.isPlainObject(G[J])||I==C){return void 0!==G[J]?(y=G[J],!1):(o.error(t.method,x),!1)}G=G[J]}})),c.isFunction(y)?v=y.apply(w,F):void 0!==y&&(v=y),c.isArray(h)?h.push(v):void 0!==h?h=[h,v]:void 0!==v&&(h=v),y}},j?(void 0===D&&o.initialize(),o.invoke(g)):(void 0!==D&&D.invoke("destroy"),o.initialize())}),void 0!==h?h:this},c.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return !0},deactivateTest:function(){return !0},automatic:!0,sync:!1,flashDuration:1000,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.visibility=function(k){var g,t=c(this),e=t.selector||"",w=(new Date).getTime(),j=[],q=arguments[0],v="string"==typeof q,p=[].slice.call(arguments,1),n=t.length,h=0;return t.each(function(){var M,K,u,H,J=c.isPlainObject(k)?c.extend(!0,{},c.fn.visibility.settings,k):c.extend({},c.fn.visibility.settings),L=J.className,o=J.namespace,r=J.error,D=J.metadata,s="."+o,I="module-"+o,i=c(b),f=c(this),G=c(J.context),l=(f.selector,f.data(I)),m=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(x){setTimeout(x,0)},B=this,z=!1;H={initialize:function(){H.debug("Initializing",J),H.setup.cache(),H.should.trackChanges()&&("image"==J.type&&H.setup.image(),"fixed"==J.type&&H.setup.fixed(),J.observeChanges&&H.observeChanges(),H.bind.events()),H.save.position(),H.is.visible()||H.error(r.visible,f),J.initialCheck&&H.checkVisibility(),H.instantiate()},instantiate:function(){H.debug("Storing instance",H),f.data(I,H),l=H},destroy:function(){H.verbose("Destroying previous module"),u&&u.disconnect(),K&&K.disconnect(),i.off("load"+s,H.event.load).off("resize"+s,H.event.resize),G.off("scroll"+s,H.event.scroll).off("scrollchange"+s,H.event.scrollchange),"fixed"==J.type&&(H.resetFixed(),H.remove.placeholder()),f.off(s).removeData(I)},observeChanges:function(){"MutationObserver" in b&&(K=new MutationObserver(H.event.contextChanged),u=new MutationObserver(H.event.changed),K.observe(d,{childList:!0,subtree:!0}),u.observe(B,{childList:!0,subtree:!0}),H.debug("Setting up mutation observer",u))},bind:{events:function(){H.verbose("Binding visibility events to scroll and resize"),J.refreshOnLoad&&i.on("load"+s,H.event.load),i.on("resize"+s,H.event.resize),G.off("scroll"+s).on("scroll"+s,H.event.scroll).on("scrollchange"+s,H.event.scrollchange)}},event:{changed:function(x){H.verbose("DOM tree modified, updating visibility calculations"),H.timer=setTimeout(function(){H.verbose("DOM tree modified, updating sticky menu"),H.refresh()},100)},contextChanged:function(x){[].forEach.call(x,function(y){y.removedNodes&&[].forEach.call(y.removedNodes,function(A){(A==B||c(A).find(B).length>0)&&(H.debug("Element removed from DOM, tearing down events"),H.destroy())})})},resize:function(){H.debug("Window resized"),J.refreshOnResize&&m(H.refresh)},load:function(){H.debug("Page finished loading"),m(H.refresh)},scroll:function(){J.throttle?(clearTimeout(H.timer),H.timer=setTimeout(function(){G.triggerHandler("scrollchange"+s,[G.scrollTop()])},J.throttle)):m(function(){G.triggerHandler("scrollchange"+s,[G.scrollTop()])})},scrollchange:function(y,x){H.checkVisibility(x)}},precache:function(C,A){C instanceof Array||(C=[C]);for(var N=C.length,y=0,F=[],E=d.createElement("img"),x=function(){++y>=C.length&&c.isFunction(A)&&A()};N--;){E=d.createElement("img"),E.onload=x,E.onerror=x,E.src=C[N],F.push(E)}},enableCallbacks:function(){H.debug("Allowing callbacks to occur"),z=!1},disableCallbacks:function(){H.debug("Disabling all callbacks temporarily"),z=!0},should:{trackChanges:function(){return v?(H.debug("One time query, no need to bind events"),!1):(H.debug("Callbacks being attached"),!0)}},setup:{cache:function(){H.cache={occurred:{},screen:{},element:{}}},image:function(){var x=f.data(D.src);x&&(H.verbose("Lazy loading image",x),J.once=!0,J.observeChanges=!1,J.onOnScreen=function(){H.debug("Image on screen",B),H.precache(x,function(){H.set.image(x,function(){h++,h==n&&J.onAllLoaded.call(this),J.onLoad.call(this)})})})},fixed:function(){H.debug("Setting up fixed"),J.once=!1,J.observeChanges=!1,J.initialCheck=!0,J.refreshOnLoad=!0,k.transition||(J.transition=!1),H.create.placeholder(),H.debug("Added placeholder",M),J.onTopPassed=function(){H.debug("Element passed, adding fixed position",f),H.show.placeholder(),H.set.fixed(),J.transition&&void 0!==c.fn.transition&&f.transition(J.transition,J.duration)},J.onTopPassedReverse=function(){H.debug("Element returned to position, removing fixed",f),H.hide.placeholder(),H.remove.fixed()}}},create:{placeholder:function(){H.verbose("Creating fixed position placeholder"),M=f.clone(!1).css("display","none").addClass(L.placeholder).insertAfter(f)}},show:{placeholder:function(){H.verbose("Showing placeholder"),M.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){H.verbose("Hiding placeholder"),M.css("display","none").css("visibility","")}},set:{fixed:function(){H.verbose("Setting element to fixed position"),f.addClass(L.fixed).css({position:"fixed",top:J.offset+"px",left:"auto",zIndex:J.zIndex}),J.onFixed.call(B)},image:function(x,y){if(f.attr("src",x),J.transition){if(void 0!==c.fn.transition){if(f.hasClass(L.visible)){return void H.debug("Transition already occurred on this image, skipping animation")}f.transition(J.transition,J.duration,y)}else{f.fadeIn(J.duration,y)}}else{f.show()}}},is:{onScreen:function(){return H.get.elementCalculations().onScreen},offScreen:function(){return H.get.elementCalculations().offScreen},visible:function(){return !(!H.cache||!H.cache.element)&&!(0===H.cache.element.width&&0===H.cache.element.offset.top)},verticallyScrollableContext:function(){var x=G.get(0)!==b&&G.css("overflow-y");return"auto"==x||"scroll"==x},horizontallyScrollableContext:function(){var x=G.get(0)!==b&&G.css("overflow-x");return"auto"==x||"scroll"==x}},refresh:function(){H.debug("Refreshing constants (width/height)"),"fixed"==J.type&&H.resetFixed(),H.reset(),H.save.position(),J.checkOnRefresh&&H.checkVisibility(),J.onRefresh.call(B)},resetFixed:function(){H.remove.fixed(),H.remove.occurred()},reset:function(){H.verbose("Resetting all cached values"),c.isPlainObject(H.cache)&&(H.cache.screen={},H.cache.element={})},checkVisibility:function(x){H.verbose("Checking visibility of element",H.cache.element),!z&&H.is.visible()&&(H.save.scroll(x),H.save.calculations(),H.passed(),H.passingReverse(),H.topVisibleReverse(),H.bottomVisibleReverse(),H.topPassedReverse(),H.bottomPassedReverse(),H.onScreen(),H.offScreen(),H.passing(),H.topVisible(),H.bottomVisible(),H.topPassed(),H.bottomPassed(),J.onUpdate&&J.onUpdate.call(B,H.get.elementCalculations()))},passed:function(y,A){var x=H.get.elementCalculations();if(y&&A){J.onPassed[y]=A}else{if(void 0!==y){return H.get.pixelsPassed(y)>x.pixelsPassed}x.passing&&c.each(J.onPassed,function(E,C){x.bottomVisible||x.pixelsPassed>H.get.pixelsPassed(E)?H.execute(C,E):J.once||H.remove.occurred(C)})}},onScreen:function(y){var x=H.get.elementCalculations(),A=y||J.onOnScreen;if(y&&(H.debug("Adding callback for onScreen",y),J.onOnScreen=y),x.onScreen?H.execute(A,"onScreen"):J.once||H.remove.occurred("onScreen"),void 0!==y){return x.onOnScreen}},offScreen:function(y){var x=H.get.elementCalculations(),A=y||J.onOffScreen;if(y&&(H.debug("Adding callback for offScreen",y),J.onOffScreen=y),x.offScreen?H.execute(A,"offScreen"):J.once||H.remove.occurred("offScreen"),void 0!==y){return x.onOffScreen}},passing:function(y){var x=H.get.elementCalculations(),A=y||J.onPassing;if(y&&(H.debug("Adding callback for passing",y),J.onPassing=y),x.passing?H.execute(A,"passing"):J.once||H.remove.occurred("passing"),void 0!==y){return x.passing}},topVisible:function(y){var x=H.get.elementCalculations(),A=y||J.onTopVisible;if(y&&(H.debug("Adding callback for top visible",y),J.onTopVisible=y),x.topVisible?H.execute(A,"topVisible"):J.once||H.remove.occurred("topVisible"),void 0===y){return x.topVisible}},bottomVisible:function(y){var x=H.get.elementCalculations(),A=y||J.onBottomVisible;if(y&&(H.debug("Adding callback for bottom visible",y),J.onBottomVisible=y),x.bottomVisible?H.execute(A,"bottomVisible"):J.once||H.remove.occurred("bottomVisible"),void 0===y){return x.bottomVisible}},topPassed:function(y){var x=H.get.elementCalculations(),A=y||J.onTopPassed;if(y&&(H.debug("Adding callback for top passed",y),J.onTopPassed=y),x.topPassed?H.execute(A,"topPassed"):J.once||H.remove.occurred("topPassed"),void 0===y){return x.topPassed}},bottomPassed:function(y){var x=H.get.elementCalculations(),A=y||J.onBottomPassed;if(y&&(H.debug("Adding callback for bottom passed",y),J.onBottomPassed=y),x.bottomPassed?H.execute(A,"bottomPassed"):J.once||H.remove.occurred("bottomPassed"),void 0===y){return x.bottomPassed}},passingReverse:function(y){var x=H.get.elementCalculations(),A=y||J.onPassingReverse;if(y&&(H.debug("Adding callback for passing reverse",y),J.onPassingReverse=y),x.passing?J.once||H.remove.occurred("passingReverse"):H.get.occurred("passing")&&H.execute(A,"passingReverse"),void 0!==y){return !x.passing}},topVisibleReverse:function(y){var x=H.get.elementCalculations(),A=y||J.onTopVisibleReverse;if(y&&(H.debug("Adding callback for top visible reverse",y),J.onTopVisibleReverse=y),x.topVisible?J.once||H.remove.occurred("topVisibleReverse"):H.get.occurred("topVisible")&&H.execute(A,"topVisibleReverse"),void 0===y){return !x.topVisible}},bottomVisibleReverse:function(y){var x=H.get.elementCalculations(),A=y||J.onBottomVisibleReverse;if(y&&(H.debug("Adding callback for bottom visible reverse",y),J.onBottomVisibleReverse=y),x.bottomVisible?J.once||H.remove.occurred("bottomVisibleReverse"):H.get.occurred("bottomVisible")&&H.execute(A,"bottomVisibleReverse"),void 0===y){return !x.bottomVisible}},topPassedReverse:function(y){var x=H.get.elementCalculations(),A=y||J.onTopPassedReverse;if(y&&(H.debug("Adding callback for top passed reverse",y),J.onTopPassedReverse=y),x.topPassed?J.once||H.remove.occurred("topPassedReverse"):H.get.occurred("topPassed")&&H.execute(A,"topPassedReverse"),void 0===y){return !x.onTopPassed}},bottomPassedReverse:function(y){var x=H.get.elementCalculations(),A=y||J.onBottomPassedReverse;if(y&&(H.debug("Adding callback for bottom passed reverse",y),J.onBottomPassedReverse=y),x.bottomPassed?J.once||H.remove.occurred("bottomPassedReverse"):H.get.occurred("bottomPassed")&&H.execute(A,"bottomPassedReverse"),void 0===y){return !x.bottomPassed}},execute:function(A,y){var C=H.get.elementCalculations(),x=H.get.screenCalculations();A=A||!1,A&&(J.continuous?(H.debug("Callback being called continuously",y,C),A.call(B,C,x)):H.get.occurred(y)||(H.debug("Conditions met",y,C),A.call(B,C,x))),H.save.occurred(y)},remove:{fixed:function(){H.debug("Removing fixed position"),f.removeClass(L.fixed).css({position:"",top:"",left:"",zIndex:""}),J.onUnfixed.call(B)},placeholder:function(){H.debug("Removing placeholder content"),M&&M.remove()},occurred:function(y){if(y){var x=H.cache.occurred;void 0!==x[y]&&!0===x[y]&&(H.debug("Callback can now be called again",y),H.cache.occurred[y]=!1)}else{H.cache.occurred={}}}},save:{calculations:function(){H.verbose("Saving all calculations necessary to determine positioning"),H.save.direction(),H.save.screenCalculations(),H.save.elementCalculations()},occurred:function(x){x&&(void 0!==H.cache.occurred[x]&&!0===H.cache.occurred[x]||(H.verbose("Saving callback occurred",x),H.cache.occurred[x]=!0))},scroll:function(x){x=x+J.offset||G.scrollTop()+J.offset,H.cache.scroll=x},direction:function(){var y,x=H.get.scroll(),A=H.get.lastScroll();return y=x>A&&A?"down":x<A&&A?"up":"static",H.cache.direction=y,H.cache.direction},elementPosition:function(){var y=H.cache.element,x=H.get.screenSize();return H.verbose("Saving element position"),y.fits=y.height<x.height,y.offset=f.offset(),y.width=f.outerWidth(),y.height=f.outerHeight(),H.is.verticallyScrollableContext()&&(y.offset.top+=G.scrollTop()-G.offset().top),H.is.horizontallyScrollableContext()&&(y.offset.left+=G.scrollLeft-G.offset().left),H.cache.element=y,y},elementCalculations:function(){var y=H.get.screenCalculations(),x=H.get.elementPosition();return J.includeMargin?(x.margin={},x.margin.top=parseInt(f.css("margin-top"),10),x.margin.bottom=parseInt(f.css("margin-bottom"),10),x.top=x.offset.top-x.margin.top,x.bottom=x.offset.top+x.height+x.margin.bottom):(x.top=x.offset.top,x.bottom=x.offset.top+x.height),x.topPassed=y.top>=x.top,x.bottomPassed=y.top>=x.bottom,x.topVisible=y.bottom>=x.top&&!x.bottomPassed,x.bottomVisible=y.bottom>=x.bottom&&!x.topPassed,x.pixelsPassed=0,x.percentagePassed=0,x.onScreen=x.topVisible&&!x.bottomPassed,x.passing=x.topPassed&&!x.bottomPassed,x.offScreen=!x.onScreen,x.passing&&(x.pixelsPassed=y.top-x.top,x.percentagePassed=(y.top-x.top)/x.height),H.cache.element=x,H.verbose("Updated element calculations",x),x},screenCalculations:function(){var x=H.get.scroll();return H.save.direction(),H.cache.screen.top=x,H.cache.screen.bottom=x+H.cache.screen.height,H.cache.screen},screenSize:function(){H.verbose("Saving window position"),H.cache.screen={height:G.height()}},position:function(){H.save.screenSize(),H.save.elementPosition()}},get:{pixelsPassed:function(y){var x=H.get.elementCalculations();return y.search("%")>-1?x.height*(parseInt(y,10)/100):parseInt(y,10)},occurred:function(x){return void 0!==H.cache.occurred&&(H.cache.occurred[x]||!1)},direction:function(){return void 0===H.cache.direction&&H.save.direction(),H.cache.direction},elementPosition:function(){return void 0===H.cache.element&&H.save.elementPosition(),H.cache.element},elementCalculations:function(){return void 0===H.cache.element&&H.save.elementCalculations(),H.cache.element},screenCalculations:function(){return void 0===H.cache.screen&&H.save.screenCalculations(),H.cache.screen},screenSize:function(){return void 0===H.cache.screen&&H.save.screenSize(),H.cache.screen},scroll:function(){return void 0===H.cache.scroll&&H.save.scroll(),H.cache.scroll},lastScroll:function(){return void 0===H.cache.screen?(H.debug("First scroll event, no last scroll could be found"),!1):H.cache.screen.top}},setting:function(x,y){if(c.isPlainObject(x)){c.extend(!0,J,x)}else{if(void 0===y){return J[x]}J[x]=y}},internal:function(x,y){if(c.isPlainObject(x)){c.extend(!0,H,x)}else{if(void 0===y){return H[x]}H[x]=y}},debug:function(){!J.silent&&J.debug&&(J.performance?H.performance.log(arguments):(H.debug=Function.prototype.bind.call(console.info,console,J.name+":"),H.debug.apply(console,arguments)))},verbose:function(){!J.silent&&J.verbose&&J.debug&&(J.performance?H.performance.log(arguments):(H.verbose=Function.prototype.bind.call(console.info,console,J.name+":"),H.verbose.apply(console,arguments)))},error:function(){J.silent||(H.error=Function.prototype.bind.call(console.error,console,J.name+":"),H.error.apply(console,arguments))},performance:{log:function(A){var y,C,x;J.performance&&(y=(new Date).getTime(),x=w||y,C=y-x,w=y,j.push({Name:A[0],Arguments:[].slice.call(A,1)||"",Element:B,"Execution Time":C})),clearTimeout(H.performance.timer),H.performance.timer=setTimeout(H.performance.display,500)},display:function(){var x=J.name+":",y=0;w=!1,clearTimeout(H.performance.timer),c.each(j,function(C,A){y+=A["Execution Time"]}),x+=" "+y+"ms",e&&(x+=" '"+e+"'"),(void 0!==console.group||void 0!==console.table)&&j.length>0&&(console.groupCollapsed(x),console.table?console.table(j):c.each(j,function(C,A){console.log(A.Name+": "+A["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(C,N,A){var y,F,E,x=l;return N=N||p,A=B||A,"string"==typeof C&&void 0!==x&&(C=C.split(/[\. ]/),y=C.length-1,c.each(C,function(Q,O){var P=Q!=y?O+C[Q+1].charAt(0).toUpperCase()+C[Q+1].slice(1):C;if(c.isPlainObject(x[P])&&Q!=y){x=x[P]}else{if(void 0!==x[P]){return F=x[P],!1}if(!c.isPlainObject(x[O])||Q==y){return void 0!==x[O]?(F=x[O],!1):(H.error(r.method,C),!1)}x=x[O]}})),c.isFunction(F)?E=F.apply(A,N):void 0!==F&&(E=F),c.isArray(g)?g.push(E):void 0!==g?g=[g,E]:void 0!==E&&(g=E),F}},v?(void 0===l&&H.initialize(),l.save.scroll(),l.save.calculations(),H.invoke(q)):(void 0!==l&&l.invoke("destroy"),H.initialize())}),void 0!==g?g:this},c.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:b,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1000,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);