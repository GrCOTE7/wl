/*!

Holder - client side image placeholders
Version 2.7.1+6hydf
© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  http://opensource.org/licenses/MIT

*/
!function(d){if(d.document){var c=d.document;c.querySelectorAll||(c.querySelectorAll=function(h){var g,b=c.createElement("style"),a=[];for(c.documentElement.firstChild.appendChild(b),c._qsa=[],b.styleSheet.cssText=h+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",d.scrollBy(0,0),b.parentNode.removeChild(b);c._qsa.length;){g=c._qsa.shift(),g.style.removeAttribute("x-qsa"),a.push(g)}return c._qsa=null,a}),c.querySelector||(c.querySelector=function(b){var e=c.querySelectorAll(b);return e.length?e[0]:null}),c.getElementsByClassName||(c.getElementsByClassName=function(b){return b=String(b).replace(/^|\s+/g,"."),c.querySelectorAll(b)}),Object.keys||(Object.keys=function(f){if(f!==Object(f)){throw TypeError("Object.keys called on non-object")}var e,g=[];for(e in f){Object.prototype.hasOwnProperty.call(f,e)&&g.push(e)}return g}),function(f){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.atob=f.atob||function(b){b=String(b);var l,k=0,j=[],i=0,h=0;if(b=b.replace(/\s/g,""),b.length%4===0&&(b=b.replace(/=+$/,"")),b.length%4===1){throw Error("InvalidCharacterError")}if(/[^+/0-9A-Za-z]/.test(b)){throw Error("InvalidCharacterError")}for(;k<b.length;){l=e.indexOf(b.charAt(k)),i=i<<6|l,h+=6,24===h&&(j.push(String.fromCharCode(i>>16&255)),j.push(String.fromCharCode(i>>8&255)),j.push(String.fromCharCode(255&i)),h=0,i=0),k+=1}return 12===h?(i>>=4,j.push(String.fromCharCode(255&i))):18===h&&(i>>=2,j.push(String.fromCharCode(i>>8&255)),j.push(String.fromCharCode(255&i))),j.join("")},f.btoa=f.btoa||function(t){t=String(t);var s,r,q,p,o,n,m,l=0,b=[];if(/[^\x00-\xFF]/.test(t)){throw Error("InvalidCharacterError")}for(;l<t.length;){s=t.charCodeAt(l++),r=t.charCodeAt(l++),q=t.charCodeAt(l++),p=s>>2,o=(3&s)<<4|r>>4,n=(15&r)<<2|q>>6,m=63&q,l===t.length+2?(n=64,m=64):l===t.length+1&&(m=64),b.push(e.charAt(p),e.charAt(o),e.charAt(n),e.charAt(m))}return b.join("")}}(d),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(f){var e=this.__proto__||this.constructor.prototype;return f in this&&(!(f in e)||e[f]!==this[f])}),function(){if("performance" in d==!1&&(d.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now" in d.performance==!1){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),d.performance.now=function(){return Date.now()-a}}}(),d.requestAnimationFrame||(d.webkitRequestAnimationFrame?!function(b){b.requestAnimationFrame=function(a){return webkitRequestAnimationFrame(function(){a(b.performance.now())})},b.cancelAnimationFrame=webkitCancelAnimationFrame}(d):d.mozRequestAnimationFrame?!function(b){b.requestAnimationFrame=function(a){return mozRequestAnimationFrame(function(){a(b.performance.now())})},b.cancelAnimationFrame=mozCancelAnimationFrame}(d):!function(b){b.requestAnimationFrame=function(a){return b.setTimeout(a,1000/60)},b.cancelAnimationFrame=b.clearTimeout}(d))}}(this),function(d,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define(c):"object"==typeof exports?exports.Holder=c():d.Holder=c()}(this,function(){return function(e){function d(b){if(f[b]){return f[b].exports}var a=f[b]={exports:{},id:b,loaded:!1};return e[b].call(a.exports,a,a.exports,d),a.loaded=!0,a.exports}var f={};return d.m=e,d.c=f,d.p="",d(0)}([function(e,d,f){(function(aA){function az(h,g,k,j){var i=ay(k.substr(k.lastIndexOf(h.domain)),h);i&&av({mode:null,el:j,flags:i,engineSettings:g})}function ay(h,g){var i={theme:aa(S.settings.themes.gray,null),stylesheets:g.stylesheets,instanceOptions:g};return h.match(/([\d]+p?)x([\d]+p?)(?:\?|$)/)?ax(h,i):aw(h,i)}function ax(j,i){var p=j.split("?"),o=p[0].split("/");i.holderURL=j;var n=o[1],m=n.match(/([\d]+p?)x([\d]+p?)/);if(!m){return !1}if(i.fluid=-1!==n.indexOf("p"),i.dimensions={width:m[1].replace("p","%"),height:m[2].replace("p","%")},2===p.length){var l=ab.parse(p[1]);if(l.bg&&(i.theme.background=(-1===l.bg.indexOf("#")?"#":"")+l.bg),l.fg&&(i.theme.foreground=(-1===l.fg.indexOf("#")?"#":"")+l.fg),l.theme&&i.instanceOptions.themes.hasOwnProperty(l.theme)&&(i.theme=aa(i.instanceOptions.themes[l.theme],null)),l.text&&(i.text=l.text),l.textmode&&(i.textmode=l.textmode),l.size&&(i.size=l.size),l.font&&(i.font=l.font),l.align&&(i.align=l.align),i.nowrap=ac.truthy(l.nowrap),i.auto=ac.truthy(l.auto),ac.truthy(l.random)){S.vars.cache.themeKeys=S.vars.cache.themeKeys||Object.keys(i.instanceOptions.themes);var k=S.vars.cache.themeKeys[0|Math.random()*S.vars.cache.themeKeys.length];i.theme=aa(i.instanceOptions.themes[k],null)}}return i}function aw(B,A){var z=!1,y=String.fromCharCode(11),x=B.replace(/([^\\])\//g,"$1"+y).split(y),w=/%[0-9a-f]{2}/gi,v=A.instanceOptions;A.holderURL=[];for(var u=x.length,t=0;u>t;t++){var s=x[t];if(s.match(w)){try{s=decodeURIComponent(s)}catch(r){s=x[t]}}var q=!1;if(S.flags.dimensions.match(s)){z=!0,A.dimensions=S.flags.dimensions.output(s),q=!0}else{if(S.flags.fluid.match(s)){z=!0,A.dimensions=S.flags.fluid.output(s),A.fluid=!0,q=!0}else{if(S.flags.textmode.match(s)){A.textmode=S.flags.textmode.output(s),q=!0}else{if(S.flags.colors.match(s)){var p=S.flags.colors.output(s);A.theme=aa(A.theme,p),q=!0}else{if(v.themes[s]){v.themes.hasOwnProperty(s)&&(A.theme=aa(v.themes[s],null)),q=!0}else{if(S.flags.font.match(s)){A.font=S.flags.font.output(s),q=!0}else{if(S.flags.auto.match(s)){A.auto=!0,q=!0}else{if(S.flags.text.match(s)){A.text=S.flags.text.output(s),q=!0}else{if(S.flags.size.match(s)){A.size=S.flags.size.output(s),q=!0}else{if(S.flags.random.match(s)){null==S.vars.cache.themeKeys&&(S.vars.cache.themeKeys=Object.keys(v.themes));var o=S.vars.cache.themeKeys[0|Math.random()*S.vars.cache.themeKeys.length];A.theme=aa(v.themes[o],null),q=!0}}}}}}}}}}q&&A.holderURL.push(s)}return A.holderURL.unshift(v.domain),A.holderURL=A.holderURL.join("/"),z?A:!1}function av(B){var A=B.mode,z=B.el,y=B.flags,x=B.engineSettings,w=y.dimensions,v=y.theme,u=w.width+"x"+w.height;if(A=null==A?y.fluid?"fluid":"image":A,null!=y.text&&(v.text=y.text,"object"===z.nodeName.toLowerCase())){for(var t=v.text.split("\\n"),s=0;s<t.length;s++){t[s]=ac.encodeHtmlEntity(t[s])}v.text=t.join("\\n")}var r=y.holderURL,m=aa(x,null);if(y.font&&(v.font=y.font,!m.noFontFallback&&"img"===z.nodeName.toLowerCase()&&S.setup.supportsCanvas&&"svg"===m.renderer&&(m=aa(m,{renderer:"canvas"}))),y.font&&"canvas"==m.renderer&&(m.reRender=!0),"background"==A){null==z.getAttribute("data-background-src")&&ak(z,{"data-background-src":r})}else{var l={};l[S.vars.dataAttr]=r,ak(z,l)}y.theme=v,z.holderData={flags:y,engineSettings:m},("image"==A||"fluid"==A)&&ak(z,{alt:v.text?v.text+" ["+u+"]":u});var i={mode:A,el:z,holderSettings:{dimensions:w,theme:v,flags:y},engineSettings:m};"image"==A?("html"!=m.renderer&&y.auto||(z.style.width=w.width+"px",z.style.height=w.height+"px"),"html"==m.renderer?z.style.backgroundColor=v.background:(au(i),"exact"==y.textmode&&(z.holderData.resizeUpdate=!0,S.vars.resizableImages.push(z),aq(z)))):"background"==A&&"html"!=m.renderer?au(i):"fluid"==A&&(z.holderData.resizeUpdate=!0,"%"==w.height.slice(-1)?z.style.height=w.height:null!=y.auto&&y.auto||(z.style.height=w.height+"px"),"%"==w.width.slice(-1)?z.style.width=w.width:null!=y.auto&&y.auto||(z.style.width=w.width+"px"),("inline"==z.style.display||""===z.style.display||"none"==z.style.display)&&(z.style.display="block"),ap(z),"html"==m.renderer?z.style.backgroundColor=v.background:(S.vars.resizableImages.push(z),aq(z)))}function au(r){function q(){var g=null;switch(l.renderer){case"canvas":g=Q(b,r);break;case"svg":g=P(b,r);break;default:throw"Holder: invalid renderer: "+l.renderer}return g}var p=null,o=r.mode,n=r.holderSettings,m=r.el,l=r.engineSettings;switch(l.renderer){case"svg":if(!S.setup.supportsSVG){return}break;case"canvas":if(!S.setup.supportsCanvas){return}break;default:return}var j={width:n.dimensions.width,height:n.dimensions.height,theme:n.theme,flags:n.flags},b=at(j);if(p=q(),null==p){throw"Holder: couldn't render placeholder"}"background"==o?(m.style.backgroundImage="url("+p+")",m.style.backgroundSize=j.width+"px "+j.height+"px"):("img"===m.nodeName.toLowerCase()?ak(m,{src:p}):"object"===m.nodeName.toLowerCase()&&(ak(m,{data:p}),ak(m,{type:"image/svg+xml"})),l.reRender&&aA.setTimeout(function(){var g=q();if(null==g){throw"Holder: couldn't render placeholder"}"img"===m.nodeName.toLowerCase()?ak(m,{src:g}):"object"===m.nodeName.toLowerCase()&&(ak(m,{data:g}),ak(m,{type:"image/svg+xml"}))},100)),ak(m,{"data-holder-rendered":!0})}function at(L){function K(h,g,j,i){g.width=j,g.height=i,h.width=Math.max(h.width,g.width),h.height+=g.height}var J=S.defaults.size;switch(parseFloat(L.theme.size)?J=L.theme.size:parseFloat(L.flags.size)&&(J=L.flags.size),L.font={family:L.theme.font?L.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:ar(L.width,L.height,J),units:L.theme.units?L.theme.units:S.defaults.units,weight:L.theme.fontweight?L.theme.fontweight:"bold"},L.text=L.theme.text||Math.floor(L.width)+"x"+Math.floor(L.height),L.noWrap=L.theme.nowrap||L.flags.nowrap,L.align=L.theme.align||L.flags.align||"center",L.flags.textmode){case"literal":L.text=L.flags.dimensions.width+"x"+L.flags.dimensions.height;break;case"exact":if(!L.flags.exactDimensions){break}L.text=Math.floor(L.flags.exactDimensions.width)+"x"+Math.floor(L.flags.exactDimensions.height)}var I=new ad({width:L.width,height:L.height}),H=I.Shape,G=new H.Rect("holderBg",{fill:L.theme.background});G.resize(L.width,L.height),I.root.add(G);var F=new H.Group("holderTextGroup",{text:L.text,align:L.align,font:L.font,fill:L.theme.foreground});F.moveTo(null,null,1),I.root.add(F);var E=F.textPositionData=R(I);if(!E){throw"Holder: staging fallback not supported yet."}F.properties.leading=E.boundingBox.height;var D=null,C=null,B=L.width*S.setup.lineWrapRatio,A=B;if(E.lineCount>1){var z,y=0,x=0,w=0;C=new H.Group("line"+w),("left"===L.align||"right"===L.align)&&(A=L.width*(1-2*(1-S.setup.lineWrapRatio)));for(var v=0;v<E.words.length;v++){var u=E.words[v];D=new H.Text(u.text);var k="\\n"==u.text;!L.noWrap&&(y+u.width>=A||k===!0)&&(K(F,C,y,F.properties.leading),F.add(C),y=0,x+=F.properties.leading,w+=1,C=new H.Group("line"+w),C.y=x),k!==!0&&(D.moveTo(y,0),y+=E.spaceWidth+u.width,C.add(D))}if(K(F,C,y,F.properties.leading),F.add(C),"left"===L.align){F.moveTo(L.width-B,null,null)}else{if("right"===L.align){for(z in F.children){C=F.children[z],C.moveTo(L.width-C.width,null,null)}F.moveTo(0-(L.width-B),null,null)}else{for(z in F.children){C=F.children[z],C.moveTo((F.width-C.width)/2,null,null)}F.moveTo((L.width-F.width)/2,null,null)}}F.moveTo(null,(L.height-F.height)/2,null),(L.height-F.height)/2<0&&F.moveTo(null,0,null)}else{D=new H.Text(L.text),C=new H.Group("line0"),C.add(D),F.add(C),"left"===L.align?F.moveTo(L.width-B,null,null):"right"===L.align?F.moveTo(0-(L.width-B),null,null):F.moveTo((L.width-E.boundingBox.width)/2,null,null),F.moveTo(null,(L.height-E.boundingBox.height)/2,null)}return I}function ar(j,i,p){var o=parseInt(j,10),n=parseInt(i,10),m=Math.max(o,n),l=Math.min(o,n),k=0.8*Math.min(l,m*S.defaults.scale);return Math.round(Math.max(p,k))}function aq(r){var q;q=null==r||null==r.nodeType?S.vars.resizableImages:[r];for(var p=0,o=q.length;o>p;p++){var n=q[p];if(n.holderData){var m=n.holderData.flags,l=Y(n);if(l){if(!n.holderData.resizeUpdate){continue}if(m.fluid&&m.auto){var k=n.holderData.fluidConfig;switch(k.mode){case"width":l.height=l.width/k.ratio;break;case"height":l.width=l.height*k.ratio}}var i={mode:"image",holderSettings:{dimensions:l,theme:m.theme,flags:m},el:n,engineSettings:n.holderData.engineSettings};"exact"==m.textmode&&(m.exactDimensions=l,i.holderSettings.dimensions=m.dimensions),au(i)}else{am(n)}}}}function ap(h){if(h.holderData){var g=Y(h);if(g){var j=h.holderData.flags,i={fluidHeight:"%"==j.dimensions.height.slice(-1),fluidWidth:"%"==j.dimensions.width.slice(-1),mode:null,initialDimensions:g};i.fluidWidth&&!i.fluidHeight?(i.mode="width",i.ratio=i.initialDimensions.width/parseFloat(j.dimensions.height)):!i.fluidWidth&&i.fluidHeight&&(i.mode="height",i.ratio=parseFloat(j.dimensions.width)/i.initialDimensions.height),h.holderData.fluidConfig=i}else{am(h)}}}function ao(){for(var b,j=[],i=Object.keys(S.vars.invisibleImages),h=0,g=i.length;g>h;h++){b=S.vars.invisibleImages[i[h]],Y(b)&&"img"==b.nodeName.toLowerCase()&&(j.push(b),delete S.vars.invisibleImages[i[h]])}j.length&&T.run({images:j}),aA.requestAnimationFrame(ao)}function an(){S.vars.visibilityCheckStarted||(aA.requestAnimationFrame(ao),S.vars.visibilityCheckStarted=!0)}function am(b){b.holderData.invisibleId||(S.vars.invisibleId+=1,S.vars.invisibleImages["i"+S.vars.invisibleId]=b,b.holderData.invisibleId=S.vars.invisibleId)}function al(h,g){return null==g?document.createElement(h):document.createElementNS(g,h)}function ak(h,g){for(var i in g){h.setAttribute(i,g[i])}}function aj(h,g,l){var k,j;null==h?(h=al("svg",X),k=al("defs",X),j=al("style",X),ak(j,{type:"text/css"}),k.appendChild(j),h.appendChild(k)):j=h.querySelector("style"),h.webkitMatchesSelector&&h.setAttribute("xmlns",X);for(var i=0;i<h.childNodes.length;i++){h.childNodes[i].nodeType===W&&h.removeChild(h.childNodes[i])}for(;j.childNodes.length;){j.removeChild(j.childNodes[0])}return ak(h,{width:g,height:l,viewBox:"0 0 "+g+" "+l,preserveAspectRatio:"none"}),h}function ai(r,q){if(aA.XMLSerializer){var p=new XMLSerializer,o="",n=q.stylesheets;if(q.svgXMLStylesheet){for(var m=ah(),l=n.length-1;l>=0;l--){var k=m.createProcessingInstruction("xml-stylesheet",'href="'+n[l]+'" rel="stylesheet"');m.insertBefore(k,m.firstChild)}m.removeChild(m.documentElement),o=p.serializeToString(m)}var b=p.serializeToString(r);return b=b.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),o+b}}function ah(){return aA.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0}function ag(b){S.vars.debounceTimer||b.call(this),S.vars.debounceTimer&&aA.clearTimeout(S.vars.debounceTimer),S.vars.debounceTimer=aA.setTimeout(function(){S.vars.debounceTimer=null,b.call(this)},S.setup.debounce)}function af(){ag(function(){aq(null)})}var ae=f(1),ad=f(2),ac=f(3),ab=f(4),aa=ac.extend,Z=ac.getNodeArray,Y=ac.dimensionCheck,X="http://www.w3.org/2000/svg",W=8,V="2.7.1",U="\nCreated with Holder.js "+V+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",T={version:V,addTheme:function(h,g){return null!=h&&null!=g&&(S.settings.themes[h]=g),delete S.vars.cache.themeKeys,this},addImage:function(i,h){var n=document.querySelectorAll(h);if(n.length){for(var m=0,l=n.length;l>m;m++){var k=al("img"),j={};j[S.vars.dataAttr]=i,ak(k,j),n[m].appendChild(k)}}return this},setResizeUpdate:function(h,g){h.holderData&&(h.holderData.resizeUpdate=!!g,h.holderData.resizeUpdate&&aq(h))},run:function(aV){aV=aV||{};var aU={},aT=aa(S.settings,aV);S.vars.preempted=!0,S.vars.dataAttr=aT.dataAttr||S.vars.dataAttr,aU.renderer=aT.renderer?aT.renderer:S.setup.renderer,-1===S.setup.renderers.join(",").indexOf(aU.renderer)&&(aU.renderer=S.setup.supportsSVG?"svg":S.setup.supportsCanvas?"canvas":"html");var aS=Z(aT.images),aR=Z(aT.bgnodes),aQ=Z(aT.stylenodes),aP=Z(aT.objects);aU.stylesheets=[],aU.svgXMLStylesheet=!0,aU.noFontFallback=aT.noFontFallback?aT.noFontFallback:!1;for(var aO=0;aO<aQ.length;aO++){var aN=aQ[aO];if(aN.attributes.rel&&aN.attributes.href&&"stylesheet"==aN.attributes.rel.value){var aM=aN.attributes.href.value,aL=al("a");aL.href=aM;var aK=aL.protocol+"//"+aL.host+aL.pathname+aL.search;aU.stylesheets.push(aK)}}for(aO=0;aO<aR.length;aO++){if(aA.getComputedStyle){var aI=aA.getComputedStyle(aR[aO],null).getPropertyValue("background-image"),aH=aR[aO].getAttribute("data-background-src"),aF=null;aF=null==aH?aI:aH;var aD=null,aB="?"+aT.domain+"/";if(0===aF.indexOf(aB)){aD=aF.slice(1)}else{if(-1!=aF.indexOf(aB)){var N=aF.substr(aF.indexOf(aB)).slice(1),C=N.match(/([^\"]*)"?\)/);null!=C&&(aD=C[1])}}if(null!=aD){var z=ay(aD,aT);z&&av({mode:"background",el:aR[aO],flags:z,engineSettings:aU})}}}for(aO=0;aO<aP.length;aO++){var aJ=aP[aO],aG={};try{aG.data=aJ.getAttribute("data"),aG.dataSrc=aJ.getAttribute(S.vars.dataAttr)}catch(aE){}var aC=null!=aG.data&&0===aG.data.indexOf(aT.domain),O=null!=aG.dataSrc&&0===aG.dataSrc.indexOf(aT.domain);aC?az(aT,aU,aG.data,aJ):O&&az(aT,aU,aG.dataSrc,aJ)}for(aO=0;aO<aS.length;aO++){var J=aS[aO],B={};try{B.src=J.getAttribute("src"),B.dataSrc=J.getAttribute(S.vars.dataAttr),B.rendered=J.getAttribute("data-holder-rendered")}catch(aE){}var q=null!=B.src,h=null!=B.dataSrc&&0===B.dataSrc.indexOf(aT.domain),b=null!=B.rendered&&"true"==B.rendered;q?0===B.src.indexOf(aT.domain)?az(aT,aU,B.src,J):h&&(b?az(aT,aU,B.dataSrc,J):!function(i,g,l,k,j){ac.imageExists(i,function(m){m||az(g,l,k,j)})}(B.src,aT,aU,B.dataSrc,J)):h&&az(aT,aU,B.dataSrc,J)}return this}},S={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(h){var g=this.regex.exec(h);return{width:+g[1],height:+g[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(h){var g=this.regex.exec(h);return{width:g[1],height:g[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(h){var g=this.regex.exec(h);return{foreground:"#"+g[2],background:"#"+g[1]}}},text:{regex:/text\:(.*)/,output:function(b){return this.regex.exec(b)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(b){return this.regex.exec(b)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(b){return this.regex.exec(b)[1]}},random:{regex:/^random$/},size:{regex:/size\:(\d+)/,output:function(b){return this.regex.exec(b)[1]}}}},R=function(){var h=null,g=null,i=null;return function(E){var D=E.root;if(S.setup.supportsSVG){var C=!1,B=function(j){return document.createTextNode(j)};(null==h||h.parentNode!==document.body)&&(C=!0),h=aj(h,D.properties.width,D.properties.height),h.style.display="block",C&&(g=al("text",X),i=B(null),ak(g,{x:0}),g.appendChild(i),h.appendChild(g),document.body.appendChild(h),h.style.visibility="hidden",h.style.position="absolute",h.style.top="-100%",h.style.left="-100%");var A=D.children.holderTextGroup,z=A.properties;ak(g,{y:z.font.size,style:ac.cssProps({"font-weight":z.font.weight,"font-size":z.font.size+z.font.units,"font-family":z.font.family})}),i.nodeValue=z.text;var y=g.getBBox(),x=Math.ceil(y.width/(D.properties.width*S.setup.lineWrapRatio)),w=z.text.split(" "),s=z.text.match(/\\n/g);x+=null==s?0:s.length,i.nodeValue=z.text.replace(/[ ]+/g,"");var r=g.getComputedTextLength(),q=y.width-r,b=Math.round(q/Math.max(1,w.length-1)),H=[];if(x>1){i.nodeValue="";for(var G=0;G<w.length;G++){if(0!==w[G].length){i.nodeValue=ac.decodeHtmlEntity(w[G]);var F=g.getBBox();H.push({text:w[G],width:F.width})}}}return h.style.display="none",{spaceWidth:b,lineCount:x,boundingBox:y,words:H}}return !1}}(),Q=function(){var h=al("canvas"),g=null;return function(s){null==g&&(g=h.getContext("2d"));var r=s.root;h.width=S.dpr(r.properties.width),h.height=S.dpr(r.properties.height),g.textBaseline="middle",g.fillStyle=r.children.holderBg.properties.fill,g.fillRect(0,0,S.dpr(r.children.holderBg.width),S.dpr(r.children.holderBg.height));var q=r.children.holderTextGroup;q.properties;g.font=q.properties.font.weight+" "+S.dpr(q.properties.font.size)+q.properties.font.units+" "+q.properties.font.family+", monospace",g.fillStyle=q.properties.fill;for(var p in q.children){var o=q.children[p];for(var n in o.children){var m=o.children[n],l=S.dpr(q.x+o.x+m.x),b=S.dpr(q.y+o.y+m.y+q.properties.leading/2);g.fillText(m.properties.text,l,b)}}return h.toDataURL("image/png")}}(),P=function(){if(aA.XMLSerializer){var b=ah(),h=aj(null,0,0),g=al("rect",X);return h.appendChild(g),function(aM,aL){var aK=aM.root;aj(h,aK.properties.width,aK.properties.height);for(var aJ=h.querySelectorAll("g"),aI=0;aI<aJ.length;aI++){aJ[aI].parentNode.removeChild(aJ[aI])}var aH=aL.holderSettings.flags.holderURL,aG="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),aF=al("g",X),aE=aK.children.holderTextGroup,aD=aE.properties,aC=al("g",X),aB=aE.textPositionData,O="#"+aG+" text { "+ac.cssProps({fill:aD.fill,"font-weight":aD.font.weight,"font-family":aD.font.family+", monospace","font-size":aD.font.size+aD.font.units})+" } ",J=b.createComment("\nSource URL: "+aH+U),E=b.createCDATASection(O),t=h.querySelector("style");ak(aF,{id:aG}),h.insertBefore(J,h.firstChild),t.appendChild(E),aF.appendChild(g),aF.appendChild(aC),h.appendChild(aF),ak(g,{width:aK.children.holderBg.width,height:aK.children.holderBg.height,fill:aK.children.holderBg.properties.fill}),aE.y+=0.8*aB.boundingBox.height;for(var s in aE.children){var q=aE.children[s];for(var N in q.children){var M=q.children[N],L=aE.x+q.x+M.x,K=aE.y+q.y+M.y,H=al("text",X),z=document.createTextNode(null);ak(H,{x:L,y:K}),z.nodeValue=M.properties.text,H.appendChild(z),aC.appendChild(H)}}var r=c(ai(h,aL.engineSettings),"background"===aL.mode);return r}}}(),c=function(){var h="data:image/svg+xml;charset=UTF-8,",g="data:image/svg+xml;charset=UTF-8;base64,";return function(i,b){return b?g+btoa(unescape(encodeURIComponent(i))):h+encodeURIComponent(i)}}();for(var a in S.flags){S.flags.hasOwnProperty(a)&&(S.flags[a].match=function(b){return b.match(this.regex)})}S.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:0.9,renderers:["html","canvas","svg"]},S.dpr=function(b){return b*S.setup.ratio},S.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{},dataAttr:"data-src"},function(){var b=1,i=1,h=al("canvas"),g=null;h.getContext&&-1!=h.toDataURL("image/png").indexOf("data:image/png")&&(S.setup.renderer="canvas",g=h.getContext("2d"),S.setup.supportsCanvas=!0),S.setup.supportsCanvas&&(b=aA.devicePixelRatio||1,i=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1),S.setup.ratio=b/i,document.createElementNS&&document.createElementNS(X,"svg").createSVGRect&&(S.setup.renderer="svg",S.setup.supportsSVG=!0)}(),an(),ae&&ae(function(){S.vars.preempted||T.run(),aA.addEventListener?(aA.addEventListener("resize",af,!1),aA.addEventListener("orientationchange",af,!1)):aA.attachEvent("onresize",af),"object"==typeof aA.Turbolinks&&aA.document.addEventListener("page:change",function(){T.run()})}),e.exports=T}).call(d,function(){return this}())},function(d){function c(Z){function Y(b){if(!E){if(!T.body){return V(Y)}for(E=!0;b=D.shift();){V(b)}}}function X(b){(G||b.type===R||T[N]===O)&&(W(),Y())}function W(){G?(T[H](J,X,Q),Z[H](R,X,Q)):(T[L](I,X),Z[L](P,X))}function V(f,e){setTimeout(f,+e>=0?e:1)}function U(b){E?V(b):D.push(b)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function B(){document.removeEventListener("DOMContentLoaded",B,!1),document.readyState="complete"},!1),document.readyState="loading");var T=Z.document,S=T.documentElement,R="load",Q=!1,P="on"+R,O="complete",N="readyState",M="attachEvent",L="detachEvent",K="addEventListener",J="DOMContentLoaded",I="onreadystatechange",H="removeEventListener",G=K in T,F=Q,E=Q,D=[];if(T[N]===O){V(Y)}else{if(G){T[K](J,X,Q),Z[K](R,X,Q)}else{T[M](I,X),Z[M](P,X);try{F=null==Z.frameElement&&S}catch(C){}F&&F.doScroll&&!function A(){if(!E){try{F.doScroll("left")}catch(b){return V(A,50)}W(),Y()}}()}}return U.version="1.4.0",U.isReady=function(){return E},U}d.exports="undefined"!=typeof window&&c(window)},function(g,f,j){var i=j(5),h=function(k){function d(q,e){for(var r in e){q[r]=e[r]}return q}var p=1,o=i.defclass({constructor:function(b){p++,this.parent=null,this.children={},this.id=p,this.name="n"+p,null!=b&&(this.name=b),this.x=0,this.y=0,this.z=0,this.width=0,this.height=0},resize:function(e,c){null!=e&&(this.width=e),null!=c&&(this.height=c)},moveTo:function(q,e,r){this.x=null!=q?q:this.x,this.y=null!=e?e:this.y,this.z=null!=r?r:this.z},add:function(e){var c=e.name;if(null!=this.children[c]){throw"SceneGraph: child with that name already exists: "+c}this.children[c]=e,e.parent=this}}),n=i(o,function(a){this.constructor=function(){a.constructor.call(this,"root"),this.properties=k}}),m=i(o,function(b){function e(q,a){if(b.constructor.call(this,q),this.properties={fill:"#000"},null!=a){d(this.properties,a)}else{if(null!=q&&"string"!=typeof q){throw"SceneGraph: invalid node name"}}}this.Group=i.extend(this,{constructor:e,type:"group"}),this.Rect=i.extend(this,{constructor:e,type:"rect"}),this.Text=i.extend(this,{constructor:function(c){e.call(this),this.properties.text=c},type:"text"})}),l=new n;return this.Shape=m,this.root=l,this};g.exports=h},function(d,c){(function(b){c.extend=function(g,f){var j={};for(var i in g){g.hasOwnProperty(i)&&(j[i]=g[i])}if(null!=f){for(var h in f){f.hasOwnProperty(h)&&(j[h]=f[h])}}return j},c.cssProps=function(f){var e=[];for(var g in f){f.hasOwnProperty(g)&&e.push(g+":"+f[g])}return e.join(";")},c.encodeHtmlEntity=function(f){for(var e=[],h=0,g=f.length-1;g>=0;g--){h=f.charCodeAt(g),e.unshift(h>128?["&#",h,";"].join(""):f[g])}return e.join("")},c.getNodeArray=function(a){var e=null;return"string"==typeof a?e=document.querySelectorAll(a):b.NodeList&&a instanceof b.NodeList?e=a:b.Node&&a instanceof b.Node?e=[a]:b.HTMLCollection&&a instanceof b.HTMLCollection?e=a:a instanceof Array?e=a:null===a&&(e=[]),e},c.imageExists=function(f,e){var g=new Image;g.onerror=function(){e.call(this,!1)},g.onload=function(){e.call(this,!0)},g.src=f},c.decodeHtmlEntity=function(e){return e.replace(/&#(\d+);/g,function(g,f){return String.fromCharCode(f)})},c.dimensionCheck=function(f){var e={height:f.clientHeight,width:f.clientWidth};return e.height&&e.width?e:!1},c.truthy=function(e){return"string"==typeof e?"true"===e||"yes"===e||"1"===e||"on"===e||"✓"===e:!!e}}).call(c,function(){return this}())},function(r,q,p){var o=encodeURIComponent,n=decodeURIComponent,m=p(6),l=p(7),k=/(\w+)\[(\d+)\]/,j=/\w+\.\w+/;q.parse=function(w){if("string"!=typeof w){return{}}if(w=m(w),""===w){return{}}"?"===w.charAt(0)&&(w=w.slice(1));for(var v={},u=w.split("&"),t=0;t<u.length;t++){var s,i,h,f=u[t].split("="),e=n(f[0]);if(s=k.exec(e)){v[s[1]]=v[s[1]]||[],v[s[1]][s[2]]=n(f[1])}else{if(s=j.test(e)){for(s=e.split("."),i=v;s.length;){if(h=s.shift(),h.length){if(i[h]){if(i[h]&&"object"!=typeof i[h]){break}}else{i[h]={}}s.length||(i[h]=n(f[1])),i=i[h]}}}else{v[f[0]]=null==f[1]?"":n(f[1])}}}return v},q.stringify=function(g){if(!g){return""}var d=[];for(var s in g){var i=g[s];if("array"!=l(i)){d.push(o(s)+"="+o(g[s]))}else{for(var h=0;h<i.length;++h){d.push(o(s+"["+h+"]")+"="+o(i[h]))}}}return d.join("&")}},function(f){var e=function(){},h=Array.prototype.slice,g=function(b,n){var m=e.prototype="function"==typeof b?b.prototype:b,l=new e,k=n.apply(l,h.call(arguments,2).concat(m));if("object"==typeof k){for(var j in k){l[j]=k[j]}}if(!l.hasOwnProperty("constructor")){return l}var c=l.constructor;return c.prototype=l,c};g.defclass=function(d){var c=d.constructor;return c.prototype=d,c},g.extend=function(d,c){return g(d,function(b){return this.uber=b,c})},f.exports=g},function(e,d){function f(b){return b.replace(/^\s*|\s*$/g,"")}d=e.exports=f,d.left=function(b){return b.replace(/^\s*/,"")},d.right=function(b){return b.replace(/\s*$/,"")}},function(d){var c=Object.prototype.toString;d.exports=function(b){switch(c.call(b)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===b?"null":void 0===b?"undefined":b!==b?"nan":b&&1===b.nodeType?"element":(b=b.valueOf?b.valueOf():Object.prototype.valueOf.apply(b),typeof b)}}])}),function(d,c){c&&(Holder=d.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);