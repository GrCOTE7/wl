!function(){var a={};a.dev=!1,a.tooltip=a.tooltip||{},a.utils=a.utils||{},a.models=a.models||{},a.charts={},a.logs={},a.dom={},a.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var k=Array.prototype.slice.call(arguments,1),b=this,c=function(){},d=function(){return b.apply(this instanceof c&&e?this:e,k.concat(Array.prototype.slice.call(arguments)))};return c.prototype=this.prototype,d.prototype=new c,d}),a.dev&&(a.dispatch.on("render_start",function(){a.logs.startTime=+new Date}),a.dispatch.on("render_end",function(){a.logs.endTime=+new Date,a.logs.totalTime=a.logs.endTime-a.logs.startTime,a.log("total",a.logs.totalTime)})),a.log=function(){if(a.dev&&window.console&&console.log&&console.log.apply){console.log.apply(console,arguments)}else{if(a.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var b=Function.prototype.bind.call(console.log,console);b.apply(console,arguments)}}return arguments[arguments.length-1]},a.deprecated=function(b,e){console&&console.warn&&console.warn("nvd3 warning: `"+b+"` has been deprecated. ",e||"")},a.render=function(b){b=b||1,a.render.active=!0,a.dispatch.render_start();var c=function(){for(var d,e,f=0;b>f&&(e=a.render.queue[f]);f++){d=e.generate(),typeof e.callback==typeof Function&&e.callback(d)}a.render.queue.splice(0,f),a.render.queue.length?setTimeout(c):(a.dispatch.render_end(),a.render.active=!1)};setTimeout(c)},a.render.active=!1,a.render.queue=[],a.addGraph=function(b){typeof arguments[0]==typeof Function&&(b={generate:arguments[0],callback:arguments[1]}),a.render.queue.push(b),a.render.active||a.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=a),"undefined"!=typeof window&&(window.nv=a),a.dom.write=function(b){return void 0!==window.fastdom?fastdom.write(b):b()},a.dom.read=function(b){return void 0!==window.fastdom?fastdom.read(b):b()},a.interactiveGuideline=function(){function j(l){l.each(function(r){function s(){var C=d3.mouse(this),D=C[0],t=C[1],z=!0,B=!1;if(i&&(D=d3.event.offsetX,t=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(z=!1),d3.event.target.className.baseVal.match("nv-legend")&&(B=!0)),z&&(D-=d.left,t-=d.top),0>D||0>t||D>n||t>o||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||B){if(i&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(k.nvPointerEventsClass))){return}return f.elementMouseout({mouseX:D,mouseY:t}),j.renderGuideLine(null),void k.hidden(!0)}k.hidden(!1);var A=e.invert(D);f.elementMousemove({mouseX:D,mouseY:t,pointXValue:A}),"dblclick"===d3.event.type&&f.elementDblclick({mouseX:D,mouseY:t,pointXValue:A}),"click"===d3.event.type&&f.elementClick({mouseX:D,mouseY:t,pointXValue:A})}var m=d3.select(this),n=b||960,o=c||400,p=m.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([r]),q=p.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");q.append("g").attr("class","nv-interactiveGuideLine"),h&&(h.on("touchmove",s).on("mousemove",s,!0).on("mouseout",s,!0).on("dblclick",s).on("click",s),j.guideLine=null,j.renderGuideLine=function(t){g&&(j.guideLine&&j.guideLine.attr("x1")===t||a.dom.write(function(){var v=p.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[a.utils.NaNtoZero(t)]:[],String);v.enter().append("line").attr("class","nv-guideline").attr("x1",function(u){return u}).attr("x2",function(u){return u}).attr("y1",o).attr("y2",0),v.exit().remove()}))})})}var k=a.models.tooltip();k.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var b=null,c=null,d={left:0,top:0},e=d3.scale.linear(),f=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),g=!0,h=null,i="ActiveXObject" in window;return j.dispatch=f,j.tooltip=k,j.margin=function(l){return arguments.length?(d.top="undefined"!=typeof l.top?l.top:d.top,d.left="undefined"!=typeof l.left?l.left:d.left,j):d},j.width=function(l){return arguments.length?(b=l,j):b},j.height=function(l){return arguments.length?(c=l,j):c},j.xScale=function(l){return arguments.length?(e=l,j):e},j.showGuideLine=function(l){return arguments.length?(g=l,j):g},j.svgContainer=function(l){return arguments.length?(h=l,j):h},j},a.interactiveBisect=function(j,u,b){if(!(j instanceof Array)){return null}var c;c="function"!=typeof b?function(k){return k.x}:b;var d=function(k,l){return c(k)-l},e=d3.bisector(d).left,f=d3.max([0,e(j,u)-1]),g=c(j[f]);if("undefined"==typeof g&&(g=f),g===u){return f}var h=d3.min([f+1,j.length-1]),i=c(j[h]);return"undefined"==typeof i&&(i=h),Math.abs(i-u)>=Math.abs(g-u)?f:h},a.nearestValueIndex=function(e,k,b){var c=1/0,d=null;return e.forEach(function(h,f){var g=Math.abs(k-h);null!=h&&c>=g&&b>g&&(c=g,d=f)}),d},function(){a.models.tooltip=function(){function y(){if(g){var E=d3.select(g);"svg"!==E.node().tagName&&(E=E.select("svg"));var F=E.node()?E.attr("viewBox"):null;if(F){F=F.split(" ");var D=parseInt(E.style("width"),10)/F[2];l.left=l.left*D,l.top=l.top*D}}}function z(){if(!j){var D;D=g?g:document.body,j=d3.select(D).append("div").attr("class","nvtooltip "+(f?f:"xy-tooltip")).attr("id",u),j.style("top",0).style("left",0),j.style("opacity",0),j.selectAll("div, table, td, tr").classed(v,!0),j.classed(v,!0),k=j.node()}}function B(){if(p&&o(C)){y();var D=l.left,E=null!==e?e:l.top;return a.dom.write(function(){z();var F=m(C);F&&(k.innerHTML=F),g&&t?a.dom.read(function(){var K=g.getElementsByTagName("svg")[0],L={left:0,top:0};if(K){var G=K.getBoundingClientRect(),H=g.getBoundingClientRect(),I=G.top;if(0>I){var J=g.getBoundingClientRect();I=Math.abs(I)>J.height?0:I}L.top=Math.abs(I-H.top),L.left=Math.abs(G.left-H.left)}D+=g.offsetLeft+L.left-2*g.scrollLeft,E+=g.offsetTop+L.top-2*g.scrollTop,d&&d>0&&(E=Math.floor(E/d)*d),q([D,E])}):q([D,E])}),B}}var C=null,b="w",c=25,d=0,e=null,f=null,g=null,h=!0,i=400,j=null,k=null,l={left:null,top:null},n={left:0,top:0},p=!0,r=100,s=!0,t=!1,u="nvtooltip-"+Math.floor(100000*Math.random()),v="nv-pointer-events-none",w=function(D){return D},x=function(D){return D},A=function(D){return D},m=function(H){if(null===H){return""}var I=d3.select(document.createElement("table"));if(s){var D=I.selectAll("thead").data([H]).enter().append("thead");D.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(x(H.value))}var E=I.selectAll("tbody").data([H]).enter().append("tbody"),F=E.selectAll("tr").data(function(J){return J.series}).enter().append("tr").classed("highlight",function(J){return J.highlight});F.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(J){return J.color}),F.append("td").classed("key",!0).html(function(J,K){return A(J.key,K)}),F.append("td").classed("value",!0).html(function(J,K){return w(J.value,K)}),F.selectAll("td").each(function(K){if(K.highlight){var L=d3.scale.linear().domain([0,1]).range(["#fff",K.color]),J=0.6;d3.select(this).style("border-bottom-color",L(J)).style("border-top-color",L(J))}});var G=I.node().outerHTML;return void 0!==H.footer&&(G+="<div class='footer'>"+H.footer+"</div>"),G},o=function(D){if(D&&D.series){if(D.series instanceof Array){return !!D.series.length}if(D.series instanceof Object){return D.series=[D.series],!0}}return !1},q=function(D){k&&a.dom.read(function(){var T,G,U=parseInt(k.offsetHeight,10),F=parseInt(k.offsetWidth,10),H=a.utils.windowSize().width,I=a.utils.windowSize().height,J=window.pageYOffset,L=window.pageXOffset;I=window.innerWidth>=document.body.scrollWidth?I:I-16,H=window.innerHeight>=document.body.scrollHeight?H:H-16;var M,N,O=function(V){var W=G;do{isNaN(V.offsetTop)||(W+=V.offsetTop),V=V.offsetParent}while(V);return W},P=function(V){var W=T;do{isNaN(V.offsetLeft)||(W+=V.offsetLeft),V=V.offsetParent}while(V);return W};switch(b){case"e":T=D[0]-F-c,G=D[1]-U/2,M=P(k),N=O(k),L>M&&(T=D[0]+c>L?D[0]+c:L-M+T),J>N&&(G=J-N+G),N+U>J+I&&(G=J+I-N+G-U);break;case"w":T=D[0]+c,G=D[1]-U/2,M=P(k),N=O(k),M+F>H&&(T=D[0]-F-c),J>N&&(G=J+5),N+U>J+I&&(G=J+I-N+G-U);break;case"n":T=D[0]-F/2-5,G=D[1]+c,M=P(k),N=O(k),L>M&&(T=L+5),M+F>H&&(T=T-F/2+5),N+U>J+I&&(G=J+I-N+G-U);break;case"s":T=D[0]-F/2,G=D[1]-U-c,M=P(k),N=O(k),L>M&&(T=L+5),M+F>H&&(T=T-F/2+5),J>N&&(G=J);break;case"none":T=D[0],G=D[1]-c,M=P(k),N=O(k)}T-=n.left,G-=n.top;var Q=k.getBoundingClientRect(),J=window.pageYOffset||document.documentElement.scrollTop,L=window.pageXOffset||document.documentElement.scrollLeft,R="translate("+(Q.left+L)+"px, "+(Q.top+J)+"px)",S="translate("+T+"px, "+G+"px)",E=d3.interpolateString(R,S),K=j.style("opacity")<0.1;h?j.transition().delay(i).duration(0).style("opacity",0):j.interrupt().transition().duration(K?0:r).styleTween("transform",function(){return E},"important").style("-webkit-transform",S).style("opacity",1)})};return B.nvPointerEventsClass=v,B.options=a.utils.optionsFunc.bind(B),B._options=Object.create({},{duration:{get:function(){return r},set:function(D){r=D}},gravity:{get:function(){return b},set:function(D){b=D}},distance:{get:function(){return c},set:function(D){c=D}},snapDistance:{get:function(){return d},set:function(D){d=D}},classes:{get:function(){return f},set:function(D){f=D}},chartContainer:{get:function(){return g},set:function(D){g=D}},fixedTop:{get:function(){return e},set:function(D){e=D}},enabled:{get:function(){return p},set:function(D){p=D}},hideDelay:{get:function(){return i},set:function(D){i=D}},contentGenerator:{get:function(){return m},set:function(D){m=D}},valueFormatter:{get:function(){return w},set:function(D){w=D}},headerFormatter:{get:function(){return x},set:function(D){x=D}},keyFormatter:{get:function(){return A},set:function(D){A=D}},headerEnabled:{get:function(){return s},set:function(D){s=D}},_isInteractiveLayer:{get:function(){return t},set:function(D){t=!!D}},position:{get:function(){return l},set:function(D){l.left=void 0!==D.left?D.left:l.left,l.top=void 0!==D.top?D.top:l.top}},offset:{get:function(){return n},set:function(D){n.left=void 0!==D.left?D.left:n.left,n.top=void 0!==D.top?D.top:n.top}},hidden:{get:function(){return h},set:function(D){h!=D&&(h=!!D,B())}},data:{get:function(){return C},set:function(D){D.point&&(D.value=D.point.x,D.series=D.series||{},D.series.value=D.point.y,D.series.color=D.point.color||D.series.color),C=D}},tooltipElem:{get:function(){return k},set:function(){}},id:{get:function(){return u},set:function(){}}}),a.utils.initOptions(B),B}}(),a.utils.windowSize=function(){var b={width:640,height:480};return window.innerWidth&&window.innerHeight?(b.width=window.innerWidth,b.height=window.innerHeight,b):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(b.width=document.documentElement.offsetWidth,b.height=document.documentElement.offsetHeight,b):document.body&&document.body.offsetWidth?(b.width=document.body.offsetWidth,b.height=document.body.offsetHeight,b):b},a.utils.windowResize=function(b){return window.addEventListener?window.addEventListener("resize",b):a.log("ERROR: Failed to bind to window.resize with: ",b),{callback:b,clear:function(){window.removeEventListener("resize",b)}}},a.utils.getColor=function(b){if(void 0===b){return a.utils.defaultColor()}if(Array.isArray(b)){var c=d3.scale.ordinal().range(b);return function(g,h){var d=void 0===h?g:h;return g.color||c(d)}}return b},a.utils.defaultColor=function(){return a.utils.getColor(d3.scale.category20().range())},a.utils.customTheme=function(d,i,b){i=i||function(e){return e.key},b=b||d3.scale.category20().range();var c=b.length;return function(f){var e=i(f);return"function"==typeof d[e]?d[e]():void 0!==d[e]?d[e]:(c||(c=b.length),c-=1,b[c])}},a.utils.pjax=function(b,c){var d=function(e){d3.html(e,function(f){var i=d3.select(c).node();i.parentNode.replaceChild(d3.select(f).select(c).node(),i),a.utils.pjax(b,c)})};d3.selectAll(b).on("click",function(){history.pushState(this.href,this.textContent,this.href),d(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})},a.utils.calcApproxTextWidth=function(c){if("function"==typeof c.style&&"function"==typeof c.text){var g=parseInt(c.style("font-size").replace("px",""),10),b=c.text().length;return b*g*0.5}return 0},a.utils.NaNtoZero=function(b){return"number"!=typeof b||isNaN(b)||null===b||1/0===b||b===-1/0?0:b},d3.selection.prototype.watchTransition=function(b){var e=[this].concat([].slice.call(arguments,1));return b.transition.apply(b,e)},a.utils.renderWatch=function(b,c){if(!(this instanceof a.utils.renderWatch)){return new a.utils.renderWatch(b,c)}var d=void 0!==c?c:250,e=[],f=this;this.models=function(g){return g=[].slice.call(arguments,0),g.forEach(function(h){h.__rendered=!1,function(i){i.dispatch.on("renderEnd",function(){i.__rendered=!0,f.renderEnd("model")})}(h),e.indexOf(h)<0&&e.push(h)}),this},this.reset=function(g){void 0!==g&&(d=g),e=[]},this.transition=function(i,j,g){if(j=arguments.length>1?[].slice.call(arguments,1):[],g=j.length>1?j.pop():void 0!==d?d:250,i.__rendered=!1,e.indexOf(i)<0&&e.push(i),0===g){return i.__rendered=!0,i.delay=function(){return this},i.duration=function(){return this},i}i.__rendered=0===i.length?!0:i.every(function(k){return !k.length})?!0:!1;var h=0;return i.transition().duration(g).each(function(){++h}).each("end",function(){0===--h&&(i.__rendered=!0,f.renderEnd.apply(this,j))})},this.renderEnd=function(){e.every(function(g){return g.__rendered})&&(e.forEach(function(g){g.__rendered=!1}),b.renderEnd.apply(this,arguments))}},a.utils.deepExtend=function(b){var c=arguments.length>1?[].slice.call(arguments,1):[];c.forEach(function(d){for(var e in d){var f=b[e] instanceof Array,g="object"==typeof b[e],m="object"==typeof d[e];g&&!f&&m?a.utils.deepExtend(b[e],d[e]):b[e]=d[e]}})},a.utils.state=function(){if(!(this instanceof a.utils.state)){return new a.utils.state}var c={},b=function(){},d=function(){return{}},e=null,f=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(h){b(h,!0)}),this.getter=function(h){return d=h,this},this.setter=function(h,i){return i||(i=function(){}),b=function(j,k){h(j),k&&i()},this},this.init=function(h){e=e||{},a.utils.deepExtend(e,h)};var g=function(){var i=d();if(JSON.stringify(i)===JSON.stringify(c)){return !1}for(var h in i){void 0===c[h]&&(c[h]={}),c[h]=i[h],f=!0}return !0};this.update=function(){e&&(b(e,!1),e=null),g.call(this)&&this.dispatch.change(c)}},a.utils.optionsFunc=function(b){return b&&d3.map(b).forEach(function(c,f){"function"==typeof this[c]&&this[c](f)}.bind(this)),this},a.utils.calcTicksX=function(b,c){var d=1,e=0;for(e;e<c.length;e+=1){var f=c[e]&&c[e].values?c[e].values.length:0;d=f>d?f:d}return a.log("Requested number of ticks: ",b),a.log("Calculated max values to be: ",d),b=b>d?b=d-1:b,b=1>b?1:b,b=Math.floor(b),a.log("Calculating tick count as: ",b),b},a.utils.calcTicksY=function(b,c){return a.utils.calcTicksX(b,c)},a.utils.initOption=function(b,e){b._calls&&b._calls[e]?b[e]=b._calls[e]:(b[e]=function(c){return arguments.length?(b._overrides[e]=!0,b._options[e]=c,b):b._options[e]},b["_"+e]=function(c){return arguments.length?(b._overrides[e]||(b._options[e]=c),b):b._options[e]})},a.utils.initOptions=function(b){b._overrides=b._overrides||{};var c=Object.getOwnPropertyNames(b._options||{}),d=Object.getOwnPropertyNames(b._calls||{});c=c.concat(d);for(var e in c){a.utils.initOption(b,c[e])}},a.utils.inheritOptionsD3=function(c,g,b){c._d3options=b.concat(c._d3options||[]),b.unshift(g),b.unshift(c),d3.rebind.apply(this,b)},a.utils.arrayUnique=function(b){return b.sort().filter(function(c,e){return !e||c!=b[e-1]})},a.utils.symbolMap=d3.map(),a.utils.symbol=function(){function b(j,e){var f=c.call(this,j,e),g=d.call(this,j,e);return -1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(g)():a.utils.symbolMap.get(f)(g)}var c,d=64;return b.type=function(e){return arguments.length?(c=d3.functor(e),b):c},b.size=function(e){return arguments.length?(d=d3.functor(e),b):d},b},a.utils.inheritOptions=function(d,h){var b=Object.getOwnPropertyNames(h._options||{}),c=Object.getOwnPropertyNames(h._calls||{}),e=h._inherited||[],f=h._d3options||[],g=b.concat(c).concat(e).concat(f);g.unshift(h),g.unshift(d),d3.rebind.apply(this,g),d._inherited=a.utils.arrayUnique(b.concat(c).concat(e).concat(b).concat(d._inherited||[])),d._d3options=a.utils.arrayUnique(f.concat(d._d3options||[]))},a.utils.initSVG=function(b){b.classed({"nvd3-svg":!0})},a.utils.sanitizeHeight=function(b,e){return b||parseInt(e.style("height"),10)||400},a.utils.sanitizeWidth=function(b,e){return b||parseInt(e.style("width"),10)||960},a.utils.availableHeight=function(b,c,d){return a.utils.sanitizeHeight(b,c)-d.top-d.bottom},a.utils.availableWidth=function(b,c,d){return a.utils.sanitizeWidth(b,c)-d.left-d.right},a.utils.noData=function(i,j){var k=i.options(),l=k.margin(),b=k.noData(),c=null==b?["No Data Available."]:[b],d=a.utils.availableHeight(k.height(),j,l),e=a.utils.availableWidth(k.width(),j,l),f=l.left+e/2,g=l.top+d/2;j.selectAll("g").remove();var h=j.selectAll(".nv-noData").data(c);h.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),h.attr("x",f).attr("y",g).text(function(m){return m})},a.models.axis=function(){function c(t){return s.reset(),t.each(function(w){var z=d3.select(this);a.utils.initSVG(z);var B=z.selectAll("g.nv-wrap.nv-axis").data([w]),D=B.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),H=(D.append("g"),B.select("g"));null!==f?e.ticks(f):("top"==e.orient()||"bottom"==e.orient())&&e.ticks(Math.abs(g.range()[1]-g.range()[0])/100),H.watchTransition(s,"axis").call(e),n=n||e.scale();var I=e.tickFormat();null==I&&(I=n.tickFormat());var J=H.selectAll("text.nv-axislabel").data([o||null]);J.exit().remove();var u,v,x;switch(e.orient()){case"top":J.enter().append("text").attr("class","nv-axislabel"),x=g.range().length<2?0:2===g.range().length?g.range()[1]:g.range()[g.range().length-1]+(g.range()[1]-g.range()[0]),J.attr("text-anchor","middle").attr("y",0).attr("x",x/2),p&&(v=B.selectAll("g.nv-axisMaxMin").data(g.domain()),v.enter().append("g").attr("class",function(L,K){return["nv-axisMaxMin","nv-axisMaxMin-x",0==K?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),v.exit().remove(),v.attr("transform",function(K){return"translate("+a.utils.NaNtoZero(g(K))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(L){var K=I(L);return(""+K).match("NaN")?"":K}),v.watchTransition(s,"min-max top").attr("transform",function(K,L){return"translate("+a.utils.NaNtoZero(g.range()[L])+",0)"}));break;case"bottom":u=h+36;var y=30,A=0,C=H.selectAll("g").select("text"),E="";if(q%360){C.each(function(){var L=this.getBoundingClientRect(),K=L.width;A=L.height,K>y&&(y=K)}),E="rotate("+q+" 0,"+(A/2+e.tickPadding())+")";var G=Math.abs(Math.sin(q*Math.PI/180));u=(G?G*y:y)+30,C.attr("transform",E).style("text-anchor",q%360>0?"start":"end")}J.enter().append("text").attr("class","nv-axislabel"),x=g.range().length<2?0:2===g.range().length?g.range()[1]:g.range()[g.range().length-1]+(g.range()[1]-g.range()[0]),J.attr("text-anchor","middle").attr("y",u).attr("x",x/2),p&&(v=B.selectAll("g.nv-axisMaxMin").data([g.domain()[0],g.domain()[g.domain().length-1]]),v.enter().append("g").attr("class",function(L,K){return["nv-axisMaxMin","nv-axisMaxMin-x",0==K?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),v.exit().remove(),v.attr("transform",function(K){return"translate("+a.utils.NaNtoZero(g(K)+(d?g.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",E).style("text-anchor",q?q%360>0?"start":"end":"middle").text(function(L){var K=I(L);return(""+K).match("NaN")?"":K}),v.watchTransition(s,"min-max bottom").attr("transform",function(K){return"translate("+a.utils.NaNtoZero(g(K)+(d?g.rangeBand()/2:0))+",0)"})),b&&C.attr("transform",function(L,K){return"translate(0,"+(K%2==0?"0":"12")+")"});break;case"right":J.enter().append("text").attr("class","nv-axislabel"),J.style("text-anchor",r?"middle":"begin").attr("transform",r?"rotate(90)":"").attr("y",r?-Math.max(i.right,k)+12:-10).attr("x",r?d3.max(g.range())/2:e.tickPadding()),p&&(v=B.selectAll("g.nv-axisMaxMin").data(g.domain()),v.enter().append("g").attr("class",function(L,K){return["nv-axisMaxMin","nv-axisMaxMin-y",0==K?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),v.exit().remove(),v.attr("transform",function(K){return"translate(0,"+a.utils.NaNtoZero(g(K))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(L){var K=I(L);return(""+K).match("NaN")?"":K}),v.watchTransition(s,"min-max right").attr("transform",function(K,L){return"translate(0,"+a.utils.NaNtoZero(g.range()[L])+")"}).select("text").style("opacity",1));break;case"left":J.enter().append("text").attr("class","nv-axislabel"),J.style("text-anchor",r?"middle":"end").attr("transform",r?"rotate(-90)":"").attr("y",r?-Math.max(i.left,k)+25-(h||0):-10).attr("x",r?-d3.max(g.range())/2:-e.tickPadding()),p&&(v=B.selectAll("g.nv-axisMaxMin").data(g.domain()),v.enter().append("g").attr("class",function(L,K){return["nv-axisMaxMin","nv-axisMaxMin-y",0==K?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),v.exit().remove(),v.attr("transform",function(K){return"translate(0,"+a.utils.NaNtoZero(n(K))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(L){var K=I(L);return(""+K).match("NaN")?"":K}),v.watchTransition(s,"min-max right").attr("transform",function(K,L){return"translate(0,"+a.utils.NaNtoZero(g.range()[L])+")"}).select("text").style("opacity",1))}if(J.text(function(K){return K}),!p||"left"!==e.orient()&&"right"!==e.orient()||(H.selectAll("g").each(function(K){d3.select(this).select("text").attr("opacity",1),(g(K)<g.range()[1]+10||g(K)>g.range()[0]-10)&&((K>1e-10||-1e-10>K)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),g.domain()[0]==g.domain()[1]&&0==g.domain()[0]&&B.selectAll("g.nv-axisMaxMin").style("opacity",function(L,K){return K?0:1})),p&&("top"===e.orient()||"bottom"===e.orient())){var F=[];B.selectAll("g.nv-axisMaxMin").each(function(M,K){try{F.push(K?g(M)-this.getBoundingClientRect().width-4:g(M)+this.getBoundingClientRect().width+4)}catch(L){F.push(K?g(M)-4:g(M)+4)}}),H.selectAll("g").each(function(K){(g(K)<F[0]||g(K)>F[1])&&(K>1e-10||-1e-10>K?d3.select(this).remove():d3.select(this).select("text").remove())})}H.selectAll(".tick").filter(function(K){return !parseFloat(Math.round(100000*K)/1000000)&&void 0!==K}).classed("zero",!0),n=g.copy()}),s.renderEnd("axis immediate"),c}var e=d3.svg.axis(),g=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},k=75,m=60,o=null,p=!0,q=0,r=!0,b=!1,d=!1,f=null,h=0,j=250,l=d3.dispatch("renderEnd");e.scale(g).orient("bottom").tickFormat(function(t){return t});var n,s=a.utils.renderWatch(l,j);return c.axis=e,c.dispatch=l,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{axisLabelDistance:{get:function(){return h},set:function(t){h=t}},staggerLabels:{get:function(){return b},set:function(t){b=t}},rotateLabels:{get:function(){return q},set:function(t){q=t}},rotateYLabel:{get:function(){return r},set:function(t){r=t}},showMaxMin:{get:function(){return p},set:function(t){p=t}},axisLabel:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return m},set:function(t){m=t}},ticks:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return j},set:function(t){j=t,s.reset(j)}},scale:{get:function(){return g},set:function(t){g=t,e.scale(g),d="function"==typeof g.rangeBands,a.utils.inheritOptionsD3(c,g,["domain","range","rangeBand","rangeBands"])}}}),a.utils.initOptions(c),a.utils.inheritOptionsD3(c,e,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),a.utils.inheritOptionsD3(c,g,["domain","range","rangeBand","rangeBands"]),c},a.models.boxPlot=function(){function b(w){return v.reset(),w.each(function(B){var E=n-l.left-l.right,G=o-l.top-l.bottom;h=d3.select(this),a.utils.initSVG(h),q.domain(c||B.map(function(L,K){return s(L,K)})).rangeBands(e||[0,E],0.1);var z=[];if(!d){var A=d3.min(B.map(function(L){var K=[];return K.push(L.values.Q1),L.values.hasOwnProperty("whisker_low")&&null!==L.values.whisker_low&&K.push(L.values.whisker_low),L.values.hasOwnProperty("outliers")&&null!==L.values.outliers&&(K=K.concat(L.values.outliers)),d3.min(K)})),C=d3.max(B.map(function(L){var K=[];return K.push(L.values.Q3),L.values.hasOwnProperty("whisker_high")&&null!==L.values.whisker_high&&K.push(L.values.whisker_high),L.values.hasOwnProperty("outliers")&&null!==L.values.outliers&&(K=K.concat(L.values.outliers)),d3.max(K)}));z=[A,C]}r.domain(d||z),r.range(f||[G,0]),g=g||q,j=j||r.copy().range([r(0),r(0)]);var D=h.selectAll("g.nv-wrap").data([B]);D.enter().append("g").attr("class","nvd3 nv-wrap");D.attr("transform","translate("+l.left+","+l.top+")");var F=D.selectAll(".nv-boxplot").data(function(K){return K}),H=F.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);F.attr("class","nv-boxplot").attr("transform",function(L,K){return"translate("+(q(s(L,K))+0.05*q.rangeBand())+", 0)"}).classed("hover",function(K){return K.hover}),F.watchTransition(v,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",0.75).delay(function(K,L){return L*k/B.length}).attr("transform",function(L,K){return"translate("+(q(s(L,K))+0.05*q.rangeBand())+", 0)"}),F.exit().remove(),H.each(function(M,K){var L=d3.select(this);["low","high"].forEach(function(N){M.values.hasOwnProperty("whisker_"+N)&&null!==M.values["whisker_"+N]&&(L.append("line").style("stroke",M.color?M.color:u(M,K)).attr("class","nv-boxplot-whisker nv-boxplot-"+N),L.append("line").style("stroke",M.color?M.color:u(M,K)).attr("class","nv-boxplot-tick nv-boxplot-"+N))})});var I=F.selectAll(".nv-boxplot-outlier").data(function(K){return K.values.hasOwnProperty("outliers")&&null!==K.values.outliers?K.values.outliers:[]});I.enter().append("circle").style("fill",function(M,K,L){return u(M,L)}).style("stroke",function(M,K,L){return u(M,L)}).on("mouseover",function(M,K,L){d3.select(this).classed("hover",!0),i.elementMouseover({series:{key:M,color:u(M,L)},e:d3.event})}).on("mouseout",function(M,K,L){d3.select(this).classed("hover",!1),i.elementMouseout({series:{key:M,color:u(M,L)},e:d3.event})}).on("mousemove",function(){i.elementMousemove({e:d3.event})}),I.attr("class","nv-boxplot-outlier"),I.watchTransition(v,"nv-boxplot: nv-boxplot-outlier").attr("cx",0.45*q.rangeBand()).attr("cy",function(K){return r(K)}).attr("r","3"),I.exit().remove();var J=function(){return null===m?0.9*q.rangeBand():Math.min(75,0.9*q.rangeBand())},x=function(){return 0.45*q.rangeBand()-J()/2},y=function(){return 0.45*q.rangeBand()+J()/2};["low","high"].forEach(function(L){var K="low"===L?"Q1":"Q3";F.select("line.nv-boxplot-whisker.nv-boxplot-"+L).watchTransition(v,"nv-boxplot: boxplots").attr("x1",0.45*q.rangeBand()).attr("y1",function(M){return r(M.values["whisker_"+L])}).attr("x2",0.45*q.rangeBand()).attr("y2",function(M){return r(M.values[K])}),F.select("line.nv-boxplot-tick.nv-boxplot-"+L).watchTransition(v,"nv-boxplot: boxplots").attr("x1",x).attr("y1",function(M){return r(M.values["whisker_"+L])}).attr("x2",y).attr("y2",function(M){return r(M.values["whisker_"+L])})}),["low","high"].forEach(function(K){H.selectAll(".nv-boxplot-"+K).on("mouseover",function(N,L,M){d3.select(this).classed("hover",!0),i.elementMouseover({series:{key:N.values["whisker_"+K],color:u(N,M)},e:d3.event})}).on("mouseout",function(N,L,M){d3.select(this).classed("hover",!1),i.elementMouseout({series:{key:N.values["whisker_"+K],color:u(N,M)},e:d3.event})}).on("mousemove",function(){i.elementMousemove({e:d3.event})})}),H.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(L,K){d3.select(this).classed("hover",!0),i.elementMouseover({key:L.label,value:L.label,series:[{key:"Q3",value:L.values.Q3,color:L.color||u(L,K)},{key:"Q2",value:L.values.Q2,color:L.color||u(L,K)},{key:"Q1",value:L.values.Q1,color:L.color||u(L,K)}],data:L,index:K,e:d3.event})}).on("mouseout",function(L,K){d3.select(this).classed("hover",!1),i.elementMouseout({key:L.label,value:L.label,series:[{key:"Q3",value:L.values.Q3,color:L.color||u(L,K)},{key:"Q2",value:L.values.Q2,color:L.color||u(L,K)},{key:"Q1",value:L.values.Q1,color:L.color||u(L,K)}],data:L,index:K,e:d3.event})}).on("mousemove",function(){i.elementMousemove({e:d3.event})}),F.select("rect.nv-boxplot-box").watchTransition(v,"nv-boxplot: boxes").attr("y",function(K){return r(K.values.Q3)}).attr("width",J).attr("x",x).attr("height",function(K){return Math.abs(r(K.values.Q3)-r(K.values.Q1))||1}).style("fill",function(L,K){return L.color||u(L,K)}).style("stroke",function(L,K){return L.color||u(L,K)}),H.append("line").attr("class","nv-boxplot-median"),F.select("line.nv-boxplot-median").watchTransition(v,"nv-boxplot: boxplots line").attr("x1",x).attr("y1",function(K){return r(K.values.Q2)}).attr("x2",y).attr("y2",function(K){return r(K.values.Q2)}),g=q.copy(),j=r.copy()}),v.renderEnd("nv-boxplot immediate"),b}var c,d,e,f,g,j,l={top:0,right:0,bottom:0,left:0},n=960,o=500,p=Math.floor(10000*Math.random()),q=d3.scale.ordinal(),r=d3.scale.linear(),s=function(w){return w.x},t=function(w){return w.y},u=a.utils.defaultColor(),h=null,i=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),k=250,m=null,v=a.utils.renderWatch(i,k);return b.dispatch=i,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return n},set:function(w){n=w}},height:{get:function(){return o},set:function(w){o=w}},maxBoxWidth:{get:function(){return m},set:function(w){m=w}},x:{get:function(){return s},set:function(w){s=w}},y:{get:function(){return t},set:function(w){t=w}},xScale:{get:function(){return q},set:function(w){q=w}},yScale:{get:function(){return r},set:function(w){r=w}},xDomain:{get:function(){return c},set:function(w){c=w}},yDomain:{get:function(){return d},set:function(w){d=w}},xRange:{get:function(){return e},set:function(w){e=w}},yRange:{get:function(){return f},set:function(w){f=w}},id:{get:function(){return p},set:function(w){p=w}},margin:{get:function(){return l},set:function(w){l.top=void 0!==w.top?w.top:l.top,l.right=void 0!==w.right?w.right:l.right,l.bottom=void 0!==w.bottom?w.bottom:l.bottom,l.left=void 0!==w.left?w.left:l.left}},color:{get:function(){return u},set:function(w){u=a.utils.getColor(w)}},duration:{get:function(){return k},set:function(w){k=w,v.reset(k)}}}),a.utils.initOptions(b),b},a.models.boxPlotChart=function(){function b(u){return t.reset(),t.models(g),r&&t.models(i),s&&t.models(k),u.each(function(C){var E=d3.select(this);a.utils.initSVG(E);var v=(o||parseInt(E.style("width"))||960)-n.left-n.right,w=(p||parseInt(E.style("height"))||400)-n.top-n.bottom;if(b.update=function(){l.beforeUpdate(),E.transition().duration(m).call(b)},b.container=this,!(C&&C.length&&C.filter(function(G){return G.values.hasOwnProperty("Q1")&&G.values.hasOwnProperty("Q2")&&G.values.hasOwnProperty("Q3")}).length)){var x=E.selectAll(".nv-noData").data([j]);return x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),x.attr("x",n.left+v/2).attr("y",n.top+w/2).text(function(G){return G}),b}E.selectAll(".nv-noData").remove(),c=g.xScale(),e=g.yScale().clamp(!0);var y=E.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([C]),z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=z.append("defs"),B=y.select("g");z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),z.append("g").attr("class","nv-barsWrap"),B.attr("transform","translate("+n.left+","+n.top+")"),d&&B.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)"),g.width(v).height(w);var D=B.select(".nv-barsWrap").datum(C.filter(function(G){return !G.disabled}));if(D.transition().call(g),A.append("clipPath").attr("id","nv-x-label-clip-"+g.id()).append("rect"),B.select("#nv-x-label-clip-"+g.id()+" rect").attr("width",c.rangeBand()*(f?2:1)).attr("height",16).attr("x",-c.rangeBand()/(f?1:2)),r){i.scale(c).ticks(a.utils.calcTicksX(v/100,C)).tickSize(-w,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),B.select(".nv-x.nv-axis").call(i);var F=B.select(".nv-x.nv-axis").selectAll("g");f&&F.selectAll("text").attr("transform",function(I,G,H){return"translate(0,"+(H%2==0?"5":"17")+")"})}s&&(k.scale(e).ticks(Math.floor(w/36)).tickSize(-v,0),B.select(".nv-y.nv-axis").call(k)),B.select(".nv-zeroLine line").attr("x1",0).attr("x2",v).attr("y1",e(0)).attr("y2",e(0))}),t.renderEnd("nv-boxplot chart immediate"),b}var c,e,g=a.models.boxPlot(),i=a.models.axis(),k=a.models.axis(),n={top:15,right:10,bottom:50,left:60},o=null,p=null,q=a.utils.getColor(),r=!0,s=!0,d=!1,f=!1,h=a.models.tooltip(),j="No Data Available.",l=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),m=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(u){return u}),k.orient(d?"right":"left").tickFormat(d3.format(",.1f")),h.duration(0);var t=a.utils.renderWatch(l,m);return g.dispatch.on("elementMouseover.tooltip",function(u){h.data(u).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(u){h.data(u).hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(){h.position({top:d3.event.pageY,left:d3.event.pageX})()}),b.dispatch=l,b.boxplot=g,b.xAxis=i,b.yAxis=k,b.tooltip=h,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return o},set:function(u){o=u}},height:{get:function(){return p},set:function(u){p=u}},staggerLabels:{get:function(){return f},set:function(u){f=u}},showXAxis:{get:function(){return r},set:function(u){r=u}},showYAxis:{get:function(){return s},set:function(u){s=u}},tooltips:{get:function(){return tooltips},set:function(u){tooltips=u}},tooltipContent:{get:function(){return h},set:function(u){h=u}},noData:{get:function(){return j},set:function(u){j=u}},margin:{get:function(){return n},set:function(u){n.top=void 0!==u.top?u.top:n.top,n.right=void 0!==u.right?u.right:n.right,n.bottom=void 0!==u.bottom?u.bottom:n.bottom,n.left=void 0!==u.left?u.left:n.left}},duration:{get:function(){return m},set:function(u){m=u,t.reset(m),g.duration(m),i.duration(m),k.duration(m)}},color:{get:function(){return q},set:function(u){q=a.utils.getColor(u),g.color(q)}},rightAlignYAxis:{get:function(){return d},set:function(u){d=u,k.orient(u?"right":"left")}}}),a.utils.inheritOptions(b,g),a.utils.initOptions(b),b},a.models.bullet=function(){function l(s){return s.each(function(t,u){var v=j-n.left-n.right,A=k-n.top-n.bottom;m=d3.select(this),a.utils.initSVG(m);var B=b.call(this,t,u).slice().sort(d3.descending),D=c.call(this,t,u).slice().sort(d3.descending),F=d.call(this,t,u).slice().sort(d3.descending),H=e.call(this,t,u).slice(),J=f.call(this,t,u).slice(),U=g.call(this,t,u).slice(),W=d3.scale.linear().domain(d3.extent(d3.merge([i,B]))).range(r?[v,0]:[0,v]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(W.range());this.__chart__=W;var w=d3.min(B),x=d3.max(B),y=B[1],z=m.selectAll("g.nv-wrap.nv-bullet").data([t]),C=z.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),E=C.append("g"),G=z.select("g");E.append("rect").attr("class","nv-range nv-rangeMax"),E.append("rect").attr("class","nv-range nv-rangeAvg"),E.append("rect").attr("class","nv-range nv-rangeMin"),E.append("rect").attr("class","nv-measure"),z.attr("transform","translate("+n.left+","+n.top+")");var I=function(L){return Math.abs(W(L)-W(0))},K=function(L){return W(0>L?L:0)};G.select("rect.nv-rangeMax").attr("height",A).attr("width",I(x>0?x:w)).attr("x",K(x>0?x:w)).datum(x>0?x:w),G.select("rect.nv-rangeAvg").attr("height",A).attr("width",I(y)).attr("x",K(y)).datum(y),G.select("rect.nv-rangeMin").attr("height",A).attr("width",I(x)).attr("x",K(x)).attr("width",I(x>0?w:x)).attr("x",K(x>0?w:x)).datum(x>0?w:x),G.select("rect.nv-measure").style("fill",q).attr("height",A/3).attr("y",A/3).attr("width",0>F?W(0)-W(F[0]):W(F[0])-W(0)).attr("x",K(F)).on("mouseover",function(){h.elementMouseover({value:F[0],label:U[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){h.elementMousemove({value:F[0],label:U[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){h.elementMouseout({value:F[0],label:U[0]||"Current",color:d3.select(this).style("fill")})});var V=A/6,X=D.map(function(L,M){return{value:L,label:J[M]}});E.selectAll("path.nv-markerTriangle").data(X).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(L){return"translate("+W(L.value)+","+A/2+")"}).attr("d","M0,"+V+"L"+V+","+-V+" "+-V+","+-V+"Z").on("mouseover",function(L){h.elementMouseover({value:L.value,label:L.label||"Previous",color:d3.select(this).style("fill"),pos:[W(L.value),A/2]})}).on("mousemove",function(L){h.elementMousemove({value:L.value,label:L.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(L){h.elementMouseout({value:L.value,label:L.label||"Previous",color:d3.select(this).style("fill")})}),z.selectAll(".nv-range").on("mouseover",function(M,N){var L=H[N]||(N?1==N?"Mean":"Minimum":"Maximum");h.elementMouseover({value:M,label:L,color:d3.select(this).style("fill")})}).on("mousemove",function(){h.elementMousemove({value:F[0],label:U[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(M,N){var L=H[N]||(N?1==N?"Mean":"Minimum":"Maximum");h.elementMouseout({value:M,label:L,color:d3.select(this).style("fill")})})}),l}var n={top:0,right:0,bottom:0,left:0},p="left",r=!1,b=function(s){return s.ranges},c=function(s){return s.markers?s.markers:[0]},d=function(s){return s.measures},e=function(s){return s.rangeLabels?s.rangeLabels:[]},f=function(s){return s.markerLabels?s.markerLabels:[]},g=function(s){return s.measureLabels?s.measureLabels:[]},i=[0],j=380,k=30,m=null,o=null,q=a.utils.getColor(["#1f77b4"]),h=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return l.dispatch=h,l.options=a.utils.optionsFunc.bind(l),l._options=Object.create({},{ranges:{get:function(){return b},set:function(s){b=s}},markers:{get:function(){return c},set:function(s){c=s}},measures:{get:function(){return d},set:function(s){d=s}},forceX:{get:function(){return i},set:function(s){i=s}},width:{get:function(){return j},set:function(s){j=s}},height:{get:function(){return k},set:function(s){k=s}},tickFormat:{get:function(){return o},set:function(s){o=s}},margin:{get:function(){return n},set:function(s){n.top=void 0!==s.top?s.top:n.top,n.right=void 0!==s.right?s.right:n.right,n.bottom=void 0!==s.bottom?s.bottom:n.bottom,n.left=void 0!==s.left?s.left:n.left}},orient:{get:function(){return p},set:function(s){p=s,r="right"==p||"bottom"==p}},color:{get:function(){return q},set:function(s){q=a.utils.getColor(s)}}}),a.utils.initOptions(l),l},a.models.bulletChart=function(){function c(q){return q.each(function(r,s){var t=d3.select(this);a.utils.initSVG(t);var v=a.utils.availableWidth(n,t,i),x=o-i.top-i.bottom;if(c.update=function(){c(q)},c.container=this,!r||!k.call(this,r,s)){return a.utils.noData(c,t),c}t.selectAll(".nv-noData").remove();var A=k.call(this,r,s).slice().sort(d3.descending),B=l.call(this,r,s).slice().sort(d3.descending),D=m.call(this,r,s).slice().sort(d3.descending),F=t.selectAll("g.nv-wrap.nv-bulletChart").data([r]),R=F.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),S=R.append("g"),T=F.select("g");S.append("g").attr("class","nv-bulletWrap"),S.append("g").attr("class","nv-titles"),F.attr("transform","translate("+i.left+","+i.top+")");var U=d3.scale.linear().domain([0,Math.max(A[0],B[0],D[0])]).range(h?[v,0]:[0,v]),u=this.__chart__||d3.scale.linear().domain([0,1/0]).range(U.range());this.__chart__=U;var w=S.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(o-i.top-i.bottom)/2+")");w.append("text").attr("class","nv-title").text(function(H){return H.title}),w.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(H){return H.subtitle}),e.width(v).height(x);var y=T.select(".nv-bulletWrap");d3.transition(y).call(e);var z=p||U.tickFormat(v/100),C=T.selectAll("g.nv-tick").data(U.ticks(b?b:v/50),function(H){return this.textContent||z(H)}),E=C.enter().append("g").attr("class","nv-tick").attr("transform",function(H){return"translate("+u(H)+",0)"}).style("opacity",0.000001);E.append("line").attr("y1",x).attr("y2",7*x/6),E.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*x/6).text(z);var G=d3.transition(C).attr("transform",function(H){return"translate("+U(H)+",0)"}).style("opacity",1);G.select("line").attr("y1",x).attr("y2",7*x/6),G.select("text").attr("y",7*x/6),d3.transition(C.exit()).attr("transform",function(H){return"translate("+U(H)+",0)"}).style("opacity",0.000001).remove()}),d3.timer.flush(),c}var e=a.models.bullet(),f=a.models.tooltip(),g="left",h=!1,i={top:5,right:40,bottom:20,left:120},k=function(q){return q.ranges},l=function(q){return q.markers?q.markers:[0]},m=function(q){return q.measures},n=null,o=55,p=null,b=null,d=null,j=d3.dispatch("tooltipShow","tooltipHide");return f.duration(0).headerEnabled(!1),e.dispatch.on("elementMouseover.tooltip",function(q){q.series={key:q.label,value:q.value,color:q.color},f.data(q).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(){f.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(){f.position({top:d3.event.pageY,left:d3.event.pageX})()}),c.bullet=e,c.dispatch=j,c.tooltip=f,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{ranges:{get:function(){return k},set:function(q){k=q}},markers:{get:function(){return l},set:function(q){l=q}},measures:{get:function(){return m},set:function(q){m=q}},width:{get:function(){return n},set:function(q){n=q}},height:{get:function(){return o},set:function(q){o=q}},tickFormat:{get:function(){return p},set:function(q){p=q}},ticks:{get:function(){return b},set:function(q){b=q}},noData:{get:function(){return d},set:function(q){d=q}},tooltips:{get:function(){return f.enabled()},set:function(q){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),f.enabled(!!q)}},tooltipContent:{get:function(){return f.contentGenerator()},set:function(q){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),f.contentGenerator(q)}},margin:{get:function(){return i},set:function(q){i.top=void 0!==q.top?q.top:i.top,i.right=void 0!==q.right?q.right:i.right,i.bottom=void 0!==q.bottom?q.bottom:i.bottom,i.left=void 0!==q.left?q.left:i.left}},orient:{get:function(){return g},set:function(q){g=q,h="right"==g||"bottom"==g}}}),a.utils.inheritOptions(c,e),a.utils.initOptions(c),c},a.models.candlestickBar=function(){function b(A){return A.each(function(G){c=d3.select(this);var F=a.utils.availableWidth(i,c,h),H=a.utils.availableHeight(j,c,h);a.utils.initSVG(c);var I=F/G[0].values.length*0.45;l.domain(d||d3.extent(G[0].values.map(n).concat(t))),l.range(v?f||[0.5*F/G[0].values.length,F*(G[0].values.length-0.5)/G[0].values.length]:f||[5+I/2,F-I/2-5]),m.domain(e||[d3.min(G[0].values.map(s).concat(u)),d3.max(G[0].values.map(r).concat(u))]).range(g||[H,0]),l.domain()[0]===l.domain()[1]&&l.domain(l.domain()[0]?[l.domain()[0]-0.01*l.domain()[0],l.domain()[1]+0.01*l.domain()[1]]:[-1,1]),m.domain()[0]===m.domain()[1]&&m.domain(m.domain()[0]?[m.domain()[0]+0.01*m.domain()[0],m.domain()[1]-0.01*m.domain()[1]]:[-1,1]);var J=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([G[0].values]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),L=K.append("defs"),B=K.append("g"),C=J.select("g");B.append("g").attr("class","nv-ticks"),J.attr("transform","translate("+h.left+","+h.top+")"),c.on("click",function(M,N){z.chartClick({data:M,index:N,pos:d3.event,id:k})}),L.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),J.select("#nv-chart-clip-path-"+k+" rect").attr("width",F).attr("height",H),C.attr("clip-path",w?"url(#nv-chart-clip-path-"+k+")":"");var D=J.select(".nv-ticks").selectAll(".nv-tick").data(function(M){return M});D.exit().remove();var E=D.enter().append("g").attr("class",function(N,O,M){return(p(N,O)>q(N,O)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+M+"-"+O});E.append("line").attr("class","nv-candlestick-lines").attr("transform",function(M,N){return"translate("+l(n(M,N))+",0)"}).attr("x1",0).attr("y1",function(M,N){return m(r(M,N))}).attr("x2",0).attr("y2",function(M,N){return m(s(M,N))}),E.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(M,N){return"translate("+(l(n(M,N))-I/2)+","+(m(o(M,N))-(p(M,N)>q(M,N)?m(q(M,N))-m(p(M,N)):0))+")"}).attr("x",0).attr("y",0).attr("width",I).attr("height",function(O,P){var M=p(O,P),N=q(O,P);return M>N?m(N)-m(M):m(M)-m(N)});c.selectAll(".nv-candlestick-lines").transition().attr("transform",function(M,N){return"translate("+l(n(M,N))+",0)"}).attr("x1",0).attr("y1",function(M,N){return m(r(M,N))}).attr("x2",0).attr("y2",function(M,N){return m(s(M,N))}),c.selectAll(".nv-candlestick-rects").transition().attr("transform",function(M,N){return"translate("+(l(n(M,N))-I/2)+","+(m(o(M,N))-(p(M,N)>q(M,N)?m(q(M,N))-m(p(M,N)):0))+")"}).attr("x",0).attr("y",0).attr("width",I).attr("height",function(O,P){var M=p(O,P),N=q(O,P);return M>N?m(N)-m(M):m(M)-m(N)})}),b}var c,d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(10000*Math.random()),l=d3.scale.linear(),m=d3.scale.linear(),n=function(A){return A.x},o=function(A){return A.y},p=function(A){return A.open},q=function(A){return A.close},r=function(A){return A.high},s=function(A){return A.low},t=[],u=[],v=!1,w=!0,x=a.utils.defaultColor(),y=!1,z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return b.highlightPoint=function(B,A){b.clearHighlights(),c.select(".nv-candlestickBar .nv-tick-0-"+B).classed("hover",A)},b.clearHighlights=function(){c.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return i},set:function(A){i=A}},height:{get:function(){return j},set:function(A){j=A}},xScale:{get:function(){return l},set:function(A){l=A}},yScale:{get:function(){return m},set:function(A){m=A}},xDomain:{get:function(){return d},set:function(A){d=A}},yDomain:{get:function(){return e},set:function(A){e=A}},xRange:{get:function(){return f},set:function(A){f=A}},yRange:{get:function(){return g},set:function(A){g=A}},forceX:{get:function(){return t},set:function(A){t=A}},forceY:{get:function(){return u},set:function(A){u=A}},padData:{get:function(){return v},set:function(A){v=A}},clipEdge:{get:function(){return w},set:function(A){w=A}},id:{get:function(){return k},set:function(A){k=A}},interactive:{get:function(){return y},set:function(A){y=A}},x:{get:function(){return n},set:function(A){n=A}},y:{get:function(){return o},set:function(A){o=A}},open:{get:function(){return p()},set:function(A){p=A}},close:{get:function(){return q()},set:function(A){q=A}},high:{get:function(){return r},set:function(A){r=A}},low:{get:function(){return s},set:function(A){s=A}},margin:{get:function(){return h},set:function(A){h.top=void 0!=A.top?A.top:h.top,h.right=void 0!=A.right?A.right:h.right,h.bottom=void 0!=A.bottom?A.bottom:h.bottom,h.left=void 0!=A.left?A.left:h.left}},color:{get:function(){return x},set:function(A){x=a.utils.getColor(A)}}}),a.utils.initOptions(b),b},a.models.cumulativeLineChart=function(){function h(L){return t.reset(),t.models(q),G&&t.models(s),H&&t.models(u),L.each(function(M){function N(){d3.select(h.container).style("cursor","ew-resize")}function O(){r.x=d3.event.x,r.i=Math.round(p.invert(r.x)),Q()}function P(){d3.select(h.container).style("cursor","auto"),e.index=r.i,k.stateChange(e)}function Q(){Z.data([r]);var ak=h.duration();h.duration(0),h.update(),h.duration(ak)}var R=d3.select(this);a.utils.initSVG(R),R.classed("nv-chart-"+d,!0);var S=this,T=a.utils.availableWidth(D,R,B),V=a.utils.availableHeight(E,R,B);if(h.update=function(){0===l?R.call(h):R.transition().duration(l).call(h)},h.container=this,e.setter(x(M),h.update).getter(v(M)).update(),e.disabled=M.map(function(ak){return !!ak.disabled}),!f){var X;f={};for(X in e){f[X]=e[X] instanceof Array?e[X].slice(0):e[X]}}var Y=d3.behavior.drag().on("dragstart",N).on("drag",O).on("dragend",P);if(!(M&&M.length&&M.filter(function(ak){return ak.values.length}).length)){return a.utils.noData(h,R),h}if(R.selectAll(".nv-noData").remove(),m=q.xScale(),o=q.yScale(),c){q.yDomain(null)}else{var aa=M.filter(function(ak){return !ak.disabled}).map(function(ak){var al=d3.extent(ak.values,q.y());return al[0]<-0.95&&(al[0]=-0.95),[(al[0]-al[1])/(1+al[1]),(al[1]-al[0])/(1+al[0])]}),ab=[d3.min(aa,function(ak){return ak[0]}),d3.max(aa,function(ak){return ak[1]})];q.yDomain(ab)}p.domain([0,M[0].values.length-1]).range([0,T]).clamp(!0);var M=j(r.i,M),ad=b?"none":"all",ae=R.selectAll("g.nv-wrap.nv-cumulativeLine").data([M]),af=ae.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),ag=ae.select("g");if(af.append("g").attr("class","nv-interactive"),af.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),af.append("g").attr("class","nv-y nv-axis"),af.append("g").attr("class","nv-background"),af.append("g").attr("class","nv-linesWrap").style("pointer-events",ad),af.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),af.append("g").attr("class","nv-legendWrap"),af.append("g").attr("class","nv-controlsWrap"),F&&(w.width(T),ag.select(".nv-legendWrap").datum(M).call(w),B.top!=w.height()&&(B.top=w.height(),V=a.utils.availableHeight(E,R,B)),ag.select(".nv-legendWrap").attr("transform","translate(0,"+-B.top+")")),J){var ah=[{key:"Re-scale y-axis",disabled:!c}];y.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),ag.select(".nv-controlsWrap").datum(ah).attr("transform","translate(0,"+-B.top+")").call(y)}ae.attr("transform","translate("+B.left+","+B.top+")"),I&&ag.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)");var ai=M.filter(function(ak){return ak.tempDisabled});ae.select(".tempDisabled").remove(),ai.length&&ae.append("text").attr("class","tempDisabled").attr("x",T/2).attr("y","-.71em").style("text-anchor","end").text(ai.map(function(ak){return ak.key}).join(", ")+" values cannot be calculated for this time period."),b&&(z.width(T).height(V).margin({left:B.left,top:B.top}).svgContainer(R).xScale(m),ae.select(".nv-interactive").call(z)),af.select(".nv-background").append("rect"),ag.select(".nv-background rect").attr("width",T).attr("height",V),q.y(function(ak){return ak.display.y}).width(T).height(V).color(M.map(function(ak,al){return ak.color||C(ak,al)}).filter(function(ak,al){return !M[al].disabled&&!M[al].tempDisabled}));var aj=ag.select(".nv-linesWrap").datum(M.filter(function(ak){return !ak.disabled&&!ak.tempDisabled}));aj.call(q),M.forEach(function(ak,al){ak.seriesIndex=al});var ac=M.filter(function(ak){return !ak.disabled&&!!i(ak)}),U=ag.select(".nv-avgLinesWrap").selectAll("line").data(ac,function(ak){return ak.key}),W=function(ak){var al=o(i(ak));return 0>al?0:al>V?V:al};U.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(ak){return q.color()(ak,ak.seriesIndex)}).attr("x1",0).attr("x2",T).attr("y1",W).attr("y2",W),U.style("stroke-opacity",function(ak){var al=o(i(ak));return 0>al||al>V?0:1}).attr("x1",0).attr("x2",T).attr("y1",W).attr("y2",W),U.exit().remove();var Z=aj.selectAll(".nv-indexLine").data([r]);Z.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).style("pointer-events","all").call(Y),Z.attr("transform",function(ak){return"translate("+p(ak.i)+",0)"}).attr("height",V),G&&(s.scale(m)._ticks(a.utils.calcTicksX(T/70,M)).tickSize(-V,0),ag.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),ag.select(".nv-x.nv-axis").call(s)),H&&(u.scale(o)._ticks(a.utils.calcTicksY(V/36,M)).tickSize(-T,0),ag.select(".nv-y.nv-axis").call(u)),ag.select(".nv-background rect").on("click",function(){r.x=d3.mouse(this)[0],r.i=Math.round(p.invert(r.x)),e.index=r.i,k.stateChange(e),Q()}),q.dispatch.on("elementClick",function(ak){r.i=ak.pointIndex,r.x=p(r.i),e.index=r.i,k.stateChange(e),Q()}),y.dispatch.on("legendClick",function(ak){ak.disabled=!ak.disabled,c=!ak.disabled,e.rescaleY=c,k.stateChange(e),h.update()}),w.dispatch.on("stateChange",function(al){for(var ak in al){e[ak]=al[ak]}k.stateChange(e),h.update()}),z.dispatch.on("elementMousemove",function(ao){q.clearHighlights();var ap,aq,ar,at=[];if(M.filter(function(ax,ay){return ax.seriesIndex=ay,!ax.disabled}).forEach(function(ay,az){aq=a.interactiveBisect(ay.values,ao.pointXValue,h.x()),q.highlightPoint(az,aq,!0);var aA=ay.values[aq];"undefined"!=typeof aA&&("undefined"==typeof ap&&(ap=aA),"undefined"==typeof ar&&(ar=h.xScale()(h.x()(aA,aq))),at.push({key:ay.key,value:h.y()(aA,aq),color:C(ay,ay.seriesIndex)}))}),at.length>2){var au=h.yScale().invert(ao.mouseY),ak=Math.abs(h.yScale().domain()[0]-h.yScale().domain()[1]),al=0.03*ak,am=a.nearestValueIndex(at.map(function(aw){return aw.value}),au,al);null!==am&&(at[am].highlight=!0)}var an=s.tickFormat()(h.x()(ap,aq),aq);z.tooltip.position({left:ar+B.left,top:ao.mouseY+B.top}).chartContainer(S.parentNode).valueFormatter(function(aw){return u.tickFormat()(aw)}).data({value:an,series:at})(),z.renderGuideLine(ar)}),z.dispatch.on("elementMouseout",function(){q.clearHighlights()}),k.on("changeState",function(ak){"undefined"!=typeof ak.disabled&&(M.forEach(function(al,am){al.disabled=ak.disabled[am]}),e.disabled=ak.disabled),"undefined"!=typeof ak.index&&(r.i=ak.index,r.x=p(r.i),e.index=ak.index,Z.data([r])),"undefined"!=typeof ak.rescaleY&&(c=ak.rescaleY),h.update()})}),t.renderEnd("cumulativeLineChart immediate"),h}function j(L,M){return K||(K=q.y()),M.map(function(P){if(!P.values){return P}var N=P.values[L];if(null==N){return P}var O=K(N,L);return -0.95>O&&!n?(P.tempDisabled=!0,P):(P.tempDisabled=!1,P.values=P.values.map(function(Q,R){return Q.display={y:(K(Q,R)-O)/(1+O)},Q}),P)})}var m,o,q=a.models.line(),s=a.models.axis(),u=a.models.axis(),w=a.models.legend(),y=a.models.legend(),z=a.interactiveGuideline(),A=a.models.tooltip(),B={top:30,right:30,bottom:50,left:60},C=a.utils.defaultColor(),D=null,E=null,F=!0,G=!0,H=!0,I=!1,J=!0,b=!1,c=!0,d=q.id(),e=a.utils.state(),f=null,g=null,i=function(L){return L.average},k=d3.dispatch("stateChange","changeState","renderEnd"),l=250,n=!1;e.index=0,e.rescaleY=c,s.orient("bottom").tickPadding(7),u.orient(I?"right":"left"),A.valueFormatter(function(L,M){return u.tickFormat()(L,M)}).headerFormatter(function(L,M){return s.tickFormat()(L,M)}),y.updateState(!1);var p=d3.scale.linear(),r={i:0,x:0},t=a.utils.renderWatch(k,l),v=function(L){return function(){return{active:L.map(function(M){return !M.disabled}),index:r.i,rescaleY:c}}},x=function(L){return function(M){void 0!==M.index&&(r.i=M.index),void 0!==M.rescaleY&&(c=M.rescaleY),void 0!==M.active&&L.forEach(function(O,N){O.disabled=!M.active[N]})}};q.dispatch.on("elementMouseover.tooltip",function(M){var L={x:h.x()(M.point),y:h.y()(M.point),color:M.point.color};M.point=L,A.data(M).position(M.pos).hidden(!1)}),q.dispatch.on("elementMouseout.tooltip",function(){A.hidden(!0)});var K=null;return h.dispatch=k,h.lines=q,h.legend=w,h.controls=y,h.xAxis=s,h.yAxis=u,h.interactiveLayer=z,h.state=e,h.tooltip=A,h.options=a.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return D},set:function(L){D=L}},height:{get:function(){return E},set:function(L){E=L}},rescaleY:{get:function(){return c},set:function(L){c=L}},showControls:{get:function(){return J},set:function(L){J=L}},showLegend:{get:function(){return F},set:function(L){F=L}},average:{get:function(){return i},set:function(L){i=L}},defaultState:{get:function(){return f},set:function(L){f=L}},noData:{get:function(){return g},set:function(L){g=L}},showXAxis:{get:function(){return G},set:function(L){G=L}},showYAxis:{get:function(){return H},set:function(L){H=L}},noErrorCheck:{get:function(){return n},set:function(L){n=L}},tooltips:{get:function(){return A.enabled()},set:function(L){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),A.enabled(!!L)}},tooltipContent:{get:function(){return A.contentGenerator()},set:function(L){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),A.contentGenerator(L)}},margin:{get:function(){return B},set:function(L){B.top=void 0!==L.top?L.top:B.top,B.right=void 0!==L.right?L.right:B.right,B.bottom=void 0!==L.bottom?L.bottom:B.bottom,B.left=void 0!==L.left?L.left:B.left}},color:{get:function(){return C},set:function(L){C=a.utils.getColor(L),w.color(C)}},useInteractiveGuideline:{get:function(){return b},set:function(L){b=L,L===!0&&(h.interactive(!1),h.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return I},set:function(L){I=L,u.orient(L?"right":"left")}},duration:{get:function(){return l},set:function(L){l=L,q.duration(l),s.duration(l),u.duration(l),t.reset(l)}}}),a.utils.inheritOptions(h,q),a.utils.initOptions(h),h},a.models.discreteBar=function(){function b(z){return y.reset(),z.each(function(D){var F=k-j.left-j.right,C=l-j.top-j.bottom;c=d3.select(this),a.utils.initSVG(c),D.forEach(function(L,K){L.values.forEach(function(M){M.series=K})});var E=d&&e?[]:D.map(function(K){return K.values.map(function(L,M){return{x:q(L,M),y:r(L,M),y0:L.y0}})});o.domain(d||d3.merge(E).map(function(K){return K.x})).rangeBands(f||[0,F],0.1),p.domain(e||d3.extent(d3.merge(E).map(function(K){return K.y}).concat(s))),p.range(u?g||[C-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]:g||[C,0]),h=h||o,i=i||p.copy().range([p(0),p(0)]);var G=c.selectAll("g.nv-wrap.nv-discretebar").data([D]),H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),I=H.append("g");G.select("g");I.append("g").attr("class","nv-groups"),G.attr("transform","translate("+j.left+","+j.top+")");var J=G.select(".nv-groups").selectAll(".nv-group").data(function(K){return K},function(K){return K.key});J.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001),J.exit().watchTransition(y,"discreteBar: exit groups").style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove(),J.attr("class",function(L,K){return"nv-group nv-series-"+K}).classed("hover",function(K){return K.hover}),J.watchTransition(y,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",0.75);var A=J.selectAll("g.nv-bar").data(function(K){return K.values});A.exit().remove();var B=A.enter().append("g").attr("transform",function(L,K){return"translate("+(o(q(L,K))+0.05*o.rangeBand())+", "+p(0)+")"}).on("mouseover",function(L,K){d3.select(this).classed("hover",!0),w.elementMouseover({data:L,index:K,color:d3.select(this).style("fill")})}).on("mouseout",function(L,K){d3.select(this).classed("hover",!1),w.elementMouseout({data:L,index:K,color:d3.select(this).style("fill")})}).on("mousemove",function(L,K){w.elementMousemove({data:L,index:K,color:d3.select(this).style("fill")})}).on("click",function(L,K){w.elementClick({data:L,index:K,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(L,K){w.elementDblClick({data:L,index:K,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});B.append("rect").attr("height",0).attr("width",0.9*o.rangeBand()/D.length),u?(B.append("text").attr("text-anchor","middle"),A.select("text").text(function(L,K){return v(r(L,K))}).watchTransition(y,"discreteBar: bars text").attr("x",0.9*o.rangeBand()/2).attr("y",function(L,K){return r(L,K)<0?p(r(L,K))-p(0)+12:-4})):A.selectAll("text").remove(),A.attr("class",function(L,K){return r(L,K)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(L,K){return L.color||t(L,K)}).style("stroke",function(L,K){return L.color||t(L,K)}).select("rect").attr("class",x).watchTransition(y,"discreteBar: bars rect").attr("width",0.9*o.rangeBand()/D.length),A.watchTransition(y,"discreteBar: bars").attr("transform",function(N,K){var L=o(q(N,K))+0.05*o.rangeBand(),M=r(N,K)<0?p(0):p(0)-p(r(N,K))<1?p(0)-1:p(r(N,K));return"translate("+L+", "+M+")"}).select("rect").attr("height",function(L,K){return Math.max(Math.abs(p(r(L,K))-p(e&&e[0]||0))||1)}),h=o.copy(),i=p.copy()}),y.renderEnd("discreteBar immediate"),b}var c,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,n=Math.floor(10000*Math.random()),o=d3.scale.ordinal(),p=d3.scale.linear(),q=function(z){return z.x},r=function(z){return z.y},s=[0],t=a.utils.defaultColor(),u=!1,v=d3.format(",.2f"),w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x="discreteBar",m=250,y=a.utils.renderWatch(w,m);return b.dispatch=w,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(z){k=z}},height:{get:function(){return l},set:function(z){l=z}},forceY:{get:function(){return s},set:function(z){s=z}},showValues:{get:function(){return u},set:function(z){u=z}},x:{get:function(){return q},set:function(z){q=z}},y:{get:function(){return r},set:function(z){r=z}},xScale:{get:function(){return o},set:function(z){o=z}},yScale:{get:function(){return p},set:function(z){p=z}},xDomain:{get:function(){return d},set:function(z){d=z}},yDomain:{get:function(){return e},set:function(z){e=z}},xRange:{get:function(){return f},set:function(z){f=z}},yRange:{get:function(){return g},set:function(z){g=z}},valueFormat:{get:function(){return v},set:function(z){v=z}},id:{get:function(){return n},set:function(z){n=z}},rectClass:{get:function(){return x},set:function(z){x=z}},margin:{get:function(){return j},set:function(z){j.top=void 0!==z.top?z.top:j.top,j.right=void 0!==z.right?z.right:j.right,j.bottom=void 0!==z.bottom?z.bottom:j.bottom,j.left=void 0!==z.left?z.left:j.left}},color:{get:function(){return t},set:function(z){t=a.utils.getColor(z)}},duration:{get:function(){return m},set:function(z){m=z,y.reset(m)}}}),a.utils.initOptions(b),b},a.models.discreteBarChart=function(){function b(u){return t.reset(),t.models(g),s&&t.models(i),d&&t.models(k),u.each(function(C){var D=d3.select(this);a.utils.initSVG(D);var E=a.utils.availableWidth(p,D,o),v=a.utils.availableHeight(q,D,o);if(b.update=function(){l.beforeUpdate(),D.transition().duration(m).call(b)},b.container=this,!(C&&C.length&&C.filter(function(F){return F.values.length}).length)){return a.utils.noData(b,D),b}D.selectAll(".nv-noData").remove(),c=g.xScale(),e=g.yScale().clamp(!0);var w=D.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([C]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),y=x.append("defs"),z=w.select("g");x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),x.append("g").attr("class","nv-barsWrap"),z.attr("transform","translate("+o.left+","+o.top+")"),f&&z.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),g.width(E).height(v);var A=z.select(".nv-barsWrap").datum(C.filter(function(F){return !F.disabled}));if(A.transition().call(g),y.append("clipPath").attr("id","nv-x-label-clip-"+g.id()).append("rect"),z.select("#nv-x-label-clip-"+g.id()+" rect").attr("width",c.rangeBand()*(h?2:1)).attr("height",16).attr("x",-c.rangeBand()/(h?1:2)),s){i.scale(c)._ticks(a.utils.calcTicksX(E/100,C)).tickSize(-v,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(g.showValues()&&e.domain()[0]<0?16:0))+")"),z.select(".nv-x.nv-axis").call(i);var B=z.select(".nv-x.nv-axis").selectAll("g");h&&B.selectAll("text").attr("transform",function(F,G,H){return"translate(0,"+(H%2==0?"5":"17")+")"})}d&&(k.scale(e)._ticks(a.utils.calcTicksY(v/36,C)).tickSize(-E,0),z.select(".nv-y.nv-axis").call(k)),z.select(".nv-zeroLine line").attr("x1",0).attr("x2",E).attr("y1",e(0)).attr("y2",e(0))}),t.renderEnd("discreteBar chart immediate"),b}var c,e,g=a.models.discreteBar(),i=a.models.axis(),k=a.models.axis(),n=a.models.tooltip(),o={top:15,right:10,bottom:50,left:60},p=null,q=null,r=a.utils.getColor(),s=!0,d=!0,f=!1,h=!1,j=null,l=d3.dispatch("beforeUpdate","renderEnd"),m=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(u){return u}),k.orient(f?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0).headerEnabled(!1).valueFormatter(function(u,v){return k.tickFormat()(u,v)}).keyFormatter(function(u,v){return i.tickFormat()(u,v)});var t=a.utils.renderWatch(l,m);return g.dispatch.on("elementMouseover.tooltip",function(u){u.series={key:b.x()(u.data),value:b.y()(u.data),color:u.color},n.data(u).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(){n.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(){n.position({top:d3.event.pageY,left:d3.event.pageX})()}),b.dispatch=l,b.discretebar=g,b.xAxis=i,b.yAxis=k,b.tooltip=n,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return p},set:function(u){p=u}},height:{get:function(){return q},set:function(u){q=u}},staggerLabels:{get:function(){return h},set:function(u){h=u}},showXAxis:{get:function(){return s},set:function(u){s=u}},showYAxis:{get:function(){return d},set:function(u){d=u}},noData:{get:function(){return j},set:function(u){j=u}},tooltips:{get:function(){return n.enabled()},set:function(u){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),n.enabled(!!u)}},tooltipContent:{get:function(){return n.contentGenerator()},set:function(u){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),n.contentGenerator(u)}},margin:{get:function(){return o},set:function(u){o.top=void 0!==u.top?u.top:o.top,o.right=void 0!==u.right?u.right:o.right,o.bottom=void 0!==u.bottom?u.bottom:o.bottom,o.left=void 0!==u.left?u.left:o.left}},duration:{get:function(){return m},set:function(u){m=u,t.reset(m),g.duration(m),i.duration(m),k.duration(m)}},color:{get:function(){return r},set:function(u){r=a.utils.getColor(u),g.color(r)}},rightAlignYAxis:{get:function(){return f},set:function(u){f=u,k.orient(u?"right":"left")}}}),a.utils.inheritOptions(b,g),a.utils.initOptions(b),b},a.models.distribution=function(){function h(n){return g.reset(),n.each(function(v){var t=(k-("x"===m?j.left+j.right:j.top+j.bottom),"x"==m?"y":"x"),u=d3.select(this);a.utils.initSVG(u),i=i||d;var o=u.selectAll("g.nv-distribution").data([v]),p=o.enter().append("g").attr("class","nvd3 nv-distribution"),q=(p.append("g"),o.select("g"));o.attr("transform","translate("+j.left+","+j.top+")");var r=q.selectAll("g.nv-dist").data(function(w){return w},function(w){return w.key});r.enter().append("g"),r.attr("class",function(w,x){return"nv-dist nv-series-"+x}).style("stroke",function(w,x){return c(w,x)});var s=r.selectAll("line.nv-dist"+m).data(function(w){return w.values});s.enter().append("line").attr(m+"1",function(w,x){return i(b(w,x))}).attr(m+"2",function(w,x){return i(b(w,x))}),g.transition(r.exit().selectAll("line.nv-dist"+m),"dist exit").attr(m+"1",function(w,x){return d(b(w,x))}).attr(m+"2",function(w,x){return d(b(w,x))}).style("stroke-opacity",0).remove(),s.attr("class",function(w,x){return"nv-dist"+m+" nv-dist"+m+"-"+x}).attr(t+"1",0).attr(t+"2",l),g.transition(s,"dist").attr(m+"1",function(w,x){return d(b(w,x))}).attr(m+"2",function(w,x){return d(b(w,x))}),i=d.copy()}),g.renderEnd("distribution immediate"),h}var i,j={top:0,right:0,bottom:0,left:0},k=400,l=8,m="x",b=function(n){return n[m]},c=a.utils.defaultColor(),d=d3.scale.linear(),e=250,f=d3.dispatch("renderEnd"),g=a.utils.renderWatch(f,e);return h.options=a.utils.optionsFunc.bind(h),h.dispatch=f,h.margin=function(n){return arguments.length?(j.top="undefined"!=typeof n.top?n.top:j.top,j.right="undefined"!=typeof n.right?n.right:j.right,j.bottom="undefined"!=typeof n.bottom?n.bottom:j.bottom,j.left="undefined"!=typeof n.left?n.left:j.left,h):j},h.width=function(n){return arguments.length?(k=n,h):k},h.axis=function(n){return arguments.length?(m=n,h):m},h.size=function(n){return arguments.length?(l=n,h):l},h.getData=function(n){return arguments.length?(b=d3.functor(n),h):b},h.scale=function(n){return arguments.length?(d=n,h):d},h.color=function(n){return arguments.length?(c=a.utils.getColor(n),h):c},h.duration=function(n){return arguments.length?(e=n,g.reset(e),h):e},h},a.models.furiousLegend=function(){function e(p){function q(s,t){return"furious"!=i?"#000":c?s.disengaged?k(s,t):"#fff":c?void 0:s.disabled?k(s,t):"#fff"}function r(s,t){return c&&"furious"==i?s.disengaged?"#fff":k(s,t):s.disabled?"#fff":k(s,t)}return p.each(function(s){var t=g-f.left-f.right,y=d3.select(this);a.utils.initSVG(y);var z=y.selectAll("g.nv-legend").data([s]),B=(z.enter().append("g").attr("class","nvd3 nv-legend").append("g"),z.select("g"));z.attr("transform","translate("+f.left+","+f.top+")");var D,F=B.selectAll(".nv-series").data(function(N){return"furious"!=i?N:N.filter(function(O){return c?!0:!O.disengaged})}),H=F.enter().append("g").attr("class","nv-series");if("classic"==i){H.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),D=F.select("circle")}else{if("furious"==i){H.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),D=F.select("rect"),H.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var J=F.select(".nv-check-box");J.each(function(N,O){d3.select(this).selectAll("path").attr("stroke",q(N,O))})}}H.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var L=F.select("text.nv-legend-text");F.on("mouseover",function(N,O){d.legendMouseover(N,O)}).on("mouseout",function(N,O){d.legendMouseout(N,O)}).on("click",function(P,Q){d.legendClick(P,Q);var N=F.data();if(o){if("classic"==i){b?(N.forEach(function(R){R.disabled=!0}),P.disabled=!1):(P.disabled=!P.disabled,N.every(function(R){return R.disabled})&&N.forEach(function(R){R.disabled=!1}))}else{if("furious"==i){if(c){P.disengaged=!P.disengaged,P.userDisabled=void 0==P.userDisabled?!!P.disabled:P.userDisabled,P.disabled=P.disengaged||P.userDisabled}else{if(!c){P.disabled=!P.disabled,P.userDisabled=P.disabled;var O=N.filter(function(R){return !R.disengaged});O.every(function(R){return R.userDisabled})&&N.forEach(function(R){R.disabled=R.userDisabled=!1})}}}}d.stateChange({disabled:N.map(function(R){return !!R.disabled}),disengaged:N.map(function(R){return !!R.disengaged})})}}).on("dblclick",function(O,P){if(("furious"!=i||!c)&&(d.legendDblclick(O,P),o)){var N=F.data();N.forEach(function(Q){Q.disabled=!0,"furious"==i&&(Q.userDisabled=Q.disabled)}),O.disabled=!1,"furious"==i&&(O.userDisabled=O.disabled),d.stateChange({disabled:N.map(function(Q){return !!Q.disabled})})}}),F.classed("nv-disabled",function(N){return N.userDisabled}),F.exit().remove(),L.attr("fill",q).text(j);var u;switch(i){case"furious":u=23;break;case"classic":u=20}if(l){var v=[];F.each(function(){var P,N=d3.select(this).select("text");try{if(P=N.node().getComputedTextLength(),0>=P){throw Error()}}catch(O){P=a.utils.calcApproxTextWidth(N)}v.push(P+m)});for(var w=0,x=0,A=[];t>x&&w<v.length;){A[w]=v[w],x+=v[w++]}for(0===w&&(w=1);x>t&&w>1;){A=[],w--;for(var C=0;C<v.length;C++){v[C]>(A[C%w]||0)&&(A[C%w]=v[C])}x=A.reduce(function(N,O){return N+O})}for(var E=[],G=0,I=0;w>G;G++){E[G]=I,I+=A[G]}F.attr("transform",function(N,O){return"translate("+E[O%w]+","+(5+Math.floor(O/w)*u)+")"}),n?B.attr("transform","translate("+(g-f.right-x)+","+f.top+")"):B.attr("transform","translate(0,"+f.top+")"),h=f.top+f.bottom+Math.ceil(v.length/w)*u}else{var K,M=5,aa=5,ab=0;F.attr("transform",function(){var N=d3.select(this).select("text").node().getComputedTextLength()+m;return K=aa,g<f.left+f.right+K+N&&(aa=K=5,M+=u),aa+=N,aa>ab&&(ab=aa),"translate("+K+","+M+")"}),B.attr("transform","translate("+(g-f.right-ab)+","+f.top+")"),h=f.top+f.bottom+M+15}"furious"==i&&D.attr("width",function(N,O){return L[0][O].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),D.style("fill",r).style("stroke",function(N,O){return N.color||k(N,O)})}),e}var f={top:5,right:0,bottom:5,left:0},g=400,h=20,j=function(p){return p.key},k=a.utils.getColor(),l=!0,m=28,n=!0,o=!0,b=!1,c=!1,d=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),i="classic";return e.dispatch=d,e.options=a.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return g},set:function(p){g=p}},height:{get:function(){return h},set:function(p){h=p}},key:{get:function(){return j},set:function(p){j=p}},align:{get:function(){return l},set:function(p){l=p}},rightAlign:{get:function(){return n},set:function(p){n=p}},padding:{get:function(){return m},set:function(p){m=p}},updateState:{get:function(){return o},set:function(p){o=p}},radioButtonMode:{get:function(){return b},set:function(p){b=p}},expanded:{get:function(){return c},set:function(p){c=p}},vers:{get:function(){return i},set:function(p){i=p}},margin:{get:function(){return f},set:function(p){f.top=void 0!==p.top?p.top:f.top,f.right=void 0!==p.right?p.right:f.right,f.bottom=void 0!==p.bottom?p.bottom:f.bottom,f.left=void 0!==p.left?p.left:f.left}},color:{get:function(){return k},set:function(p){k=a.utils.getColor(p)}}}),a.utils.initOptions(e),e},a.models.historicalBar=function(){function b(x){return x.each(function(A){w.reset(),n=d3.select(this);var z=a.utils.availableWidth(h,n,g),B=a.utils.availableHeight(j,n,g);a.utils.initSVG(n),o.domain(c||d3.extent(A[0].values.map(q).concat(s))),o.range(u?e||[0.5*z/A[0].values.length,z*(A[0].values.length-0.5)/A[0].values.length]:e||[0,z]),p.domain(d||d3.extent(A[0].values.map(r).concat(t))).range(f||[B,0]),o.domain()[0]===o.domain()[1]&&o.domain(o.domain()[0]?[o.domain()[0]-0.01*o.domain()[0],o.domain()[1]+0.01*o.domain()[1]]:[-1,1]),p.domain()[0]===p.domain()[1]&&p.domain(p.domain()[0]?[p.domain()[0]+0.01*p.domain()[0],p.domain()[1]-0.01*p.domain()[1]]:[-1,1]);var C=n.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([A[0].values]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),E=D.append("defs"),F=D.append("g"),G=C.select("g");F.append("g").attr("class","nv-bars"),C.attr("transform","translate("+g.left+","+g.top+")"),n.on("click",function(I,H){k.chartClick({data:I,index:H,pos:d3.event,id:l})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",z).attr("height",B),G.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var y=C.select(".nv-bars").selectAll(".nv-bar").data(function(H){return H},function(I,H){return q(I,H)});y.exit().remove(),y.enter().append("rect").attr("x",0).attr("y",function(H,I){return a.utils.NaNtoZero(p(Math.max(0,r(H,I))))}).attr("height",function(H,I){return a.utils.NaNtoZero(Math.abs(p(r(H,I))-p(0)))}).attr("transform",function(H,I){return"translate("+(o(q(H,I))-z/A[0].values.length*0.45)+",0)"}).on("mouseover",function(I,H){m&&(d3.select(this).classed("hover",!0),k.elementMouseover({data:I,index:H,color:d3.select(this).style("fill")}))}).on("mouseout",function(I,H){m&&(d3.select(this).classed("hover",!1),k.elementMouseout({data:I,index:H,color:d3.select(this).style("fill")}))}).on("mousemove",function(I,H){m&&k.elementMousemove({data:I,index:H,color:d3.select(this).style("fill")})}).on("click",function(I,H){m&&(k.elementClick({data:I,index:H,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(I,H){m&&(k.elementDblClick({data:I,index:H,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),y.attr("fill",function(I,H){return i(I,H)}).attr("class",function(J,H,I){return(r(J,H)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+I+"-"+H}).watchTransition(w,"bars").attr("transform",function(H,I){return"translate("+(o(q(H,I))-z/A[0].values.length*0.45)+",0)"}).attr("width",z/A[0].values.length*0.9),y.watchTransition(w,"bars").attr("y",function(H,I){var J=r(H,I)<0?p(0):p(0)-p(r(H,I))<1?p(0)-1:p(r(H,I));return a.utils.NaNtoZero(J)}).attr("height",function(H,I){return a.utils.NaNtoZero(Math.max(Math.abs(p(r(H,I))-p(0)),1))})}),w.renderEnd("historicalBar immediate"),b}var c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,j=null,l=Math.floor(10000*Math.random()),n=null,o=d3.scale.linear(),p=d3.scale.linear(),q=function(x){return x.x},r=function(x){return x.y},s=[],t=[0],u=!1,v=!0,i=a.utils.defaultColor(),k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),m=!0,w=a.utils.renderWatch(k,0);return b.highlightPoint=function(x,y){n.select(".nv-bars .nv-bar-0-"+x).classed("hover",y)},b.clearHighlights=function(){n.select(".nv-bars .nv-bar.hover").classed("hover",!1)},b.dispatch=k,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(x){h=x}},height:{get:function(){return j},set:function(x){j=x}},forceX:{get:function(){return s},set:function(x){s=x}},forceY:{get:function(){return t},set:function(x){t=x}},padData:{get:function(){return u},set:function(x){u=x}},x:{get:function(){return q},set:function(x){q=x}},y:{get:function(){return r},set:function(x){r=x}},xScale:{get:function(){return o},set:function(x){o=x}},yScale:{get:function(){return p},set:function(x){p=x}},xDomain:{get:function(){return c},set:function(x){c=x}},yDomain:{get:function(){return d},set:function(x){d=x}},xRange:{get:function(){return e},set:function(x){e=x}},yRange:{get:function(){return f},set:function(x){f=x}},clipEdge:{get:function(){return v},set:function(x){v=x}},id:{get:function(){return l},set:function(x){l=x}},interactive:{get:function(){return m},set:function(x){m=x}},margin:{get:function(){return g},set:function(x){g.top=void 0!==x.top?x.top:g.top,g.right=void 0!==x.right?x.right:g.right,g.bottom=void 0!==x.bottom?x.bottom:g.bottom,g.left=void 0!==x.left?x.left:g.left}},color:{get:function(){return i},set:function(x){i=a.utils.getColor(x)}}}),a.utils.initOptions(b),b},a.models.historicalBarChart=function(b){function c(A){return A.each(function(G){z.reset(),z.models(f),q&&z.models(g),r&&z.models(h);var F=d3.select(this),H=this;a.utils.initSVG(F);var I=a.utils.availableWidth(n,F,l),J=a.utils.availableHeight(o,F,l);if(c.update=function(){F.transition().duration(y).call(c)},c.container=this,u.disabled=G.map(function(L){return !!L.disabled}),!v){var K;v={};for(K in u){v[K]=u[K] instanceof Array?u[K].slice(0):u[K]}}if(!(G&&G.length&&G.filter(function(L){return L.values.length}).length)){return a.utils.noData(c,F),c}F.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var B=F.selectAll("g.nv-wrap.nv-historicalBarChart").data([G]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),D=B.select("g");C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis"),C.append("g").attr("class","nv-barsWrap"),C.append("g").attr("class","nv-legendWrap"),C.append("g").attr("class","nv-interactive"),p&&(i.width(I),D.select(".nv-legendWrap").datum(G).call(i),l.top!=i.height()&&(l.top=i.height(),J=a.utils.availableHeight(o,F,l)),B.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),B.attr("transform","translate("+l.left+","+l.top+")"),s&&D.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),t&&(j.width(I).height(J).margin({left:l.left,top:l.top}).svgContainer(F).xScale(d),B.select(".nv-interactive").call(j)),f.width(I).height(J).color(G.map(function(M,L){return M.color||m(M,L)}).filter(function(M,L){return !G[L].disabled}));var E=D.select(".nv-barsWrap").datum(G.filter(function(L){return !L.disabled}));E.transition().call(f),q&&(g.scale(d)._ticks(a.utils.calcTicksX(I/100,G)).tickSize(-J,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),D.select(".nv-x.nv-axis").transition().call(g)),r&&(h.scale(e)._ticks(a.utils.calcTicksY(J/36,G)).tickSize(-I,0),D.select(".nv-y.nv-axis").transition().call(h)),j.dispatch.on("elementMousemove",function(L){f.clearHighlights();var N,P,Q,M=[];G.filter(function(R,S){return R.seriesIndex=S,!R.disabled}).forEach(function(R){P=a.interactiveBisect(R.values,L.pointXValue,c.x()),f.highlightPoint(P,!0);var S=R.values[P];void 0!==S&&(void 0===N&&(N=S),void 0===Q&&(Q=c.xScale()(c.x()(S,P))),M.push({key:R.key,value:c.y()(S,P),color:m(R,R.seriesIndex),data:R.values[P]}))});var O=g.tickFormat()(c.x()(N,P));j.tooltip.position({left:Q+l.left,top:L.mouseY+l.top}).chartContainer(H.parentNode).valueFormatter(function(R){return h.tickFormat()(R)}).data({value:O,index:P,series:M})(),j.renderGuideLine(Q)}),j.dispatch.on("elementMouseout",function(){x.tooltipHide(),f.clearHighlights()}),i.dispatch.on("legendClick",function(L){L.disabled=!L.disabled,G.filter(function(M){return !M.disabled}).length||G.map(function(M){return M.disabled=!1,B.selectAll(".nv-series").classed("disabled",!1),M}),u.disabled=G.map(function(M){return !!M.disabled}),x.stateChange(u),A.transition().call(c)}),i.dispatch.on("legendDblclick",function(L){G.forEach(function(M){M.disabled=!0}),L.disabled=!1,u.disabled=G.map(function(M){return !!M.disabled}),x.stateChange(u),c.update()}),x.on("changeState",function(L){"undefined"!=typeof L.disabled&&(G.forEach(function(N,M){N.disabled=L.disabled[M]}),u.disabled=L.disabled),c.update()})}),z.renderEnd("historicalBarChart immediate"),c}var d,e,f=b||a.models.historicalBar(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.interactiveGuideline(),k=a.models.tooltip(),l={top:30,right:90,bottom:50,left:90},m=a.utils.defaultColor(),n=null,o=null,p=!1,q=!0,r=!0,s=!1,t=!1,u={},v=null,w=null,x=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),y=250;g.orient("bottom").tickPadding(7),h.orient(s?"right":"left"),k.duration(0).headerEnabled(!1).valueFormatter(function(A,B){return h.tickFormat()(A,B)}).headerFormatter(function(A,B){return g.tickFormat()(A,B)});var z=a.utils.renderWatch(x,0);return f.dispatch.on("elementMouseover.tooltip",function(A){A.series={key:c.x()(A.data),value:c.y()(A.data),color:A.color},k.data(A).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){k.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){k.position({top:d3.event.pageY,left:d3.event.pageX})()}),c.dispatch=x,c.bars=f,c.legend=i,c.xAxis=g,c.yAxis=h,c.interactiveLayer=j,c.tooltip=k,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return n},set:function(A){n=A}},height:{get:function(){return o},set:function(A){o=A}},showLegend:{get:function(){return p},set:function(A){p=A}},showXAxis:{get:function(){return q},set:function(A){q=A}},showYAxis:{get:function(){return r},set:function(A){r=A}},defaultState:{get:function(){return v},set:function(A){v=A}},noData:{get:function(){return w},set:function(A){w=A}},tooltips:{get:function(){return k.enabled()},set:function(A){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),k.enabled(!!A)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(A){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),k.contentGenerator(A)}},margin:{get:function(){return l},set:function(A){l.top=void 0!==A.top?A.top:l.top,l.right=void 0!==A.right?A.right:l.right,l.bottom=void 0!==A.bottom?A.bottom:l.bottom,l.left=void 0!==A.left?A.left:l.left}},color:{get:function(){return m},set:function(A){m=a.utils.getColor(A),i.color(m),f.color(m)}},duration:{get:function(){return y},set:function(A){y=A,z.reset(y),h.duration(y),g.duration(y)}},rightAlignYAxis:{get:function(){return s},set:function(A){s=A,h.orient(A?"right":"left")}},useInteractiveGuideline:{get:function(){return t},set:function(A){t=A,A===!0&&c.interactive(!1)}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.ohlcBarChart=function(){var b=a.models.historicalBarChart(a.models.ohlcBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(h){var c=h.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+h.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.candlestickBarChart=function(){var b=a.models.historicalBarChart(a.models.candlestickBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(h){var c=h.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+h.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.legend=function(){function e(p){function q(t,u){return"furious"!=i?"#000":c?t.disengaged?"#000":"#fff":c?void 0:(t.color||(t.color=k(t,u)),t.disabled?t.color:"#fff")}function r(t,u){return c&&"furious"==i&&t.disengaged?"#eee":t.color||k(t,u)}function s(t){return c&&"furious"==i?1:t.disabled?0:1}return p.each(function(M){var N=g-f.left-f.right,O=d3.select(this);a.utils.initSVG(O);var u=O.selectAll("g.nv-legend").data([M]),w=u.enter().append("g").attr("class","nvd3 nv-legend").append("g"),y=u.select("g");u.attr("transform","translate("+f.left+","+f.top+")");var A,C,E=y.selectAll(".nv-series").data(function(P){return"furious"!=i?P:P.filter(function(Q){return c?!0:!Q.disengaged})}),G=E.enter().append("g").attr("class","nv-series");switch(i){case"furious":C=23;break;case"classic":C=20}if("classic"==i){G.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),A=E.select("circle")}else{if("furious"==i){G.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),A=E.select(".nv-legend-symbol"),G.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var ad=E.select(".nv-check-box");ad.each(function(Q,P){d3.select(this).selectAll("path").attr("stroke",q(Q,P))})}}G.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var ae=E.select("text.nv-legend-text");E.on("mouseover",function(Q,P){d.legendMouseover(Q,P)}).on("mouseout",function(Q,P){d.legendMouseout(Q,P)}).on("click",function(S,P){d.legendClick(S,P);var Q=E.data();if(o){if("classic"==i){b?(Q.forEach(function(T){T.disabled=!0}),S.disabled=!1):(S.disabled=!S.disabled,Q.every(function(T){return T.disabled})&&Q.forEach(function(T){T.disabled=!1}))}else{if("furious"==i){if(c){S.disengaged=!S.disengaged,S.userDisabled=void 0==S.userDisabled?!!S.disabled:S.userDisabled,S.disabled=S.disengaged||S.userDisabled}else{if(!c){S.disabled=!S.disabled,S.userDisabled=S.disabled;var R=Q.filter(function(T){return !T.disengaged});R.every(function(T){return T.userDisabled})&&Q.forEach(function(T){T.disabled=T.userDisabled=!1})}}}}d.stateChange({disabled:Q.map(function(T){return !!T.disabled}),disengaged:Q.map(function(T){return !!T.disengaged})})}}).on("dblclick",function(R,P){if(("furious"!=i||!c)&&(d.legendDblclick(R,P),o)){var Q=E.data();Q.forEach(function(S){S.disabled=!0,"furious"==i&&(S.userDisabled=S.disabled)}),R.disabled=!1,"furious"==i&&(R.userDisabled=R.disabled),d.stateChange({disabled:Q.map(function(S){return !!S.disabled})})}}),E.classed("nv-disabled",function(P){return P.userDisabled}),E.exit().remove(),ae.attr("fill",q).text(j);var af=0;if(l){var t=[];E.each(function(){var P,Q=d3.select(this).select("text");try{if(P=Q.node().getComputedTextLength(),0>=P){throw Error()}}catch(R){P=a.utils.calcApproxTextWidth(Q)}t.push(P+m)});var v=0,x=[];for(af=0;N>af&&v<t.length;){x[v]=t[v],af+=t[v++]}for(0===v&&(v=1);af>N&&v>1;){x=[],v--;for(var z=0;z<t.length;z++){t[z]>(x[z%v]||0)&&(x[z%v]=t[z])}af=x.reduce(function(Q,P){return Q+P})}for(var B=[],D=0,F=0;v>D;D++){B[D]=F,F+=x[D]}E.attr("transform",function(Q,P){return"translate("+B[P%v]+","+(5+Math.floor(P/v)*C)+")"}),n?y.attr("transform","translate("+(g-f.right-af)+","+f.top+")"):y.attr("transform","translate(0,"+f.top+")"),h=f.top+f.bottom+Math.ceil(t.length/v)*C}else{var H,I=5,J=5,K=0;E.attr("transform",function(){var P=d3.select(this).select("text").node().getComputedTextLength()+m;return H=J,g<f.left+f.right+H+P&&(J=H=5,I+=C),J+=P,J>K&&(K=J),H+K>af&&(af=H+K),"translate("+H+","+I+")"}),y.attr("transform","translate("+(g-f.right-K)+","+f.top+")"),h=f.top+f.bottom+I+15}if("furious"==i){A.attr("width",function(Q,P){return ae[0][P].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var L=y.select(".nv-legend-bg");L.transition().duration(300).attr("x",-C).attr("width",af+C-12).attr("height",h+10).attr("y",-f.top-10).attr("opacity",c?1:0)}A.style("fill",r).style("fill-opacity",s).style("stroke",r)}),e}var f={top:5,right:0,bottom:5,left:0},g=400,h=20,j=function(p){return p.key},k=a.utils.getColor(),l=!0,m=32,n=!0,o=!0,b=!1,c=!1,d=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),i="classic";return e.dispatch=d,e.options=a.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return g},set:function(p){g=p}},height:{get:function(){return h},set:function(p){h=p}},key:{get:function(){return j},set:function(p){j=p}},align:{get:function(){return l},set:function(p){l=p}},rightAlign:{get:function(){return n},set:function(p){n=p}},padding:{get:function(){return m},set:function(p){m=p}},updateState:{get:function(){return o},set:function(p){o=p}},radioButtonMode:{get:function(){return b},set:function(p){b=p}},expanded:{get:function(){return c},set:function(p){c=p}},vers:{get:function(){return i},set:function(p){i=p}},margin:{get:function(){return f},set:function(p){f.top=void 0!==p.top?p.top:f.top,f.right=void 0!==p.right?p.right:f.right,f.bottom=void 0!==p.bottom?p.bottom:f.bottom,f.left=void 0!==p.left?p.left:f.left}},color:{get:function(){return k},set:function(p){k=a.utils.getColor(p)}}}),a.utils.initOptions(e),e},a.models.line=function(){function b(w){return v.reset(),v.models(e),w.each(function(B){l=d3.select(this);var H=a.utils.availableWidth(g,l,f),x=a.utils.availableHeight(j,l,f);a.utils.initSVG(l),c=e.xScale(),d=e.yScale(),k=k||c,m=m||d;var z=l.selectAll("g.nv-wrap.nv-line").data([B]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=A.append("defs"),D=A.append("g"),E=z.select("g");D.append("g").attr("class","nv-groups"),D.append("g").attr("class","nv-scatterWrap"),z.attr("transform","translate("+f.left+","+f.top+")"),e.width(H).height(x);var F=z.select(".nv-scatterWrap");F.call(e),C.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect"),z.select("#nv-edge-clip-"+e.id()+" rect").attr("width",H).attr("height",x>0?x:0),E.attr("clip-path",t?"url(#nv-edge-clip-"+e.id()+")":""),F.attr("clip-path",t?"url(#nv-edge-clip-"+e.id()+")":"");var G=z.select(".nv-groups").selectAll(".nv-group").data(function(J){return J},function(J){return J.key});G.enter().append("g").style("stroke-opacity",0.000001).style("stroke-width",function(J){return J.strokeWidth||n}).style("fill-opacity",0.000001),G.exit().remove(),G.attr("class",function(J,K){return(J.classed||"")+" nv-group nv-series-"+K}).classed("hover",function(J){return J.hover}).style("fill",function(J,K){return o(J,K)}).style("stroke",function(J,K){return o(J,K)}),G.watchTransition(v,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(J){return J.fillOpacity||0.5});var I=G.selectAll("path.nv-area").data(function(J){return s(J)?[J]:[]});I.enter().append("path").attr("class","nv-area").attr("d",function(J){return d3.svg.area().interpolate(u).defined(r).x(function(L,K){return a.utils.NaNtoZero(k(p(L,K)))}).y0(function(L,K){return a.utils.NaNtoZero(m(q(L,K)))}).y1(function(){return m(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[J.values])}),G.exit().selectAll("path.nv-area").remove(),I.watchTransition(v,"line: areaPaths").attr("d",function(J){return d3.svg.area().interpolate(u).defined(r).x(function(L,K){return a.utils.NaNtoZero(c(p(L,K)))}).y0(function(L,K){return a.utils.NaNtoZero(d(q(L,K)))}).y1(function(){return d(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[J.values])});var y=G.selectAll("path.nv-line").data(function(J){return[J.values]});y.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(u).defined(r).x(function(K,J){return a.utils.NaNtoZero(k(p(K,J)))}).y(function(K,J){return a.utils.NaNtoZero(m(q(K,J)))})),y.watchTransition(v,"line: linePaths").attr("d",d3.svg.line().interpolate(u).defined(r).x(function(K,J){return a.utils.NaNtoZero(c(p(K,J)))}).y(function(K,J){return a.utils.NaNtoZero(d(q(K,J)))})),k=c.copy(),m=d.copy()}),v.renderEnd("line immediate"),b}var c,d,e=a.models.scatter(),f={top:0,right:0,bottom:0,left:0},g=960,j=500,l=null,n=1.5,o=a.utils.defaultColor(),p=function(w){return w.x},q=function(w){return w.y},r=function(w,x){return !isNaN(q(w,x))&&null!==q(w,x)},s=function(w){return w.area},t=!1,u="linear",h=250,i=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");e.pointSize(16).pointDomain([16,256]);var k,m,v=a.utils.renderWatch(i,h);return b.dispatch=i,b.scatter=e,e.dispatch.on("elementClick",function(){i.elementClick.apply(this,arguments)}),e.dispatch.on("elementMouseover",function(){i.elementMouseover.apply(this,arguments)}),e.dispatch.on("elementMouseout",function(){i.elementMouseout.apply(this,arguments)}),b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(w){g=w}},height:{get:function(){return j},set:function(w){j=w}},defined:{get:function(){return r},set:function(w){r=w}},interpolate:{get:function(){return u},set:function(w){u=w}},clipEdge:{get:function(){return t},set:function(w){t=w}},margin:{get:function(){return f},set:function(w){f.top=void 0!==w.top?w.top:f.top,f.right=void 0!==w.right?w.right:f.right,f.bottom=void 0!==w.bottom?w.bottom:f.bottom,f.left=void 0!==w.left?w.left:f.left}},duration:{get:function(){return h},set:function(w){h=w,v.reset(h),e.duration(h)}},isArea:{get:function(){return s},set:function(w){s=d3.functor(w)}},x:{get:function(){return p},set:function(w){p=w,e.x(w)}},y:{get:function(){return q},set:function(w){q=w,e.y(w)}},color:{get:function(){return o},set:function(w){o=a.utils.getColor(w),e.color(o)}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.lineChart=function(){function b(B){return z.reset(),z.models(e),p&&z.models(f),r&&z.models(g),B.each(function(I){var F=d3.select(this),H=this;a.utils.initSVG(F);var J=a.utils.availableWidth(m,F,k),K=a.utils.availableHeight(n,F,k);if(b.update=function(){0===y?F.call(b):F.transition().duration(y).call(b)},b.container=this,u.setter(q(I),b.update).getter(A(I)).update(),u.disabled=I.map(function(M){return !!M.disabled}),!v){var L;v={};for(L in u){v[L]=u[L] instanceof Array?u[L].slice(0):u[L]}}if(!(I&&I.length&&I.filter(function(M){return M.values.length}).length)){return a.utils.noData(b,F),b}F.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var C=F.selectAll("g.nv-wrap.nv-lineChart").data([I]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),E=C.select("g");D.append("rect").style("opacity",0),D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-linesWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),E.select("rect").attr("width",J).attr("height",K>0?K:0),o&&(h.width(J),E.select(".nv-legendWrap").datum(I).call(h),k.top!=h.height()&&(k.top=h.height(),K=a.utils.availableHeight(n,F,k)),C.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")),C.attr("transform","translate("+k.left+","+k.top+")"),s&&E.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)"),t&&(i.width(J).height(K).margin({left:k.left,top:k.top}).svgContainer(F).xScale(c),C.select(".nv-interactive").call(i)),e.width(J).height(K).color(I.map(function(N,M){return N.color||l(N,M)}).filter(function(N,M){return !I[M].disabled}));var G=E.select(".nv-linesWrap").datum(I.filter(function(M){return !M.disabled}));G.call(e),p&&(f.scale(c)._ticks(a.utils.calcTicksX(J/100,I)).tickSize(-K,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),E.select(".nv-x.nv-axis").call(f)),r&&(g.scale(d)._ticks(a.utils.calcTicksY(K/36,I)).tickSize(-J,0),E.select(".nv-y.nv-axis").call(g)),h.dispatch.on("stateChange",function(M){for(var N in M){u[N]=M[N]}x.stateChange(u),b.update()}),i.dispatch.on("elementMousemove",function(N){e.clearHighlights();var P,Q,R,S=[];if(I.filter(function(W,X){return W.seriesIndex=X,!W.disabled}).forEach(function(W,X){Q=a.interactiveBisect(W.values,N.pointXValue,b.x());var Y=W.values[Q],Z=b.y()(Y,Q);null!=Z&&e.highlightPoint(X,Q,!0),void 0!==Y&&(void 0===P&&(P=Y),void 0===R&&(R=b.xScale()(b.x()(Y,Q))),S.push({key:W.key,value:Z,color:l(W,W.seriesIndex)}))}),S.length>2){var T=b.yScale().invert(N.mouseY),U=Math.abs(b.yScale().domain()[0]-b.yScale().domain()[1]),V=0.03*U,O=a.nearestValueIndex(S.map(function(W){return W.value}),T,V);null!==O&&(S[O].highlight=!0)}var M=f.tickFormat()(b.x()(P,Q));i.tooltip.position({left:N.mouseX+k.left,top:N.mouseY+k.top}).chartContainer(H.parentNode).valueFormatter(function(W){return null==W?"N/A":g.tickFormat()(W)}).data({value:M,index:Q,series:S})(),i.renderGuideLine(R)}),i.dispatch.on("elementClick",function(N){var O,M=[];I.filter(function(P,Q){return P.seriesIndex=Q,!P.disabled}).forEach(function(P){var Q=a.interactiveBisect(P.values,N.pointXValue,b.x()),R=P.values[Q];if("undefined"!=typeof R){"undefined"==typeof O&&(O=b.xScale()(b.x()(R,Q)));var S=b.yScale()(b.y()(R,Q));M.push({point:R,pointIndex:Q,pos:[O,S],seriesIndex:P.seriesIndex,series:P})}}),e.dispatch.elementClick(M)}),i.dispatch.on("elementMouseout",function(){e.clearHighlights()}),x.on("changeState",function(M){"undefined"!=typeof M.disabled&&I.length===M.disabled.length&&(I.forEach(function(O,N){O.disabled=M.disabled[N]}),u.disabled=M.disabled),b.update()})}),z.renderEnd("lineChart immediate"),b}var c,d,e=a.models.line(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=a.interactiveGuideline(),j=a.models.tooltip(),k={top:30,right:20,bottom:50,left:60},l=a.utils.defaultColor(),m=null,n=null,o=!0,p=!0,r=!0,s=!1,t=!1,u=a.utils.state(),v=null,w=null,x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),y=250;f.orient("bottom").tickPadding(7),g.orient(s?"right":"left"),j.valueFormatter(function(B,C){return g.tickFormat()(B,C)}).headerFormatter(function(B,C){return f.tickFormat()(B,C)});var z=a.utils.renderWatch(x,y),A=function(B){return function(){return{active:B.map(function(C){return !C.disabled})}}},q=function(B){return function(C){void 0!==C.active&&B.forEach(function(E,D){E.disabled=!C.active[D]})}};return e.dispatch.on("elementMouseover.tooltip",function(B){j.data(B).position(B.pos).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(){j.hidden(!0)}),b.dispatch=x,b.lines=e,b.legend=h,b.xAxis=f,b.yAxis=g,b.interactiveLayer=i,b.tooltip=j,b.dispatch=x,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return m},set:function(B){m=B}},height:{get:function(){return n},set:function(B){n=B}},showLegend:{get:function(){return o},set:function(B){o=B}},showXAxis:{get:function(){return p},set:function(B){p=B}},showYAxis:{get:function(){return r},set:function(B){r=B}},defaultState:{get:function(){return v},set:function(B){v=B}},noData:{get:function(){return w},set:function(B){w=B}},tooltips:{get:function(){return j.enabled()},set:function(B){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),j.enabled(!!B)}},tooltipContent:{get:function(){return j.contentGenerator()},set:function(B){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),j.contentGenerator(B)}},margin:{get:function(){return k},set:function(B){k.top=void 0!==B.top?B.top:k.top,k.right=void 0!==B.right?B.right:k.right,k.bottom=void 0!==B.bottom?B.bottom:k.bottom,k.left=void 0!==B.left?B.left:k.left}},duration:{get:function(){return y},set:function(B){y=B,z.reset(y),e.duration(y),f.duration(y),g.duration(y)}},color:{get:function(){return l},set:function(B){l=a.utils.getColor(B),h.color(l),e.color(l)}},rightAlignYAxis:{get:function(){return s},set:function(B){s=B,g.orient(s?"right":"left")}},useInteractiveGuideline:{get:function(){return t},set:function(B){t=B,t&&(e.interactive(!1),e.useVoronoi(!1))}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.linePlusBarChart=function(){function I(S){return S.each(function(Z){function ab(aw){var at=+("e"==aw),au=at?1:-1,av=ao/3;return"M"+0.5*au+","+av+"A6,6 0 0 "+at+" "+6.5*au+","+(av+6)+"V"+(2*av-6)+"A6,6 0 0 "+at+" "+0.5*au+","+2*av+"ZM"+2.5*au+","+(av+8)+"V"+(2*av-8)+"M"+4.5*au+","+(av+8)+"V"+(2*av-8)}function ai(){t.empty()||t.extent(H),ac.data([t.empty()?L.domain():H]).each(function(av){var at=L(av[0])-L.range()[0],au=L.range()[1]-L(av[1]);d3.select(this).select(".left").attr("width",0>at?0:at),d3.select(this).select(".right").attr("x",L(av[1])).attr("width",0>au?0:au)})}function ak(){H=t.empty()?null:t.extent(),J=t.empty()?L.domain():t.extent(),c.brush({extent:J,brush:t}),ai(),f.width(am).height(an).color(Z.map(function(av,aw){return av.color||B(av,aw)}).filter(function(av,aw){return !Z[aw].disabled&&Z[aw].bar})),Q.width(am).height(an).color(Z.map(function(av,aw){return av.color||B(av,aw)}).filter(function(av,aw){return !Z[aw].disabled&&!Z[aw].bar}));var at=T.select(".nv-focus .nv-barsWrap").datum(aq.length?aq.map(function(av){return{key:av.key,values:av.values.filter(function(aw,ax){return f.x()(aw,ax)>=J[0]&&f.x()(aw,ax)<=J[1]})}}):[{values:[]}]),au=T.select(".nv-focus .nv-linesWrap").datum(aj[0].disabled?[{values:[]}]:aj.map(function(av){return{area:av.area,fillOpacity:av.fillOpacity,key:av.key,values:av.values.filter(function(aw,ax){return Q.x()(aw,ax)>=J[0]&&Q.x()(aw,ax)<=J[1]})}}));K=aq.length?f.xScale():Q.xScale(),j.scale(K)._ticks(a.utils.calcTicksX(am/100,Z)).tickSize(-an,0),j.domain([Math.ceil(J[0]),Math.floor(J[1])]),T.select(".nv-x.nv-axis").transition().duration(e).call(j),at.transition().duration(e).call(f),au.transition().duration(e).call(Q),T.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),n.scale(M)._ticks(a.utils.calcTicksY(an/36,Z)).tickSize(-am,0),p.scale(N)._ticks(a.utils.calcTicksY(an/36,Z)).tickSize(aq.length?0:-am,0),T.select(".nv-focus .nv-y1.nv-axis").style("opacity",aq.length?1:0),T.select(".nv-focus .nv-y2.nv-axis").style("opacity",aj.length&&!aj[0].disabled?1:0).attr("transform","translate("+K.range()[1]+",0)"),T.select(".nv-focus .nv-y1.nv-axis").transition().duration(e).call(n),T.select(".nv-focus .nv-y2.nv-axis").transition().duration(e).call(p)}var al=d3.select(this);a.utils.initSVG(al);var am=a.utils.availableWidth(x,al,v),an=a.utils.availableHeight(y,al,v)-(D?G:0),ao=G-w.top-w.bottom;if(I.update=function(){al.transition().duration(e).call(I)},I.container=this,g.setter(R(Z),I.update).getter(o(Z)).update(),g.disabled=Z.map(function(at){return !!at.disabled}),!i){var ap;i={};for(ap in g){i[ap]=g[ap] instanceof Array?g[ap].slice(0):g[ap]}}if(!(Z&&Z.length&&Z.filter(function(at){return at.values.length}).length)){return a.utils.noData(I,al),I}al.selectAll(".nv-noData").remove();var aq=Z.filter(function(at){return !at.disabled&&at.bar}),aj=Z.filter(function(at){return !at.bar});K=f.xScale(),L=l.scale(),M=f.yScale(),N=Q.yScale(),O=h.yScale(),P=d.yScale();var ad=Z.filter(function(at){return !at.disabled&&at.bar}).map(function(at){return at.values.map(function(au,av){return{x:z(au,av),y:A(au,av)}})}),U=Z.filter(function(at){return !at.disabled&&!at.bar}).map(function(at){return at.values.map(function(au,av){return{x:z(au,av),y:A(au,av)}})});K.range([0,am]),L.domain(d3.extent(d3.merge(ad.concat(U)),function(at){return at.x})).range([0,am]);var ah=al.selectAll("g.nv-wrap.nv-linePlusBar").data([Z]),Y=ah.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),T=ah.select("g");Y.append("g").attr("class","nv-legendWrap");var ag=Y.append("g").attr("class","nv-focus");ag.append("g").attr("class","nv-x nv-axis"),ag.append("g").attr("class","nv-y1 nv-axis"),ag.append("g").attr("class","nv-y2 nv-axis"),ag.append("g").attr("class","nv-barsWrap"),ag.append("g").attr("class","nv-linesWrap");var X=Y.append("g").attr("class","nv-context");if(X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y1 nv-axis"),X.append("g").attr("class","nv-y2 nv-axis"),X.append("g").attr("class","nv-barsWrap"),X.append("g").attr("class","nv-linesWrap"),X.append("g").attr("class","nv-brushBackground"),X.append("g").attr("class","nv-x nv-brush"),C){var af=s.align()?am/2:am,ae=s.align()?af:0;s.width(af),T.select(".nv-legendWrap").datum(Z.map(function(at){return at.originalKey=void 0===at.originalKey?at.key:at.originalKey,at.key=at.originalKey+(at.bar?k:m),at})).call(s),v.top!=s.height()&&(v.top=s.height(),an=a.utils.availableHeight(y,al,v)-G),T.select(".nv-legendWrap").attr("transform","translate("+ae+","+-v.top+")")}ah.attr("transform","translate("+v.left+","+v.top+")"),T.select(".nv-context").style("display",D?"initial":"none"),h.width(am).height(ao).color(Z.map(function(au,at){return au.color||B(au,at)}).filter(function(au,at){return !Z[at].disabled&&Z[at].bar})),d.width(am).height(ao).color(Z.map(function(au,at){return au.color||B(au,at)}).filter(function(au,at){return !Z[at].disabled&&!Z[at].bar}));var W=T.select(".nv-context .nv-barsWrap").datum(aq.length?aq:[{values:[]}]),aa=T.select(".nv-context .nv-linesWrap").datum(aj[0].disabled?[{values:[]}]:aj);T.select(".nv-context").attr("transform","translate(0,"+(an+v.bottom+w.top)+")"),W.transition().call(h),aa.transition().call(d),F&&(l._ticks(a.utils.calcTicksX(am/100,Z)).tickSize(-ao,0),T.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+O.range()[0]+")"),T.select(".nv-context .nv-x.nv-axis").transition().call(l)),E&&(q.scale(O)._ticks(ao/36).tickSize(-am,0),r.scale(P)._ticks(ao/36).tickSize(aq.length?0:-am,0),T.select(".nv-context .nv-y3.nv-axis").style("opacity",aq.length?1:0).attr("transform","translate(0,"+L.range()[0]+")"),T.select(".nv-context .nv-y2.nv-axis").style("opacity",aj.length?1:0).attr("transform","translate("+L.range()[1]+",0)"),T.select(".nv-context .nv-y1.nv-axis").transition().call(q),T.select(".nv-context .nv-y2.nv-axis").transition().call(r)),t.x(L).on("brush",ak),H&&t.extent(H);var ac=T.select(".nv-brushBackground").selectAll("g").data([H||t.extent()]),V=ac.enter().append("g");V.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ao),V.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",ao);var ar=T.select(".nv-x.nv-brush").call(t);ar.selectAll("rect").attr("height",ao),ar.selectAll(".resize").append("path").attr("d",ab),s.dispatch.on("stateChange",function(at){for(var au in at){g[au]=at[au]}c.stateChange(g),I.update()}),c.on("changeState",function(at){"undefined"!=typeof at.disabled&&(Z.forEach(function(av,au){av.disabled=at.disabled[au]}),g.disabled=at.disabled),I.update()}),ak()}),I}var J,K,L,M,N,O,P,Q=a.models.line(),d=a.models.line(),f=a.models.historicalBar(),h=a.models.historicalBar(),j=a.models.axis(),l=a.models.axis(),n=a.models.axis(),p=a.models.axis(),q=a.models.axis(),r=a.models.axis(),s=a.models.legend(),t=d3.svg.brush(),u=a.models.tooltip(),v={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},x=null,y=null,z=function(S){return S.x},A=function(S){return S.y},B=a.utils.defaultColor(),C=!0,D=!0,E=!1,F=!0,G=50,H=null,b=null,c=d3.dispatch("brush","stateChange","changeState"),e=0,g=a.utils.state(),i=null,k=" (left axis)",m=" (right axis)";Q.clipEdge(!0),d.interactive(!1),d.pointActive(function(){return !1}),j.orient("bottom").tickPadding(5),n.orient("left"),p.orient("right"),l.orient("bottom").tickPadding(5),q.orient("left"),r.orient("right"),u.headerEnabled(!0).headerFormatter(function(S,T){return j.tickFormat()(S,T)});var o=function(S){return function(){return{active:S.map(function(T){return !T.disabled})}}},R=function(S){return function(T){void 0!==T.active&&S.forEach(function(V,U){V.disabled=!T.active[U]})}};return Q.dispatch.on("elementMouseover.tooltip",function(S){u.duration(100).valueFormatter(function(T,U){return p.tickFormat()(T,U)}).data(S).position(S.pos).hidden(!1)}),Q.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),f.dispatch.on("elementMouseover.tooltip",function(S){S.value=I.x()(S.data),S.series={value:I.y()(S.data),color:S.color},u.duration(0).valueFormatter(function(T,U){return n.tickFormat()(T,U)}).data(S).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){u.position({top:d3.event.pageY,left:d3.event.pageX})()}),I.dispatch=c,I.legend=s,I.lines=Q,I.lines2=d,I.bars=f,I.bars2=h,I.xAxis=j,I.x2Axis=l,I.y1Axis=n,I.y2Axis=p,I.y3Axis=q,I.y4Axis=r,I.tooltip=u,I.options=a.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return x},set:function(S){x=S}},height:{get:function(){return y},set:function(S){y=S}},showLegend:{get:function(){return C},set:function(S){C=S}},brushExtent:{get:function(){return H},set:function(S){H=S}},noData:{get:function(){return b},set:function(S){b=S}},focusEnable:{get:function(){return D},set:function(S){D=S}},focusHeight:{get:function(){return G},set:function(S){G=S}},focusShowAxisX:{get:function(){return F},set:function(S){F=S}},focusShowAxisY:{get:function(){return E},set:function(S){E=S}},legendLeftAxisHint:{get:function(){return k},set:function(S){k=S}},legendRightAxisHint:{get:function(){return m},set:function(S){m=S}},tooltips:{get:function(){return u.enabled()},set:function(S){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!S)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(S){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(S)}},margin:{get:function(){return v},set:function(S){v.top=void 0!==S.top?S.top:v.top,v.right=void 0!==S.right?S.right:v.right,v.bottom=void 0!==S.bottom?S.bottom:v.bottom,v.left=void 0!==S.left?S.left:v.left}},focusMargin:{get:function(){return w},set:function(S){w.top=void 0!==S.top?S.top:w.top,w.right=void 0!==S.right?S.right:w.right,w.bottom=void 0!==S.bottom?S.bottom:w.bottom,w.left=void 0!==S.left?S.left:w.left}},duration:{get:function(){return e},set:function(S){e=S}},color:{get:function(){return B},set:function(S){B=a.utils.getColor(S),s.color(B)}},x:{get:function(){return z},set:function(S){z=S,Q.x(S),d.x(S),f.x(S),h.x(S)}},y:{get:function(){return A},set:function(S){A=S,Q.y(S),d.y(S),f.y(S),h.y(S)}}}),a.utils.inheritOptions(I,Q),a.utils.initOptions(I),I},a.models.lineWithFocusChart=function(){function v(G){return G.each(function(H){function M(aa){var ac=+("e"==aa),ab=ac?1:-1,ad=P/3;return"M"+0.5*ab+","+ad+"A6,6 0 0 "+ac+" "+6.5*ab+","+(ad+6)+"V"+(2*ad-6)+"A6,6 0 0 "+ac+" "+0.5*ab+","+2*ad+"ZM"+2.5*ab+","+(ad+8)+"V"+(2*ad-8)+"M"+4.5*ab+","+(ad+8)+"V"+(2*ad-8)}function I(){d.empty()||d.extent(u),X.data([d.empty()?y.domain():u]).each(function(aa){var ab=y(aa[0])-w.range()[0],ac=N-y(aa[1]);d3.select(this).select(".left").attr("width",0>ab?0:ab),d3.select(this).select(".right").attr("x",y(aa[1])).attr("width",0>ac?0:ac)})}function J(){u=d.empty()?null:d.extent();var aa=d.empty()?y.domain():d.extent();if(!(Math.abs(aa[0]-aa[1])<=1)){g.brush({extent:aa,brush:d}),I();var ab=T.select(".nv-focus .nv-linesWrap").datum(H.filter(function(ac){return !ac.disabled}).map(function(ac){return{key:ac.key,area:ac.area,values:ac.values.filter(function(ae,ad){return A.x()(ae,ad)>=aa[0]&&A.x()(ae,ad)<=aa[1]})}}));ab.transition().duration(i).call(A),T.select(".nv-focus .nv-x.nv-axis").transition().duration(i).call(C),T.select(".nv-focus .nv-y.nv-axis").transition().duration(i).call(E)}}var K=d3.select(this),L=this;a.utils.initSVG(K);var N=a.utils.availableWidth(n,K,h),O=a.utils.availableHeight(p,K,h)-r,P=r-j.top-j.bottom;if(v.update=function(){K.transition().duration(i).call(v)},v.container=this,k.setter(q(H),v.update).getter(o(H)).update(),k.disabled=H.map(function(aa){return !!aa.disabled}),!m){var Q;m={};for(Q in k){m[Q]=k[Q] instanceof Array?k[Q].slice(0):k[Q]}}if(!(H&&H.length&&H.filter(function(aa){return aa.values.length}).length)){return a.utils.noData(v,K),v}K.selectAll(".nv-noData").remove(),w=A.xScale(),x=A.yScale(),y=B.xScale(),z=B.yScale();var R=K.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([H]),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),T=R.select("g");S.append("g").attr("class","nv-legendWrap");var U=S.append("g").attr("class","nv-focus");U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-linesWrap"),U.append("g").attr("class","nv-interactive");var V=S.append("g").attr("class","nv-context");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-linesWrap"),V.append("g").attr("class","nv-brushBackground"),V.append("g").attr("class","nv-x nv-brush"),t&&(c.width(N),T.select(".nv-legendWrap").datum(H).call(c),h.top!=c.height()&&(h.top=c.height(),O=a.utils.availableHeight(p,K,h)-r),T.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),R.attr("transform","translate("+h.left+","+h.top+")"),s&&(f.width(N).height(O).margin({left:h.left,top:h.top}).svgContainer(K).xScale(w),R.select(".nv-interactive").call(f)),A.width(N).height(O).color(H.map(function(aa,ab){return aa.color||l(aa,ab)}).filter(function(aa,ab){return !H[ab].disabled})),B.defined(A.defined()).width(N).height(P).color(H.map(function(aa,ab){return aa.color||l(aa,ab)}).filter(function(aa,ab){return !H[ab].disabled})),T.select(".nv-context").attr("transform","translate(0,"+(O+h.bottom+j.top)+")");var W=T.select(".nv-context .nv-linesWrap").datum(H.filter(function(aa){return !aa.disabled}));d3.transition(W).call(B),C.scale(w)._ticks(a.utils.calcTicksX(N/100,H)).tickSize(-O,0),E.scale(x)._ticks(a.utils.calcTicksY(O/36,H)).tickSize(-N,0),T.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+O+")"),d.x(y).on("brush",function(){J()}),u&&d.extent(u);var X=T.select(".nv-brushBackground").selectAll("g").data([u||d.extent()]),Y=X.enter().append("g");Y.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",P),Y.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",P);var Z=T.select(".nv-x.nv-brush").call(d);Z.selectAll("rect").attr("height",P),Z.selectAll(".resize").append("path").attr("d",M),J(),F.scale(y)._ticks(a.utils.calcTicksX(N/100,H)).tickSize(-P,0),T.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+z.range()[0]+")"),d3.transition(T.select(".nv-context .nv-x.nv-axis")).call(F),b.scale(z)._ticks(a.utils.calcTicksY(P/36,H)).tickSize(-N,0),d3.transition(T.select(".nv-context .nv-y.nv-axis")).call(b),T.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+z.range()[0]+")"),c.dispatch.on("stateChange",function(ab){for(var aa in ab){k[aa]=ab[aa]}g.stateChange(k),v.update()}),f.dispatch.on("elementMousemove",function(aa){A.clearHighlights();var ab,ac,ae,af=[];if(H.filter(function(am,an){return am.seriesIndex=an,!am.disabled}).forEach(function(at,au){var av=d.empty()?y.domain():d.extent(),aw=at.values.filter(function(ak,al){return A.x()(ak,al)>=av[0]&&A.x()(ak,al)<=av[1]});ac=a.interactiveBisect(aw,aa.pointXValue,A.x());var aq=aw[ac],ar=v.y()(aq,ac);null!=ar&&A.highlightPoint(au,ac,!0),void 0!==aq&&(void 0===ab&&(ab=aq),void 0===ae&&(ae=v.xScale()(v.x()(aq,ac))),af.push({key:at.key,value:v.y()(aq,ac),color:l(at,at.seriesIndex)}))}),af.length>2){var ag=v.yScale().invert(aa.mouseY),ah=Math.abs(v.yScale().domain()[0]-v.yScale().domain()[1]),ad=0.03*ah,ai=a.nearestValueIndex(af.map(function(al){return al.value}),ag,ad);null!==ai&&(af[ai].highlight=!0)}var aj=C.tickFormat()(v.x()(ab,ac));f.tooltip.position({left:aa.mouseX+h.left,top:aa.mouseY+h.top}).chartContainer(L.parentNode).valueFormatter(function(al){return null==al?"N/A":E.tickFormat()(al)}).data({value:aj,index:ac,series:af})(),f.renderGuideLine(ae)}),f.dispatch.on("elementMouseout",function(){A.clearHighlights()}),g.on("changeState",function(aa){"undefined"!=typeof aa.disabled&&H.forEach(function(ab,ac){ab.disabled=aa.disabled[ac]}),v.update()})}),v}var w,x,y,z,A=a.models.line(),B=a.models.line(),C=a.models.axis(),E=a.models.axis(),F=a.models.axis(),b=a.models.axis(),c=a.models.legend(),d=d3.svg.brush(),e=a.models.tooltip(),f=a.interactiveGuideline(),h={top:30,right:30,bottom:30,left:60},j={top:0,right:30,bottom:20,left:60},l=a.utils.defaultColor(),n=null,p=null,r=50,s=!1,t=!0,u=null,D=null,g=d3.dispatch("brush","stateChange","changeState"),i=250,k=a.utils.state(),m=null;A.clipEdge(!0).duration(0),B.interactive(!1),B.pointActive(function(){return !1}),C.orient("bottom").tickPadding(5),E.orient("left"),F.orient("bottom").tickPadding(5),b.orient("left"),e.valueFormatter(function(G,H){return E.tickFormat()(G,H)}).headerFormatter(function(G,H){return C.tickFormat()(G,H)});var o=function(G){return function(){return{active:G.map(function(H){return !H.disabled})}}},q=function(G){return function(H){void 0!==H.active&&G.forEach(function(J,I){J.disabled=!H.active[I]})}};return A.dispatch.on("elementMouseover.tooltip",function(G){e.data(G).position(G.pos).hidden(!1)}),A.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),v.dispatch=g,v.legend=c,v.lines=A,v.lines2=B,v.xAxis=C,v.yAxis=E,v.x2Axis=F,v.y2Axis=b,v.interactiveLayer=f,v.tooltip=e,v.options=a.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return n},set:function(G){n=G}},height:{get:function(){return p},set:function(G){p=G}},focusHeight:{get:function(){return r},set:function(G){r=G}},showLegend:{get:function(){return t},set:function(G){t=G}},brushExtent:{get:function(){return u},set:function(G){u=G}},defaultState:{get:function(){return m},set:function(G){m=G}},noData:{get:function(){return D},set:function(G){D=G}},tooltips:{get:function(){return e.enabled()},set:function(G){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),e.enabled(!!G)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(G){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),e.contentGenerator(G)}},margin:{get:function(){return h},set:function(G){h.top=void 0!==G.top?G.top:h.top,h.right=void 0!==G.right?G.right:h.right,h.bottom=void 0!==G.bottom?G.bottom:h.bottom,h.left=void 0!==G.left?G.left:h.left}},focusMargin:{get:function(){return j},set:function(G){j.top=void 0!==G.top?G.top:j.top,j.right=void 0!==G.right?G.right:j.right,j.bottom=void 0!==G.bottom?G.bottom:j.bottom,j.left=void 0!==G.left?G.left:j.left}},color:{get:function(){return l},set:function(G){l=a.utils.getColor(G),c.color(l)}},interpolate:{get:function(){return A.interpolate()},set:function(G){A.interpolate(G),B.interpolate(G)}},xTickFormat:{get:function(){return C.tickFormat()},set:function(G){C.tickFormat(G),F.tickFormat(G)}},yTickFormat:{get:function(){return E.tickFormat()},set:function(G){E.tickFormat(G),b.tickFormat(G)}},duration:{get:function(){return i},set:function(G){i=G,E.duration(i),b.duration(i),C.duration(i),F.duration(i)}},x:{get:function(){return A.x()},set:function(G){A.x(G),B.x(G)}},y:{get:function(){return A.y()},set:function(G){A.y(G),B.y(G)}},useInteractiveGuideline:{get:function(){return s},set:function(G){s=G,s&&(A.interactive(!1),A.useVoronoi(!1))}}}),a.utils.inheritOptions(v,A),a.utils.initOptions(v),v},a.models.multiBar=function(){function v(G){return o.reset(),G.each(function(K){var W=F-E.left-E.right,H=b-E.top-E.bottom;f=d3.select(this),a.utils.initSVG(f);var I=0;if(D&&K.length&&(D=[{values:K[0].values.map(function(X){return{x:X.x,y:0,series:X.series,size:0.01}})}]),r){var J=d3.layout.stack().offset(s).values(function(X){return X.values}).y(j)(!K.length&&D?D:K);J.forEach(function(Y,X){Y.nonStackable?(K[X].nonStackableSeries=I++,J[X]=K[X]):X>0&&J[X-1].nonStackable&&J[X].values.map(function(Z,aa){Z.y0-=J[X-1].values[aa].y,Z.y1=Z.y0+Z.y})}),K=J}K.forEach(function(X,Y){X.values.forEach(function(Z){Z.series=Y,Z.key=X.key})}),r&&K[0].values.map(function(aa,X){var Y=0,Z=0;K.map(function(ab,ac){if(!K[ac].nonStackable){var ad=ab.values[X];ad.size=Math.abs(ad.y),ad.y<0?(ad.y1=Z,Z-=ad.size):(ad.y1=ad.size+Y,Y+=ad.size)}})});var L=x&&y?[]:K.map(function(X,Y){return X.values.map(function(aa,Z){return{x:h(aa,Z),y:j(aa,Z),y0:aa.y0,y1:aa.y1,idx:Y,yErr:l(aa,Z)}})});c.domain(x||d3.merge(L).map(function(X){return X.x})).rangeBands(z||[0,W],k),d.domain(y||d3.extent(d3.merge(d3.merge(L).map(function(Z){var X=Z.y;r&&!K[Z.idx].nonStackable&&(X=Z.y>0?Z.y1:Z.y1+Z.y);var Y=Z.yErr;return Y?Y.length?[X+Y[0],X+Y[1]]:(Y=Math.abs(Y),[X-Y,X+Y]):[X]})).concat(n))).range(A||[H,0]),c.domain()[0]===c.domain()[1]&&c.domain(c.domain()[0]?[c.domain()[0]-0.01*c.domain()[0],c.domain()[1]+0.01*c.domain()[1]]:[-1,1]),d.domain()[0]===d.domain()[1]&&d.domain(d.domain()[0]?[d.domain()[0]+0.01*d.domain()[0],d.domain()[1]-0.01*d.domain()[1]]:[-1,1]),B=B||c,C=C||d;var M=f.selectAll("g.nv-wrap.nv-multibar").data([K]),N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),O=N.append("defs"),P=N.append("g"),Q=M.select("g");P.append("g").attr("class","nv-groups"),M.attr("transform","translate("+E.left+","+E.top+")"),O.append("clipPath").attr("id","nv-edge-clip-"+e).append("rect"),M.select("#nv-edge-clip-"+e+" rect").attr("width",W).attr("height",H),Q.attr("clip-path",p?"url(#nv-edge-clip-"+e+")":"");var R=M.select(".nv-groups").selectAll(".nv-group").data(function(X){return X},function(X,Y){return Y});R.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);var S=o.transition(R.exit().selectAll("g.nv-bar"),"multibarExit",Math.min(100,i)).attr("y",function(Y){var X=C(0)||0;return r&&K[Y.series]&&!K[Y.series].nonStackable&&(X=C(Y.y0)),X}).attr("height",0).remove();S.delay&&S.delay(function(Y,Z){var X=Z*(i/(q+1))-Z;return X}),R.attr("class",function(X,Y){return"nv-group nv-series-"+Y}).classed("hover",function(X){return X.hover}).style("fill",function(X,Y){return t(X,Y)}).style("stroke",function(X,Y){return t(X,Y)}),R.style("stroke-opacity",1).style("fill-opacity",0.75);var T=R.selectAll("g.nv-bar").data(function(X){return D&&!K.length?D.values:X.values});T.exit().remove();var U=T.enter().append("g").attr("class",function(X,Y){return j(X,Y)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(ab,X,Y){var Z=r&&!K[Y].nonStackable?0:Y*c.rangeBand()/K.length,aa=C(r&&!K[Y].nonStackable?ab.y0:0)||0;return"translate("+Z+","+aa+")"});U.append("rect").attr("height",0).attr("width",function(Z,X,Y){return c.rangeBand()/(r&&!K[Y].nonStackable?1:K.length)}).style("fill",function(Y,Z,X){return t(Y,X,Z)}).style("stroke",function(Y,Z,X){return t(Y,X,Z)}),T.on("mouseover",function(X,Y){d3.select(this).classed("hover",!0),m.elementMouseover({data:X,index:Y,color:d3.select(this).style("fill")})}).on("mouseout",function(X,Y){d3.select(this).classed("hover",!1),m.elementMouseout({data:X,index:Y,color:d3.select(this).style("fill")})}).on("mousemove",function(X,Y){m.elementMousemove({data:X,index:Y,color:d3.select(this).style("fill")})}).on("click",function(X,Y){m.elementClick({data:X,index:Y,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(X,Y){m.elementDblClick({data:X,index:Y,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),l(K[0].values[0],0)&&(U.append("polyline"),T.select("polyline").attr("fill","none").attr("stroke",function(Y,Z,X){return u(Y,X,Z)}).attr("points",function(ab,X){var Y=l(ab,X),Z=0.8*c.rangeBand()/(2*(r?1:K.length));Y=Y.length?Y:[-Math.abs(Y),Math.abs(Y)],Y=Y.map(function(ac){return d(ac)-d(0)});var aa=[[-Z,Y[0]],[Z,Y[0]],[0,Y[0]],[0,Y[1]],[-Z,Y[1]],[Z,Y[1]]];return aa.map(function(ac){return ac.join(",")}).join(" ")}).attr("transform",function(aa,X){var Y=c.rangeBand()/(2*(r?1:K.length)),Z=j(aa,X)<0?d(j(aa,X))-d(0):0;return"translate("+Y+", "+Z+")"})),T.attr("class",function(X,Y){return j(X,Y)<0?"nv-bar negative":"nv-bar positive"}),g&&(w||(w=K.map(function(){return !0})),T.select("rect").style("fill",function(Y,Z,X){return d3.rgb(g(Y,Z)).darker(w.map(function(aa,ab){return ab}).filter(function(aa,ab){return !w[ab]})[X]).toString()}).style("stroke",function(Y,Z,X){return d3.rgb(g(Y,Z)).darker(w.map(function(aa,ab){return ab}).filter(function(aa,ab){return !w[ab]})[X]).toString()}));var V=T.watchTransition(o,"multibar",Math.min(250,i)).delay(function(Y,X){return X*i/K[0].values.length});r?V.attr("transform",function(ab,ac,X){var Y=0;Y=K[X].nonStackable?j(ab,ac)<0?d(0):d(0)-d(j(ab,ac))<-1?d(0)-1:d(j(ab,ac))||0:d(ab.y1);var Z=0;K[X].nonStackable&&(Z=ab.series*c.rangeBand()/K.length,K.length!==I&&(Z=K[X].nonStackableSeries*c.rangeBand()/(2*I)));var aa=Z+c(h(ab,ac));return"translate("+aa+","+Y+")"}).select("rect").attr("height",function(Z,X,Y){return K[Y].nonStackable?Math.max(Math.abs(d(j(Z,X))-d(0)),1)||0:Math.max(Math.abs(d(Z.y+Z.y0)-d(Z.y0)),1)}).attr("width",function(aa,X,Y){if(K[Y].nonStackable){var Z=c.rangeBand()/I;return K.length!==I&&(Z=c.rangeBand()/(2*I)),Z}return c.rangeBand()}):V.attr("transform",function(aa,X){var Y=aa.series*c.rangeBand()/K.length+c(h(aa,X)),Z=j(aa,X)<0?d(0):d(0)-d(j(aa,X))<1?d(0)-1:d(j(aa,X))||0;return"translate("+Y+","+Z+")"}).select("rect").attr("width",c.rangeBand()/K.length).attr("height",function(X,Y){return Math.max(Math.abs(d(j(X,Y))-d(0)),1)||0}),B=c.copy(),C=d.copy(),K[0]&&K[0].values&&(q=K[0].values.length)}),o.renderEnd("multibar immediate"),v}var w,x,y,z,A,B,C,E={top:0,right:0,bottom:0,left:0},F=960,b=500,c=d3.scale.ordinal(),d=d3.scale.linear(),e=Math.floor(10000*Math.random()),f=null,h=function(G){return G.x},j=function(G){return G.y},l=function(G){return G.yErr},n=[0],p=!0,r=!1,s="zero",t=a.utils.defaultColor(),u=a.utils.defaultColor(),D=!1,g=null,i=500,k=0.1,m=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),o=a.utils.renderWatch(m,i),q=0;return v.dispatch=m,v.options=a.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return F},set:function(G){F=G}},height:{get:function(){return b},set:function(G){b=G}},x:{get:function(){return h},set:function(G){h=G}},y:{get:function(){return j},set:function(G){j=G}},yErr:{get:function(){return l},set:function(G){l=G}},xScale:{get:function(){return c},set:function(G){c=G}},yScale:{get:function(){return d},set:function(G){d=G}},xDomain:{get:function(){return x},set:function(G){x=G}},yDomain:{get:function(){return y},set:function(G){y=G}},xRange:{get:function(){return z},set:function(G){z=G}},yRange:{get:function(){return A},set:function(G){A=G}},forceY:{get:function(){return n},set:function(G){n=G}},stacked:{get:function(){return r},set:function(G){r=G}},stackOffset:{get:function(){return s},set:function(G){s=G}},clipEdge:{get:function(){return p},set:function(G){p=G}},disabled:{get:function(){return w},set:function(G){w=G}},id:{get:function(){return e},set:function(G){e=G}},hideable:{get:function(){return D},set:function(G){D=G}},groupSpacing:{get:function(){return k},set:function(G){k=G}},margin:{get:function(){return E},set:function(G){E.top=void 0!==G.top?G.top:E.top,E.right=void 0!==G.right?G.right:E.right,E.bottom=void 0!==G.bottom?G.bottom:E.bottom,E.left=void 0!==G.left?G.left:E.left}},duration:{get:function(){return i},set:function(G){i=G,o.reset(i)}},color:{get:function(){return t},set:function(G){t=a.utils.getColor(G)}},barColor:{get:function(){return g},set:function(G){g=G?a.utils.getColor(G):null}},errorBarColor:{get:function(){return u},set:function(G){u=G?a.utils.getColor(G):null}}}),a.utils.initOptions(v),v},a.models.multiBarChart=function(){function u(H){return k.reset(),k.models(x),h&&k.models(y),j&&k.models(z),H.each(function(T){var M=d3.select(this);a.utils.initSVG(M);var V=a.utils.availableWidth(F,M,D),W=a.utils.availableHeight(G,M,D);if(u.update=function(){0===i?M.call(u):M.transition().duration(i).call(u)},u.container=this,s.setter(q(T),u.update).getter(o(T)).update(),s.disabled=T.map(function(X){return !!X.disabled}),!t){var I;t={};for(I in s){t[I]=s[I] instanceof Array?s[I].slice(0):s[I]}}if(!(T&&T.length&&T.filter(function(X){return X.values.length}).length)){return a.utils.noData(u,M),u}M.selectAll(".nv-noData").remove(),v=x.xScale(),w=x.yScale();var J=M.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([T]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),L=J.select("g");if(K.append("g").attr("class","nv-x nv-axis"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-barsWrap"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),f&&(A.width(V-g()),L.select(".nv-legendWrap").datum(T).call(A),D.top!=A.height()&&(D.top=A.height(),W=a.utils.availableHeight(G,M,D)),L.select(".nv-legendWrap").attr("transform","translate("+g()+","+-D.top+")")),c){var N=[{key:d.grouped||"Grouped",disabled:x.stacked()},{key:d.stacked||"Stacked",disabled:!x.stacked()}];B.width(g()).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+-D.top+")").call(B)}J.attr("transform","translate("+D.left+","+D.top+")"),l&&L.select(".nv-y.nv-axis").attr("transform","translate("+V+",0)"),x.disabled(T.map(function(X){return X.disabled})).width(V).height(W).color(T.map(function(Y,X){return Y.color||b(Y,X)}).filter(function(Y,X){return !T[X].disabled}));var O=L.select(".nv-barsWrap").datum(T.filter(function(X){return !X.disabled}));if(O.call(x),h){y.scale(v)._ticks(a.utils.calcTicksX(V/100,T)).tickSize(-W,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),L.select(".nv-x.nv-axis").call(y);var P=L.select(".nv-x.nv-axis > g").selectAll("g");if(P.selectAll("line, text").style("opacity",1),p){var Q=function(Y,X){return"translate("+Y+","+X+")"},R=5,S=17;P.selectAll("text").attr("transform",function(Z,Y,X){return Q(0,X%2==0?R:S)});var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;L.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(Y,X){return Q(0,0===X||U%2!==0?S:R)})}n&&P.filter(function(Y,X){return X%Math.ceil(T[0].values.length/(V/100))!==0}).selectAll("text, line").style("opacity",0),r&&P.selectAll(".tick text").attr("transform","rotate("+r+" 0,0)").style("text-anchor",r>0?"start":"end"),L.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}j&&(z.scale(w)._ticks(a.utils.calcTicksY(W/36,T)).tickSize(-V,0),L.select(".nv-y.nv-axis").call(z)),A.dispatch.on("stateChange",function(X){for(var Y in X){s[Y]=X[Y]}e.stateChange(s),u.update()}),B.dispatch.on("legendClick",function(X){if(X.disabled){switch(N=N.map(function(Y){return Y.disabled=!0,Y}),X.disabled=!1,X.key){case"Grouped":case d.grouped:x.stacked(!1);break;case"Stacked":case d.stacked:x.stacked(!0)}s.stacked=x.stacked(),e.stateChange(s),u.update()}}),e.on("changeState",function(X){"undefined"!=typeof X.disabled&&(T.forEach(function(Z,Y){Z.disabled=X.disabled[Y]}),s.disabled=X.disabled),"undefined"!=typeof X.stacked&&(x.stacked(X.stacked),s.stacked=X.stacked,m=X.stacked),u.update()})}),k.renderEnd("multibarchart immediate"),u}var v,w,x=a.models.multiBar(),y=a.models.axis(),z=a.models.axis(),A=a.models.legend(),B=a.models.legend(),C=a.models.tooltip(),D={top:30,right:20,bottom:50,left:60},F=null,G=null,b=a.utils.defaultColor(),c=!0,d={},f=!0,h=!0,j=!0,l=!1,n=!0,p=!1,r=0,s=a.utils.state(),t=null,E=null,e=d3.dispatch("stateChange","changeState","renderEnd"),g=function(){return c?180:0},i=250;s.stacked=!1,x.stacked(!1),y.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(H){return H}),z.orient(l?"right":"left").tickFormat(d3.format(",.1f")),C.duration(0).valueFormatter(function(H,I){return z.tickFormat()(H,I)}).headerFormatter(function(H,I){return y.tickFormat()(H,I)}),B.updateState(!1);var k=a.utils.renderWatch(e),m=!1,o=function(H){return function(){return{active:H.map(function(I){return !I.disabled}),stacked:m}}},q=function(H){return function(I){void 0!==I.stacked&&(m=I.stacked),void 0!==I.active&&H.forEach(function(K,J){K.disabled=!I.active[J]})}};return x.dispatch.on("elementMouseover.tooltip",function(H){H.value=u.x()(H.data),H.series={key:H.data.key,value:u.y()(H.data),color:H.color},C.data(H).hidden(!1)}),x.dispatch.on("elementMouseout.tooltip",function(){C.hidden(!0)}),x.dispatch.on("elementMousemove.tooltip",function(){C.position({top:d3.event.pageY,left:d3.event.pageX})()}),u.dispatch=e,u.multibar=x,u.legend=A,u.controls=B,u.xAxis=y,u.yAxis=z,u.state=s,u.tooltip=C,u.options=a.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return F},set:function(H){F=H}},height:{get:function(){return G},set:function(H){G=H}},showLegend:{get:function(){return f},set:function(H){f=H}},showControls:{get:function(){return c},set:function(H){c=H}},controlLabels:{get:function(){return d},set:function(H){d=H}},showXAxis:{get:function(){return h},set:function(H){h=H}},showYAxis:{get:function(){return j},set:function(H){j=H}},defaultState:{get:function(){return t},set:function(H){t=H}},noData:{get:function(){return E},set:function(H){E=H}},reduceXTicks:{get:function(){return n},set:function(H){n=H}},rotateLabels:{get:function(){return r},set:function(H){r=H}},staggerLabels:{get:function(){return p},set:function(H){p=H}},tooltips:{get:function(){return C.enabled()},set:function(H){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),C.enabled(!!H)}},tooltipContent:{get:function(){return C.contentGenerator()},set:function(H){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),C.contentGenerator(H)}},margin:{get:function(){return D},set:function(H){D.top=void 0!==H.top?H.top:D.top,D.right=void 0!==H.right?H.right:D.right,D.bottom=void 0!==H.bottom?H.bottom:D.bottom,D.left=void 0!==H.left?H.left:D.left}},duration:{get:function(){return i},set:function(H){i=H,x.duration(i),y.duration(i),z.duration(i),k.reset(i)}},color:{get:function(){return b},set:function(H){b=a.utils.getColor(H),A.color(b)}},rightAlignYAxis:{get:function(){return l},set:function(H){l=H,z.orient(l?"right":"left")}},barColor:{get:function(){return x.barColor},set:function(H){x.barColor(H),A.color(function(I,J){return d3.rgb("#ccc").darker(1.5*J).toString()})}}}),a.utils.inheritOptions(u,x),a.utils.initOptions(u),u},a.models.multiBarHorizontal=function(){function v(G){return q.reset(),G.each(function(L){var P=F-E.left-E.right,Q=b-E.top-E.bottom;d=d3.select(this),a.utils.initSVG(d),t&&(L=d3.layout.stack().offset("zero").values(function(R){return R.values}).y(j)(L)),L.forEach(function(S,R){S.values.forEach(function(T){T.series=R,T.key=S.key})}),t&&L[0].values.map(function(R,S){var T=0,U=0;L.map(function(V){var W=V.values[S];W.size=Math.abs(W.y),W.y<0?(W.y1=U-W.size,U-=W.size):(W.y1=T,T+=W.size)})});var H=x&&y?[]:L.map(function(R){return R.values.map(function(S,T){return{x:h(S,T),y:j(S,T),y0:S.y0,y1:S.y1,yErr:l(S,T)}})});e.domain(x||d3.merge(H).map(function(R){return R.x})).rangeBands(z||[0,Q],i),f.domain(y||d3.extent(d3.merge(d3.merge(H).map(function(T){var R=T.y;t&&(R=T.y>0?T.y1+T.y:T.y1);var S=T.yErr;return S?S.length?[R+S[0],R+S[1]]:(S=Math.abs(S),[R-S,R+S]):[R]})).concat(n))),f.range(u&&!t?A||[f.domain()[0]<0?g:0,P-(f.domain()[1]>0?g:0)]:A||[0,P]),B=B||e,C=C||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);var I=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([L]),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),K=(J.append("defs"),J.append("g"));I.select("g");K.append("g").attr("class","nv-groups"),I.attr("transform","translate("+E.left+","+E.top+")");var M=I.select(".nv-groups").selectAll(".nv-group").data(function(R){return R},function(S,R){return R});M.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001),M.exit().watchTransition(q,"multibarhorizontal: exit groups").style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove(),M.attr("class",function(S,R){return"nv-group nv-series-"+R}).classed("hover",function(R){return R.hover}).style("fill",function(S,R){return p(S,R)}).style("stroke",function(S,R){return p(S,R)}),M.watchTransition(q,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",0.75);var N=M.selectAll("g.nv-bar").data(function(R){return R.values});N.exit().remove();var O=N.enter().append("g").attr("transform",function(R,S,T){return"translate("+C(t?R.y0:0)+","+(t?0:T*e.rangeBand()/L.length+e(h(R,S)))+")"});O.append("rect").attr("width",0).attr("height",e.rangeBand()/(t?1:L.length)),N.on("mouseover",function(S,R){d3.select(this).classed("hover",!0),o.elementMouseover({data:S,index:R,color:d3.select(this).style("fill")})}).on("mouseout",function(S,R){d3.select(this).classed("hover",!1),o.elementMouseout({data:S,index:R,color:d3.select(this).style("fill")})}).on("mouseout",function(S,R){o.elementMouseout({data:S,index:R,color:d3.select(this).style("fill")})}).on("mousemove",function(S,R){o.elementMousemove({data:S,index:R,color:d3.select(this).style("fill")})}).on("click",function(S,R){o.elementClick({data:S,index:R,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(S,R){o.elementDblClick({data:S,index:R,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),l(L[0].values[0],0)&&(O.append("polyline"),N.select("polyline").attr("fill","none").attr("stroke",function(T,R,S){return s(T,S,R)}).attr("points",function(R,S){var T=l(R,S),U=0.8*e.rangeBand()/(2*(t?1:L.length));T=T.length?T:[-Math.abs(T),Math.abs(T)],T=T.map(function(W){return f(W)-f(0)});var V=[[T[0],-U],[T[0],U],[T[0],0],[T[1],0],[T[1],-U],[T[1],U]];return V.map(function(W){return W.join(",")}).join(" ")}).attr("transform",function(R,S){var T=e.rangeBand()/(2*(t?1:L.length));return"translate("+(j(R,S)<0?0:f(j(R,S))-f(0))+", "+T+")"})),O.append("text"),u&&!t?(N.select("text").attr("text-anchor",function(S,R){return j(S,R)<0?"end":"start"}).attr("y",e.rangeBand()/(2*L.length)).attr("dy",".32em").text(function(U,R){var S=k(j(U,R)),T=l(U,R);return void 0===T?S:T.length?S+"+"+k(Math.abs(T[1]))+"-"+k(Math.abs(T[0])):S+""+k(Math.abs(T))}),N.watchTransition(q,"multibarhorizontal: bars").select("text").attr("x",function(S,R){return j(S,R)<0?-4:f(j(S,R))-f(0)+4})):N.selectAll("text").text(""),D&&!t?(O.append("text").classed("nv-bar-label",!0),N.select("text.nv-bar-label").attr("text-anchor",function(S,R){return j(S,R)<0?"start":"end"}).attr("y",e.rangeBand()/(2*L.length)).attr("dy",".32em").text(function(S,R){return h(S,R)}),N.watchTransition(q,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(S,R){return j(S,R)<0?f(0)-f(j(S,R))+4:-4})):N.selectAll("text.nv-bar-label").text(""),N.attr("class",function(S,R){return j(S,R)<0?"nv-bar negative":"nv-bar positive"}),r&&(w||(w=L.map(function(){return !0})),N.style("fill",function(T,R,S){return d3.rgb(r(T,R)).darker(w.map(function(U,V){return V}).filter(function(U,V){return !w[V]})[S]).toString()}).style("stroke",function(T,R,S){return d3.rgb(r(T,R)).darker(w.map(function(U,V){return V}).filter(function(U,V){return !w[V]})[S]).toString()})),t?N.watchTransition(q,"multibarhorizontal: bars").attr("transform",function(S,R){return"translate("+f(S.y1)+","+e(h(S,R))+")"}).select("rect").attr("width",function(S,R){return Math.abs(f(j(S,R)+S.y0)-f(S.y0))}).attr("height",e.rangeBand()):N.watchTransition(q,"multibarhorizontal: bars").attr("transform",function(R,S){return"translate("+f(j(R,S)<0?j(R,S):0)+","+(R.series*e.rangeBand()/L.length+e(h(R,S)))+")"}).select("rect").attr("height",e.rangeBand()/L.length).attr("width",function(S,R){return Math.max(Math.abs(f(j(S,R))-f(0)),1)}),B=e.copy(),C=f.copy()}),q.renderEnd("multibarHorizontal immediate"),v}var w,x,y,z,A,B,C,E={top:0,right:0,bottom:0,left:0},F=960,b=500,c=Math.floor(10000*Math.random()),d=null,e=d3.scale.ordinal(),f=d3.scale.linear(),h=function(G){return G.x},j=function(G){return G.y},l=function(G){return G.yErr},n=[0],p=a.utils.defaultColor(),r=null,s=a.utils.defaultColor(),t=!1,u=!1,D=!1,g=60,i=0.1,k=d3.format(",.2f"),m=250,o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),q=a.utils.renderWatch(o,m);return v.dispatch=o,v.options=a.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return F},set:function(G){F=G}},height:{get:function(){return b},set:function(G){b=G}},x:{get:function(){return h},set:function(G){h=G}},y:{get:function(){return j},set:function(G){j=G}},yErr:{get:function(){return l},set:function(G){l=G}},xScale:{get:function(){return e},set:function(G){e=G}},yScale:{get:function(){return f},set:function(G){f=G}},xDomain:{get:function(){return x},set:function(G){x=G}},yDomain:{get:function(){return y},set:function(G){y=G}},xRange:{get:function(){return z},set:function(G){z=G}},yRange:{get:function(){return A},set:function(G){A=G}},forceY:{get:function(){return n},set:function(G){n=G}},stacked:{get:function(){return t},set:function(G){t=G}},showValues:{get:function(){return u},set:function(G){u=G}},disabled:{get:function(){return w},set:function(G){w=G}},id:{get:function(){return c},set:function(G){c=G}},valueFormat:{get:function(){return k},set:function(G){k=G}},valuePadding:{get:function(){return g},set:function(G){g=G}},groupSpacing:{get:function(){return i},set:function(G){i=G}},margin:{get:function(){return E},set:function(G){E.top=void 0!==G.top?G.top:E.top,E.right=void 0!==G.right?G.right:E.right,E.bottom=void 0!==G.bottom?G.bottom:E.bottom,E.left=void 0!==G.left?G.left:E.left}},duration:{get:function(){return m},set:function(G){m=G,q.reset(m)}},color:{get:function(){return p},set:function(G){p=a.utils.getColor(G)}},barColor:{get:function(){return r},set:function(G){r=G?a.utils.getColor(G):null}},errorBarColor:{get:function(){return s},set:function(G){s=G?a.utils.getColor(G):null}}}),a.utils.initOptions(v),v},a.models.multiBarHorizontalChart=function(){function y(D){return q.reset(),q.models(C),p&&q.models(b),r&&q.models(c),D.each(function(M){var I=d3.select(this);a.utils.initSVG(I);var N=a.utils.availableWidth(h,I,g),O=a.utils.availableHeight(i,I,g);if(y.update=function(){I.transition().duration(A).call(y)},y.container=this,s=C.stacked(),t.setter(o(M),y.update).getter(m(M)).update(),t.disabled=M.map(function(P){return !!P.disabled}),!u){var E;u={};for(E in t){u[E]=t[E] instanceof Array?t[E].slice(0):t[E]}}if(!(M&&M.length&&M.filter(function(P){return P.values.length}).length)){return a.utils.noData(y,I),y}I.selectAll(".nv-noData").remove(),z=C.xScale(),B=C.yScale();var F=I.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([M]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),H=F.select("g");if(G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),G.append("g").attr("class","nv-barsWrap"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap"),n&&(d.width(N-x()),H.select(".nv-legendWrap").datum(M).call(d),g.top!=d.height()&&(g.top=d.height(),O=a.utils.availableHeight(i,I,g)),H.select(".nv-legendWrap").attr("transform","translate("+x()+","+-g.top+")")),k){var J=[{key:l.grouped||"Grouped",disabled:C.stacked()},{key:l.stacked||"Stacked",disabled:!C.stacked()}];e.width(x()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-g.top+")").call(e)}F.attr("transform","translate("+g.left+","+g.top+")"),C.disabled(M.map(function(P){return P.disabled})).width(N).height(O).color(M.map(function(Q,P){return Q.color||j(Q,P)}).filter(function(Q,P){return !M[P].disabled}));var K=H.select(".nv-barsWrap").datum(M.filter(function(P){return !P.disabled}));if(K.transition().call(C),p){b.scale(z)._ticks(a.utils.calcTicksY(O/24,M)).tickSize(-N,0),H.select(".nv-x.nv-axis").call(b);var L=H.select(".nv-x.nv-axis").selectAll("g");L.selectAll("line, text")}r&&(c.scale(B)._ticks(a.utils.calcTicksX(N/100,M)).tickSize(-O,0),H.select(".nv-y.nv-axis").attr("transform","translate(0,"+O+")"),H.select(".nv-y.nv-axis").call(c)),H.select(".nv-zeroLine line").attr("x1",B(0)).attr("x2",B(0)).attr("y1",0).attr("y2",-O),d.dispatch.on("stateChange",function(P){for(var Q in P){t[Q]=P[Q]}w.stateChange(t),y.update()}),e.dispatch.on("legendClick",function(P){if(P.disabled){switch(J=J.map(function(Q){return Q.disabled=!0,Q}),P.disabled=!1,P.key){case"Grouped":C.stacked(!1);break;case"Stacked":C.stacked(!0)}t.stacked=C.stacked(),w.stateChange(t),s=C.stacked(),y.update()}}),w.on("changeState",function(P){"undefined"!=typeof P.disabled&&(M.forEach(function(R,Q){R.disabled=P.disabled[Q]}),t.disabled=P.disabled),"undefined"!=typeof P.stacked&&(C.stacked(P.stacked),t.stacked=P.stacked,s=P.stacked),y.update()})}),q.renderEnd("multibar horizontal chart immediate"),y}var z,B,C=a.models.multiBarHorizontal(),b=a.models.axis(),c=a.models.axis(),d=a.models.legend().height(30),e=a.models.legend().height(30),f=a.models.tooltip(),g={top:30,right:20,bottom:50,left:60},h=null,i=null,j=a.utils.defaultColor(),k=!0,l={},n=!0,p=!0,r=!0,s=!1,t=a.utils.state(),u=null,v=null,w=d3.dispatch("stateChange","changeState","renderEnd"),x=function(){return k?180:0},A=250;t.stacked=!1,C.stacked(s),b.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(D){return D}),c.orient("bottom").tickFormat(d3.format(",.1f")),f.duration(0).valueFormatter(function(D,E){return c.tickFormat()(D,E)}).headerFormatter(function(D,E){return b.tickFormat()(D,E)}),e.updateState(!1);var m=function(D){return function(){return{active:D.map(function(E){return !E.disabled}),stacked:s}}},o=function(D){return function(E){void 0!==E.stacked&&(s=E.stacked),void 0!==E.active&&D.forEach(function(G,F){G.disabled=!E.active[F]})}},q=a.utils.renderWatch(w,A);return C.dispatch.on("elementMouseover.tooltip",function(D){D.value=y.x()(D.data),D.series={key:D.data.key,value:y.y()(D.data),color:D.color},f.data(D).hidden(!1)}),C.dispatch.on("elementMouseout.tooltip",function(){f.hidden(!0)}),C.dispatch.on("elementMousemove.tooltip",function(){f.position({top:d3.event.pageY,left:d3.event.pageX})()}),y.dispatch=w,y.multibar=C,y.legend=d,y.controls=e,y.xAxis=b,y.yAxis=c,y.state=t,y.tooltip=f,y.options=a.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return h},set:function(D){h=D}},height:{get:function(){return i},set:function(D){i=D}},showLegend:{get:function(){return n},set:function(D){n=D}},showControls:{get:function(){return k},set:function(D){k=D}},controlLabels:{get:function(){return l},set:function(D){l=D}},showXAxis:{get:function(){return p},set:function(D){p=D}},showYAxis:{get:function(){return r},set:function(D){r=D}},defaultState:{get:function(){return u},set:function(D){u=D}},noData:{get:function(){return v},set:function(D){v=D}},tooltips:{get:function(){return f.enabled()},set:function(D){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),f.enabled(!!D)}},tooltipContent:{get:function(){return f.contentGenerator()},set:function(D){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),f.contentGenerator(D)}},margin:{get:function(){return g},set:function(D){g.top=void 0!==D.top?D.top:g.top,g.right=void 0!==D.right?D.right:g.right,g.bottom=void 0!==D.bottom?D.bottom:g.bottom,g.left=void 0!==D.left?D.left:g.left}},duration:{get:function(){return A},set:function(D){A=D,q.reset(A),C.duration(A),b.duration(A),c.duration(A)}},color:{get:function(){return j},set:function(D){j=a.utils.getColor(D),d.color(j)}},barColor:{get:function(){return C.barColor},set:function(D){C.barColor(D),d.color(function(E,F){return d3.rgb("#ccc").darker(1.5*F).toString()})}}}),a.utils.inheritOptions(y,C),a.utils.initOptions(y),y},a.models.multiChart=function(){function w(F){return F.each(function(Z){function aa(ai){var aj=2===Z[ai.seriesIndex].yAxis?k:i;ai.value=ai.point.x,ai.series={value:ai.point.y,color:ai.point.color},o.duration(100).valueFormatter(function(ak,al){return aj.tickFormat()(ak,al)}).data(ai).position(ai.pos).hidden(!1)}function ac(ai){var aj=2===Z[ai.seriesIndex].yAxis?k:i;ai.value=ai.point.x,ai.series={value:ai.point.y,color:ai.point.color},o.duration(100).valueFormatter(function(ak,al){return aj.tickFormat()(ak,al)}).data(ai).position(ai.pos).hidden(!1)}function ad(ai){var aj=2===Z[ai.seriesIndex].yAxis?k:i;ai.point.x=u.x()(ai.point),ai.point.y=u.y()(ai.point),o.duration(100).valueFormatter(function(ak,al){return aj.tickFormat()(ak,al)}).data(ai).position(ai.pos).hidden(!1)}function ah(ai){var aj=2===Z[ai.data.series].yAxis?k:i;ai.value=s.x()(ai.data),ai.series={value:s.y()(ai.data),color:ai.color},o.duration(0).valueFormatter(function(ak,al){return aj.tickFormat()(ak,al)}).data(ai).hidden(!1)}var aq=d3.select(this);a.utils.initSVG(aq),w.update=function(){aq.transition().call(w)},w.container=this;var P=a.utils.availableWidth(B,aq,z),R=a.utils.availableHeight(D,aq,z),U=Z.filter(function(ai){return"line"==ai.type&&1==ai.yAxis}),X=Z.filter(function(ai){return"line"==ai.type&&2==ai.yAxis}),G=Z.filter(function(ai){return"scatter"==ai.type&&1==ai.yAxis}),H=Z.filter(function(ai){return"scatter"==ai.type&&2==ai.yAxis}),I=Z.filter(function(ai){return"bar"==ai.type&&1==ai.yAxis}),J=Z.filter(function(ai){return"bar"==ai.type&&2==ai.yAxis}),K=Z.filter(function(ai){return"area"==ai.type&&1==ai.yAxis}),L=Z.filter(function(ai){return"area"==ai.type&&2==ai.yAxis});if(!(Z&&Z.length&&Z.filter(function(ai){return ai.values.length}).length)){return a.utils.noData(w,aq),w}aq.selectAll(".nv-noData").remove();var O=Z.filter(function(ai){return !ai.disabled&&1==ai.yAxis}).map(function(ai){return ai.values.map(function(aj){return{x:aj.x,y:aj.y}})}),T=Z.filter(function(ai){return !ai.disabled&&2==ai.yAxis}).map(function(ai){return ai.values.map(function(aj){return{x:aj.x,y:aj.y}})});g.domain(d3.extent(d3.merge(O.concat(T)),function(ai){return ai.x})).range([0,P]);var W=aq.selectAll("g.wrap.multiChart").data([Z]),ab=W.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ab.append("g").attr("class","nv-x nv-axis"),ab.append("g").attr("class","nv-y1 nv-axis"),ab.append("g").attr("class","nv-y2 nv-axis"),ab.append("g").attr("class","lines1Wrap"),ab.append("g").attr("class","lines2Wrap"),ab.append("g").attr("class","scatters1Wrap"),ab.append("g").attr("class","scatters2Wrap"),ab.append("g").attr("class","bars1Wrap"),ab.append("g").attr("class","bars2Wrap"),ab.append("g").attr("class","stack1Wrap"),ab.append("g").attr("class","stack2Wrap"),ab.append("g").attr("class","legendWrap");var ag=W.select("g"),ap=Z.map(function(ai,aj){return Z[aj].color||A(ai,aj)});if(E){var ar=m.align()?P/2:P,at=m.align()?ar:0;m.width(ar),m.color(ap),ag.select(".legendWrap").datum(Z.map(function(ai){return ai.originalKey=void 0===ai.originalKey?ai.key:ai.originalKey,ai.key=ai.originalKey+(1==ai.yAxis?"":" (right axis)"),ai})).call(m),z.top!=m.height()&&(z.top=m.height(),R=a.utils.availableHeight(D,aq,z)),ag.select(".legendWrap").attr("transform","translate("+at+","+-z.top+")")}l.width(P).height(R).interpolate(e).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&1==Z[aj].yAxis&&"line"==Z[aj].type})),n.width(P).height(R).interpolate(e).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&2==Z[aj].yAxis&&"line"==Z[aj].type})),p.width(P).height(R).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&1==Z[aj].yAxis&&"scatter"==Z[aj].type})),r.width(P).height(R).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&2==Z[aj].yAxis&&"scatter"==Z[aj].type})),s.width(P).height(R).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&1==Z[aj].yAxis&&"bar"==Z[aj].type})),t.width(P).height(R).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&2==Z[aj].yAxis&&"bar"==Z[aj].type})),u.width(P).height(R).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&1==Z[aj].yAxis&&"area"==Z[aj].type})),v.width(P).height(R).color(ap.filter(function(ai,aj){return !Z[aj].disabled&&2==Z[aj].yAxis&&"area"==Z[aj].type})),ag.attr("transform","translate("+z.left+","+z.top+")");var au=ag.select(".lines1Wrap").datum(U.filter(function(ai){return !ai.disabled})),av=ag.select(".scatters1Wrap").datum(G.filter(function(ai){return !ai.disabled})),Y=ag.select(".bars1Wrap").datum(I.filter(function(ai){return !ai.disabled})),N=ag.select(".stack1Wrap").datum(K.filter(function(ai){return !ai.disabled})),V=ag.select(".lines2Wrap").datum(X.filter(function(ai){return !ai.disabled})),Q=ag.select(".scatters2Wrap").datum(H.filter(function(ai){return !ai.disabled})),af=ag.select(".bars2Wrap").datum(J.filter(function(ai){return !ai.disabled})),S=ag.select(".stack2Wrap").datum(L.filter(function(ai){return !ai.disabled})),M=K.length?K.map(function(ai){return ai.values}).reduce(function(ai,aj){return ai.map(function(ak,al){return{x:ak.x,y:ak.y+aj[al].y}})}).concat([{x:0,y:0}]):[],ae=L.length?L.map(function(ai){return ai.values}).reduce(function(ai,aj){return ai.map(function(ak,al){return{x:ak.x,y:ak.y+aj[al].y}})}).concat([{x:0,y:0}]):[];h.domain(x||d3.extent(d3.merge(O).concat(M),function(ai){return ai.y})).range([0,R]),j.domain(y||d3.extent(d3.merge(T).concat(ae),function(ai){return ai.y})).range([0,R]),l.yDomain(h.domain()),p.yDomain(h.domain()),s.yDomain(h.domain()),u.yDomain(h.domain()),n.yDomain(j.domain()),r.yDomain(j.domain()),t.yDomain(j.domain()),v.yDomain(j.domain()),K.length&&d3.transition(N).call(u),L.length&&d3.transition(S).call(v),I.length&&d3.transition(Y).call(s),J.length&&d3.transition(af).call(t),U.length&&d3.transition(au).call(l),X.length&&d3.transition(V).call(n),G.length&&d3.transition(av).call(p),H.length&&d3.transition(Q).call(r),C._ticks(a.utils.calcTicksX(P/100,Z)).tickSize(-R,0),ag.select(".nv-x.nv-axis").attr("transform","translate(0,"+R+")"),d3.transition(ag.select(".nv-x.nv-axis")).call(C),i._ticks(a.utils.calcTicksY(R/36,Z)).tickSize(-P,0),d3.transition(ag.select(".nv-y1.nv-axis")).call(i),k._ticks(a.utils.calcTicksY(R/36,Z)).tickSize(-P,0),d3.transition(ag.select(".nv-y2.nv-axis")).call(k),ag.select(".nv-y1.nv-axis").classed("nv-disabled",O.length?!1:!0).attr("transform","translate("+g.range()[0]+",0)"),ag.select(".nv-y2.nv-axis").classed("nv-disabled",T.length?!1:!0).attr("transform","translate("+g.range()[1]+",0)"),m.dispatch.on("stateChange",function(){w.update()}),l.dispatch.on("elementMouseover.tooltip",aa),n.dispatch.on("elementMouseover.tooltip",aa),l.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),n.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),p.dispatch.on("elementMouseover.tooltip",ac),r.dispatch.on("elementMouseover.tooltip",ac),p.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),r.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),u.dispatch.on("elementMouseover.tooltip",ad),v.dispatch.on("elementMouseover.tooltip",ad),u.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),v.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),s.dispatch.on("elementMouseover.tooltip",ah),t.dispatch.on("elementMouseover.tooltip",ah),s.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),t.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(){o.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.dispatch.on("elementMousemove.tooltip",function(){o.position({top:d3.event.pageY,left:d3.event.pageX})()})}),w}var x,y,z={top:30,right:20,bottom:50,left:60},A=a.utils.defaultColor(),B=null,D=null,E=!0,b=null,c=function(F){return F.x},d=function(F){return F.y},e="monotone",f=!0,g=d3.scale.linear(),h=d3.scale.linear(),j=d3.scale.linear(),l=a.models.line().yScale(h),n=a.models.line().yScale(j),p=a.models.scatter().yScale(h),r=a.models.scatter().yScale(j),s=a.models.multiBar().stacked(!1).yScale(h),t=a.models.multiBar().stacked(!1).yScale(j),u=a.models.stackedArea().yScale(h),v=a.models.stackedArea().yScale(j),C=a.models.axis().scale(g).orient("bottom").tickPadding(5),i=a.models.axis().scale(h).orient("left"),k=a.models.axis().scale(j).orient("right"),m=a.models.legend().height(30),o=a.models.tooltip(),q=d3.dispatch();return w.dispatch=q,w.lines1=l,w.lines2=n,w.scatters1=p,w.scatters2=r,w.bars1=s,w.bars2=t,w.stack1=u,w.stack2=v,w.xAxis=C,w.yAxis1=i,w.yAxis2=k,w.tooltip=o,w.options=a.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return B},set:function(F){B=F}},height:{get:function(){return D},set:function(F){D=F}},showLegend:{get:function(){return E},set:function(F){E=F}},yDomain1:{get:function(){return x},set:function(F){x=F}},yDomain2:{get:function(){return y},set:function(F){y=F}},noData:{get:function(){return b},set:function(F){b=F}},interpolate:{get:function(){return e},set:function(F){e=F}},tooltips:{get:function(){return o.enabled()},set:function(F){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),o.enabled(!!F)}},tooltipContent:{get:function(){return o.contentGenerator()},set:function(F){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),o.contentGenerator(F)}},margin:{get:function(){return z},set:function(F){z.top=void 0!==F.top?F.top:z.top,z.right=void 0!==F.right?F.right:z.right,z.bottom=void 0!==F.bottom?F.bottom:z.bottom,z.left=void 0!==F.left?F.left:z.left}},color:{get:function(){return A},set:function(F){A=a.utils.getColor(F)}},x:{get:function(){return c},set:function(F){c=F,l.x(F),n.x(F),p.x(F),r.x(F),s.x(F),t.x(F),u.x(F),v.x(F)}},y:{get:function(){return d},set:function(F){d=F,l.y(F),n.y(F),p.y(F),r.y(F),u.y(F),v.y(F),s.y(F),t.y(F)}},useVoronoi:{get:function(){return f},set:function(F){f=F,l.useVoronoi(F),n.useVoronoi(F),u.useVoronoi(F),v.useVoronoi(F)}}}),a.utils.initOptions(w),w},a.models.ohlcBar=function(){function b(A){return A.each(function(F){k=d3.select(this);var G=a.utils.availableWidth(h,k,g),H=a.utils.availableHeight(i,k,g);a.utils.initSVG(k);var I=G/F[0].values.length*0.9;l.domain(c||d3.extent(F[0].values.map(n).concat(t))),l.range(v?e||[0.5*G/F[0].values.length,G*(F[0].values.length-0.5)/F[0].values.length]:e||[5+I/2,G-I/2-5]),m.domain(d||[d3.min(F[0].values.map(s).concat(u)),d3.max(F[0].values.map(r).concat(u))]).range(f||[H,0]),l.domain()[0]===l.domain()[1]&&l.domain(l.domain()[0]?[l.domain()[0]-0.01*l.domain()[0],l.domain()[1]+0.01*l.domain()[1]]:[-1,1]),m.domain()[0]===m.domain()[1]&&m.domain(m.domain()[0]?[m.domain()[0]+0.01*m.domain()[0],m.domain()[1]-0.01*m.domain()[1]]:[-1,1]);var J=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([F[0].values]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),B=K.append("defs"),C=K.append("g"),D=J.select("g");C.append("g").attr("class","nv-ticks"),J.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(L,M){z.chartClick({data:L,index:M,pos:d3.event,id:j})}),B.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),J.select("#nv-chart-clip-path-"+j+" rect").attr("width",G).attr("height",H),D.attr("clip-path",w?"url(#nv-chart-clip-path-"+j+")":"");var E=J.select(".nv-ticks").selectAll(".nv-tick").data(function(L){return L});E.exit().remove(),E.enter().append("path").attr("class",function(M,N,L){return(p(M,N)>q(M,N)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+L+"-"+N}).attr("d",function(L,M){return"m0,0l0,"+(m(p(L,M))-m(r(L,M)))+"l"+-I/2+",0l"+I/2+",0l0,"+(m(s(L,M))-m(p(L,M)))+"l0,"+(m(q(L,M))-m(s(L,M)))+"l"+I/2+",0l"+-I/2+",0z"}).attr("transform",function(L,M){return"translate("+l(n(L,M))+","+m(r(L,M))+")"}).attr("fill",function(){return x[0]}).attr("stroke",function(){return x[0]}).attr("x",0).attr("y",function(L,M){return m(Math.max(0,o(L,M)))}).attr("height",function(L,M){return Math.abs(m(o(L,M))-m(0))}),E.attr("class",function(M,N,L){return(p(M,N)>q(M,N)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+L+"-"+N}),d3.transition(E).attr("transform",function(L,M){return"translate("+l(n(L,M))+","+m(r(L,M))+")"}).attr("d",function(N,L){var M=G/F[0].values.length*0.9;return"m0,0l0,"+(m(p(N,L))-m(r(N,L)))+"l"+-M/2+",0l"+M/2+",0l0,"+(m(s(N,L))-m(p(N,L)))+"l0,"+(m(q(N,L))-m(s(N,L)))+"l"+M/2+",0l"+-M/2+",0z"})}),b}var c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(10000*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=function(A){return A.x},o=function(A){return A.y},p=function(A){return A.open},q=function(A){return A.close},r=function(A){return A.high},s=function(A){return A.low},t=[],u=[],v=!1,w=!0,x=a.utils.defaultColor(),y=!1,z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return b.highlightPoint=function(B,A){b.clearHighlights(),k.select(".nv-ohlcBar .nv-tick-0-"+B).classed("hover",A)},b.clearHighlights=function(){k.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(A){h=A}},height:{get:function(){return i},set:function(A){i=A}},xScale:{get:function(){return l},set:function(A){l=A}},yScale:{get:function(){return m},set:function(A){m=A}},xDomain:{get:function(){return c},set:function(A){c=A}},yDomain:{get:function(){return d},set:function(A){d=A}},xRange:{get:function(){return e},set:function(A){e=A}},yRange:{get:function(){return f},set:function(A){f=A}},forceX:{get:function(){return t},set:function(A){t=A}},forceY:{get:function(){return u},set:function(A){u=A}},padData:{get:function(){return v},set:function(A){v=A}},clipEdge:{get:function(){return w},set:function(A){w=A}},id:{get:function(){return j},set:function(A){j=A}},interactive:{get:function(){return y},set:function(A){y=A}},x:{get:function(){return n},set:function(A){n=A}},y:{get:function(){return o},set:function(A){o=A}},open:{get:function(){return p()},set:function(A){p=A}},close:{get:function(){return q()},set:function(A){q=A}},high:{get:function(){return r},set:function(A){r=A}},low:{get:function(){return s},set:function(A){s=A}},margin:{get:function(){return g},set:function(A){g.top=void 0!=A.top?A.top:g.top,g.right=void 0!=A.right?A.right:g.right,g.bottom=void 0!=A.bottom?A.bottom:g.bottom,g.left=void 0!=A.left?A.left:g.left}},color:{get:function(){return x},set:function(A){x=a.utils.getColor(A)}}}),a.utils.initOptions(b),b},a.models.parallelCoordinates=function(){function e(p){return p.each(function(N){function O(P){return y(l.map(function(U){if(isNaN(P[U])||isNaN(parseFloat(P[U]))){var Q=k[U].domain(),R=k[U].range(),S=Q[0]-(Q[1]-Q[0])/9;if(G.indexOf(U)<0){var T=d3.scale.linear().domain([S,Q[1]]).range([D-12,R[1]]);k[U].brush.y(T),G.push(U)}return[j(U),k[U](S)]}return G.length>0?(t.style("display","inline"),w.style("display","inline")):(t.style("display","none"),w.style("display","none")),[j(U),k[U](P[U])]}))}function ad(){var P=l.filter(function(R){return !k[R].brush.empty()}),Q=P.map(function(R){return k[R].brush.extent()});o=[],P.forEach(function(S,R){o[R]={dimension:S,extent:Q[R]}}),b=[],K.style("display",function(R){var S=P.every(function(U,T){return isNaN(R[U])&&Q[T][0]==k[U].brush.y().domain()[0]?!0:Q[T][0]<=R[U]&&R[U]<=Q[T][1]});return S&&b.push(R),S?null:"none"}),i.brush({filters:o,active:b})}function r(P){c[P]=this.parentNode.__origin__=j(P),J.attr("visibility","hidden")}function u(P){c[P]=Math.min(B,Math.max(0,this.parentNode.__origin__+=d3.event.x)),K.attr("d",O),l.sort(function(Q,R){return x(Q)-x(R)}),j.domain(l),L.attr("transform",function(Q){return"translate("+x(Q)+")"})}function v(P){delete this.parentNode.__origin__,delete c[P],d3.select(this.parentNode).attr("transform","translate("+j(P)+")"),K.attr("d",O),J.attr("d",O).attr("visibility",null)}function x(P){var Q=c[P];return null==Q?j(P):Q}var z=d3.select(this),B=a.utils.availableWidth(g,z,f),D=a.utils.availableHeight(h,z,f);a.utils.initSVG(z),b=N,j.rangePoints([0,B],1).domain(l);var F={};l.forEach(function(Q){var P=d3.extent(N,function(R){return +R[Q]});return F[Q]=!1,void 0===P[0]&&(F[Q]=!0,P[0]=0,P[1]=0),P[0]===P[1]&&(P[0]=P[0]-1,P[1]=P[1]+1),k[Q]=d3.scale.linear().domain(P).range([0.9*(D-12),0]),k[Q].brush=d3.svg.brush().y(k[Q]).on("brush",ad),"name"!=Q});var H=z.selectAll("g.nv-wrap.nv-parallelCoordinates").data([N]),ac=H.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),q=ac.append("g"),s=H.select("g");q.append("g").attr("class","nv-parallelCoordinates background"),q.append("g").attr("class","nv-parallelCoordinates foreground"),q.append("g").attr("class","nv-parallelCoordinates missingValuesline"),H.attr("transform","translate("+f.left+","+f.top+")");var t,w,y=d3.svg.line().interpolate("cardinal").tension(d),A=d3.svg.axis().orient("left"),C=d3.behavior.drag().on("dragstart",r).on("drag",u).on("dragend",v),E=j.range()[1]-j.range()[0],G=[],I=[0+E/2,D-12,B-E/2,D-12];t=H.select(".missingValuesline").selectAll("line").data([I]),t.enter().append("line"),t.exit().remove(),t.attr("x1",function(P){return P[0]}).attr("y1",function(P){return P[1]}).attr("x2",function(P){return P[2]}).attr("y2",function(P){return P[3]}),w=H.select(".missingValuesline").selectAll("text").data(["undefined values"]),w.append("text").data(["undefined values"]),w.enter().append("text"),w.exit().remove(),w.attr("y",D).attr("x",B-92-E/2).text(function(P){return P});var J=H.select(".background").selectAll("path").data(N);J.enter().append("path"),J.exit().remove(),J.attr("d",O);var K=H.select(".foreground").selectAll("path").data(N);K.enter().append("path"),K.exit().remove(),K.attr("d",O).attr("stroke",n),K.on("mouseover",function(P,Q){d3.select(this).classed("hover",!0),i.elementMouseover({label:P.name,data:P.data,index:Q,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})}),K.on("mouseout",function(P,Q){d3.select(this).classed("hover",!1),i.elementMouseout({label:P.name,data:P.data,index:Q})});var L=s.selectAll(".dimension").data(l),M=L.enter().append("g").attr("class","nv-parallelCoordinates dimension");M.append("g").attr("class","nv-parallelCoordinates nv-axis"),M.append("g").attr("class","nv-parallelCoordinates-brush"),M.append("text").attr("class","nv-parallelCoordinates nv-label"),L.attr("transform",function(P){return"translate("+j(P)+",0)"}),L.exit().remove(),L.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(P){i.elementMouseover({dim:P,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(P){i.elementMouseout({dim:P})}).call(C),L.select(".nv-axis").each(function(P,Q){d3.select(this).call(A.scale(k[P]).tickFormat(d3.format(m[Q])))}),L.select(".nv-parallelCoordinates-brush").each(function(P){d3.select(this).call(k[P].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var f={top:30,right:0,bottom:10,left:0},g=null,h=null,j=d3.scale.ordinal(),k={},l=[],m=[],n=a.utils.defaultColor(),o=[],b=[],c=[],d=1,i=d3.dispatch("brush","elementMouseover","elementMouseout");return e.dispatch=i,e.options=a.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return g},set:function(p){g=p}},height:{get:function(){return h},set:function(p){h=p}},dimensionNames:{get:function(){return l},set:function(p){l=p}},dimensionFormats:{get:function(){return m},set:function(p){m=p}},lineTension:{get:function(){return d},set:function(p){d=p}},dimensions:{get:function(){return l},set:function(p){a.deprecated("dimensions","use dimensionNames instead"),l=p}},margin:{get:function(){return f},set:function(p){f.top=void 0!==p.top?p.top:f.top,f.right=void 0!==p.right?p.right:f.right,f.bottom=void 0!==p.bottom?p.bottom:f.bottom,f.left=void 0!==p.left?p.left:f.left}},color:{get:function(){return n},set:function(p){n=a.utils.getColor(p)}}}),a.utils.initOptions(e),e},a.models.pie=function(){function x(E){return q.reset(),E.each(function(R){function F(ai,aj){ai.endAngle=isNaN(ai.endAngle)?0:ai.endAngle,ai.startAngle=isNaN(ai.startAngle)?0:ai.startAngle,j||(ai.innerRadius=0);var af=d3.interpolate(this._current,ai);return this._current=af(0),function(ag){return m[aj](af(ag))}}var G=z-y.left-y.right,H=A-y.top-y.bottom,I=Math.min(G,H)/2,J=[],K=[];if(c=d3.select(this),0===B.length){for(var L=I-I/5,M=w*I,O=0;O<R[0].length;O++){J.push(L),K.push(M)}}else{J=B.map(function(af){return(af.outer-af.outer/5)*I}),K=B.map(function(af){return(af.inner-af.inner/5)*I}),w=d3.min(B.map(function(af){return af.inner-af.inner/5}))}a.utils.initSVG(c);var Q=c.selectAll(".nv-wrap.nv-pie").data(R),S=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+b),T=S.append("g"),U=Q.select("g"),V=T.append("g").attr("class","nv-pie");T.append("g").attr("class","nv-pieLabels"),Q.attr("transform","translate("+y.left+","+y.top+")"),U.select(".nv-pie").attr("transform","translate("+G/2+","+H/2+")"),U.select(".nv-pieLabels").attr("transform","translate("+G/2+","+H/2+")"),c.on("click",function(af,ah){k.chartClick({data:af,index:ah,pos:d3.event,id:b})}),m=[],o=[];for(var O=0;O<R[0].length;O++){var W=d3.svg.arc().outerRadius(J[O]),Y=d3.svg.arc().outerRadius(J[O]+5);s!==!1&&(W.startAngle(s),Y.startAngle(s)),u!==!1&&(W.endAngle(u),Y.endAngle(u)),j&&(W.innerRadius(K[O]),Y.innerRadius(K[O])),W.cornerRadius&&v&&(W.cornerRadius(v),Y.cornerRadius(v)),m.push(W),o.push(Y)}var Z=d3.layout.pie().sort(null).value(function(af){return af.disabled?0:D(af)});Z.padAngle&&t&&Z.padAngle(t),j&&l&&(V.append("text").attr("class","nv-pie-title"),Q.select(".nv-pie-title").style("text-anchor","middle").text(function(){return l}).style("font-size",Math.min(G,H)*w*2/(l.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+p+")"}));var aa=Q.select(".nv-pie").selectAll(".nv-slice").data(Z),ab=Q.select(".nv-pieLabels").selectAll(".nv-label").data(Z);aa.exit().remove(),ab.exit().remove();var ac=aa.enter().append("g");ac.attr("class","nv-slice"),ac.on("mouseover",function(af,ah){d3.select(this).classed("hover",!0),n&&d3.select(this).select("path").transition().duration(70).attr("d",o[ah]),k.elementMouseover({data:af.data,index:ah,color:d3.select(this).style("fill")})}),ac.on("mouseout",function(af,ah){d3.select(this).classed("hover",!1),n&&d3.select(this).select("path").transition().duration(50).attr("d",m[ah]),k.elementMouseout({data:af.data,index:ah})}),ac.on("mousemove",function(af,ah){k.elementMousemove({data:af.data,index:ah})}),ac.on("click",function(af,ah){k.elementClick({data:af.data,index:ah,color:d3.select(this).style("fill")})}),ac.on("dblclick",function(af,ah){k.elementDblClick({data:af.data,index:ah,color:d3.select(this).style("fill")})}),aa.attr("fill",function(af,ah){return d(af.data,ah)}),aa.attr("stroke",function(af,ah){return d(af.data,ah)});ac.append("path").each(function(af){this._current=af});if(aa.select("path").transition().attr("d",function(af,ah){return m[ah](af)}).attrTween("d",F),f){for(var ad=[],O=0;O<R[0].length;O++){ad.push(m[O]),g?j&&(ad[O]=d3.svg.arc().outerRadius(m[O].outerRadius()),s!==!1&&ad[O].startAngle(s),u!==!1&&ad[O].endAngle(u)):j||ad[O].innerRadius(0)}ab.enter().append("g").classed("nv-label",!0).each(function(af){var ah=d3.select(this);ah.attr("transform",function(ag,ak){if(r){ag.outerRadius=J[ak]+10,ag.innerRadius=J[ak]+15;var al=(ag.startAngle+ag.endAngle)/2*(180/Math.PI);return(ag.startAngle+ag.endAngle)/2<Math.PI?al-=90:al+=90,"translate("+ad[ak].centroid(ag)+") rotate("+al+")"}return ag.outerRadius=I+10,ag.innerRadius=I+15,"translate("+ad[ak].centroid(ag)+")"}),ah.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),ah.append("text").style("text-anchor",r?(af.startAngle+af.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var ae={},X=14,N=140,P=function(af){return Math.floor(af[0]/N)*N+","+Math.floor(af[1]/X)*X};ab.watchTransition(q,"pie labels").attr("transform",function(al,am){if(r){al.outerRadius=J[am]+10,al.innerRadius=J[am]+15;var an=(al.startAngle+al.endAngle)/2*(180/Math.PI);return(al.startAngle+al.endAngle)/2<Math.PI?an-=90:an+=90,"translate("+ad[am].centroid(al)+") rotate("+an+")"}al.outerRadius=I+10,al.innerRadius=I+15;var af=ad[am].centroid(al);if(al.value){var ak=P(af);ae[ak]&&(af[1]-=X),ae[P(af)]=!0}return"translate("+af+")"}),ab.select(".nv-label text").style("text-anchor",function(af){return r?(af.startAngle+af.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(ak,al){var af=(ak.endAngle-ak.startAngle)/(2*Math.PI),aj="";if(!ak.value||i>af){return""}if("function"==typeof h){aj=h(ak,al,{key:C(ak.data),value:D(ak.data),percent:e(af)})}else{switch(h){case"key":aj=C(ak.data);break;case"value":aj=e(D(ak.data));break;case"percent":aj=d3.format("%")(af)}}return aj})}}),q.renderEnd("pie immediate"),x}var y={top:0,right:0,bottom:0,left:0},z=500,A=500,C=function(E){return E.x},D=function(E){return E.y},b=Math.floor(10000*Math.random()),c=null,d=a.utils.defaultColor(),e=d3.format(",.2f"),f=!0,g=!1,h="key",i=0.02,j=!1,l=!1,n=!0,p=0,r=!1,s=!1,t=!1,u=!1,v=0,w=0.5,B=[],k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),m=[],o=[],q=a.utils.renderWatch(k);return x.dispatch=k,x.options=a.utils.optionsFunc.bind(x),x._options=Object.create({},{arcsRadius:{get:function(){return B},set:function(E){B=E}},width:{get:function(){return z},set:function(E){z=E}},height:{get:function(){return A},set:function(E){A=E}},showLabels:{get:function(){return f},set:function(E){f=E}},title:{get:function(){return l},set:function(E){l=E}},titleOffset:{get:function(){return p},set:function(E){p=E}},labelThreshold:{get:function(){return i},set:function(E){i=E}},valueFormat:{get:function(){return e},set:function(E){e=E}},x:{get:function(){return C},set:function(E){C=E}},id:{get:function(){return b},set:function(E){b=E}},endAngle:{get:function(){return u},set:function(E){u=E}},startAngle:{get:function(){return s},set:function(E){s=E}},padAngle:{get:function(){return t},set:function(E){t=E}},cornerRadius:{get:function(){return v},set:function(E){v=E}},donutRatio:{get:function(){return w},set:function(E){w=E}},labelsOutside:{get:function(){return g},set:function(E){g=E}},labelSunbeamLayout:{get:function(){return r},set:function(E){r=E}},donut:{get:function(){return j},set:function(E){j=E}},growOnHover:{get:function(){return n},set:function(E){n=E}},pieLabelsOutside:{get:function(){return g},set:function(E){g=E,a.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return g},set:function(E){g=E,a.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return e},set:function(E){e=E,a.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return y},set:function(E){y.top="undefined"!=typeof E.top?E.top:y.top,y.right="undefined"!=typeof E.right?E.right:y.right,y.bottom="undefined"!=typeof E.bottom?E.bottom:y.bottom,y.left="undefined"!=typeof E.left?E.left:y.left}},y:{get:function(){return D},set:function(E){D=d3.functor(E)}},color:{get:function(){return d},set:function(E){d=a.utils.getColor(E)}},labelType:{get:function(){return h},set:function(E){h=E||"key"}}}),a.utils.initOptions(x),x},a.models.pieChart=function(){function c(t){return l.reset(),l.models(e),t.each(function(z){var A=d3.select(this);a.utils.initSVG(A);var B=a.utils.availableWidth(m,A,k),C=a.utils.availableHeight(o,A,k);if(c.update=function(){A.transition().call(c)},c.container=this,b.setter(s(z),c.update).getter(n(z)).update(),b.disabled=z.map(function(E){return !!E.disabled}),!d){var D;d={};for(D in b){d[D]=b[D] instanceof Array?b[D].slice(0):b[D]}}if(!z||!z.length){return a.utils.noData(c,A),c}A.selectAll(".nv-noData").remove();var u=A.selectAll("g.nv-wrap.nv-pieChart").data([z]),v=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=u.select("g");if(v.append("g").attr("class","nv-pieWrap"),v.append("g").attr("class","nv-legendWrap"),p){if("top"===q){g.width(B).key(e.x()),u.select(".nv-legendWrap").datum(z).call(g),k.top!=g.height()&&(k.top=g.height(),C=a.utils.availableHeight(o,A,k)),u.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}else{if("right"===q){var x=a.models.legend().width();x>B/2&&(x=B/2),g.height(C).key(e.x()),g.width(x),B-=g.width(),u.select(".nv-legendWrap").datum(z).call(g).attr("transform","translate("+B+",0)")}}}u.attr("transform","translate("+k.left+","+k.top+")"),e.width(B).height(C);var y=w.select(".nv-pieWrap").datum([z]);d3.transition(y).call(e),g.dispatch.on("stateChange",function(F){for(var E in F){b[E]=F[E]}j.stateChange(b),c.update()}),j.on("changeState",function(E){"undefined"!=typeof E.disabled&&(z.forEach(function(F,G){F.disabled=E.disabled[G]}),b.disabled=E.disabled),c.update()})}),l.renderEnd("pieChart immediate"),c}var e=a.models.pie(),g=a.models.legend(),i=a.models.tooltip(),k={top:30,right:20,bottom:20,left:20},m=null,o=null,p=!0,q="top",r=a.utils.defaultColor(),b=a.utils.state(),d=null,f=null,h=250,j=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");i.headerEnabled(!1).duration(0).valueFormatter(function(t,u){return e.valueFormat()(t,u)});var l=a.utils.renderWatch(j),n=function(t){return function(){return{active:t.map(function(u){return !u.disabled})}}},s=function(t){return function(u){void 0!==u.active&&t.forEach(function(w,v){w.disabled=!u.active[v]})}};return e.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},i.data(t).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(){i.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()}),c.legend=g,c.dispatch=j,c.pie=e,c.tooltip=i,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{noData:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return p},set:function(t){p=t}},legendPosition:{get:function(){return q},set:function(t){q=t}},defaultState:{get:function(){return d},set:function(t){d=t}},tooltips:{get:function(){return i.enabled()},set:function(t){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!t)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(t){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(t)}},color:{get:function(){return r},set:function(t){r=t,g.color(r),e.color(r)}},duration:{get:function(){return h},set:function(t){h=t,l.reset(h)}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}}}),a.utils.inheritOptions(c,e),a.utils.initOptions(c),c},a.models.scatter=function(){function J(R){return q.reset(),R.each(function(S){function T(){if(o=!1,!y){return !1}if(k===!0){var aj=d3.merge(S.map(function(ak,al){return ak.values.map(function(an,am){var ao=r(an,am),ap=s(an,am);return[l(ao)+0.0001*Math.random(),n(ap)+0.0001*Math.random(),al,am,an]}).filter(function(an,am){return z(an[4],am)})}));if(0==aj.length){return !1}aj.length<3&&(aj.push([l.range()[0]-20,n.range()[0]-20,null,null]),aj.push([l.range()[1]+20,n.range()[1]+20,null,null]),aj.push([l.range()[0]-20,n.range()[0]+20,null,null]),aj.push([l.range()[1]+20,n.range()[1]-20,null,null]));var ae=d3.geom.polygon([[-10,-10],[-10,c+10],[P+10,c+10],[P+10,-10]]),af=d3.geom.voronoi(aj).map(function(al,ak){return{data:ae.clip(al),series:aj[ak][2],point:aj[ak][3]}});Y.select(".nv-point-paths").selectAll("path").remove();var ah=Y.select(".nv-point-paths").selectAll("path").data(af),ai=ah.enter().append("svg:path").attr("d",function(ak){return ak&&ak.data&&0!==ak.data.length?"M"+ak.data.join(",")+"Z":"M 0 0"}).attr("id",function(ak,al){return"nv-path-"+al}).attr("clip-path",function(ak,al){return"url(#nv-clip-"+h+"-"+al+")"});E&&ai.style("fill",d3.rgb(230,230,230)).style("fill-opacity",0.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),D&&(Y.select(".nv-point-clips").selectAll("clipPath").remove(),Y.select(".nv-point-clips").selectAll("clipPath").data(aj).enter().append("svg:clipPath").attr("id",function(ak,al){return"nv-clip-"+h+"-"+al}).append("svg:circle").attr("cx",function(ak){return ak[0]}).attr("cy",function(ak){return ak[1]}).attr("r",F));var ag=function(an,ap){if(o){return 0}var ar=S[an.series];if(void 0!==ar){var al=ar.values[an.point];al.color=e(ar,an.series),al.x=r(al),al.y=s(al);var ao=j.node().getBoundingClientRect(),aq=window.pageYOffset||document.documentElement.scrollTop,ak=window.pageXOffset||document.documentElement.scrollLeft,am={left:l(r(al,an.point))+ao.left+ak+O.left+10,top:n(s(al,an.point))+ao.top+aq+O.top+10};ap({point:al,series:ar,pos:am,seriesIndex:an.series,pointIndex:an.point})}};ah.on("click",function(ak){ag(ak,i.elementClick)}).on("dblclick",function(ak){ag(ak,i.elementDblClick)}).on("mouseover",function(ak){ag(ak,i.elementMouseover)}).on("mouseout",function(ak){ag(ak,i.elementMouseout)})}else{Y.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(am,an){if(o||!S[am.series]){return 0}var ak=S[am.series],al=ak.values[an];i.elementClick({point:al,series:ak,pos:[l(r(al,an))+O.left,n(s(al,an))+O.top],seriesIndex:am.series,pointIndex:an})}).on("dblclick",function(am,an){if(o||!S[am.series]){return 0}var ak=S[am.series],al=ak.values[an];i.elementDblClick({point:al,series:ak,pos:[l(r(al,an))+O.left,n(s(al,an))+O.top],seriesIndex:am.series,pointIndex:an})}).on("mouseover",function(am,an){if(o||!S[am.series]){return 0}var ak=S[am.series],al=ak.values[an];i.elementMouseover({point:al,series:ak,pos:[l(r(al,an))+O.left,n(s(al,an))+O.top],seriesIndex:am.series,pointIndex:an,color:e(am,an)})}).on("mouseout",function(am,an){if(o||!S[am.series]){return 0}var ak=S[am.series],al=ak.values[an];i.elementMouseout({point:al,series:ak,seriesIndex:am.series,pointIndex:an,color:e(am,an)})})}}j=d3.select(this);var U=a.utils.availableWidth(P,j,O),W=a.utils.availableHeight(c,j,O);a.utils.initSVG(j),S.forEach(function(ae,af){ae.values.forEach(function(ag){ag.series=af})});var X=G&&H&&d?[]:d3.merge(S.map(function(ae){return ae.values.map(function(af,ag){return{x:r(af,ag),y:s(af,ag),size:t(af,ag)}})}));l.domain(G||d3.extent(X.map(function(ae){return ae.x}).concat(v))),l.range(A&&S[0]?I||[(U*B+U)/(2*S[0].values.length),U-U*(1+B)/(2*S[0].values.length)]:I||[0,U]),n.domain(H||d3.extent(X.map(function(ae){return ae.y}).concat(w))).range(b||[W,0]),p.domain(d||d3.extent(X.map(function(ae){return ae.size}).concat(x))).range(f||Q),g=l.domain()[0]===l.domain()[1]||n.domain()[0]===n.domain()[1],l.domain()[0]===l.domain()[1]&&l.domain(l.domain()[0]?[l.domain()[0]-0.01*l.domain()[0],l.domain()[1]+0.01*l.domain()[1]]:[-1,1]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]-0.01*n.domain()[0],n.domain()[1]+0.01*n.domain()[1]]:[-1,1]),isNaN(l.domain()[0])&&l.domain([-1,1]),isNaN(n.domain()[0])&&n.domain([-1,1]),K=K||l,L=L||n,M=M||p;var Y=j.selectAll("g.nv-wrap.nv-scatter").data([S]),Z=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),aa=Z.append("defs"),ab=Z.append("g"),ac=Y.select("g");Y.classed("nv-single-point",g),ab.append("g").attr("class","nv-groups"),ab.append("g").attr("class","nv-point-paths"),Z.append("g").attr("class","nv-point-clips"),Y.attr("transform","translate("+O.left+","+O.top+")"),aa.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),Y.select("#nv-edge-clip-"+h+" rect").attr("width",U).attr("height",W>0?W:0),ac.attr("clip-path",C?"url(#nv-edge-clip-"+h+")":""),o=!0;var ad=Y.select(".nv-groups").selectAll(".nv-group").data(function(ae){return ae},function(ae){return ae.key});ad.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001),ad.exit().remove(),ad.attr("class",function(ae,af){return"nv-group nv-series-"+af}).classed("hover",function(ae){return ae.hover}),ad.watchTransition(q,"scatter: groups").style("fill",function(ae,af){return e(ae,af)}).style("stroke",function(ae,af){return e(ae,af)}).style("stroke-opacity",1).style("fill-opacity",0.5);var V=ad.selectAll("path.nv-point").data(function(ae){return ae.values.map(function(af,ag){return[af,ag]}).filter(function(af,ag){return z(af[0],ag)})});V.enter().append("path").style("fill",function(ae){return ae.color}).style("stroke",function(ae){return ae.color}).attr("transform",function(ae){return"translate("+K(r(ae[0],ae[1]))+","+L(s(ae[0],ae[1]))+")"}).attr("d",a.utils.symbol().type(function(ae){return u(ae[0])}).size(function(ae){return p(t(ae[0],ae[1]))})),V.exit().remove(),ad.exit().selectAll("path.nv-point").watchTransition(q,"scatter exit").attr("transform",function(ae){return"translate("+l(r(ae[0],ae[1]))+","+n(s(ae[0],ae[1]))+")"}).remove(),V.each(function(ae){d3.select(this).classed("nv-point",!0).classed("nv-point-"+ae[1],!0).classed("nv-noninteractive",!y).classed("hover",!1)}),V.watchTransition(q,"scatter points").attr("transform",function(ae){return"translate("+l(r(ae[0],ae[1]))+","+n(s(ae[0],ae[1]))+")"}).attr("d",a.utils.symbol().type(function(ae){return u(ae[0])}).size(function(ae){return p(t(ae[0],ae[1]))})),clearTimeout(N),N=setTimeout(T,300),K=l.copy(),L=n.copy(),M=p.copy()}),q.renderEnd("scatter immediate"),J}var K,L,M,N,O={top:0,right:0,bottom:0,left:0},P=null,c=null,e=a.utils.defaultColor(),h=Math.floor(100000*Math.random()),j=null,l=d3.scale.linear(),n=d3.scale.linear(),p=d3.scale.linear(),r=function(R){return R.x},s=function(R){return R.y},t=function(R){return R.size||1},u=function(R){return R.shape||"circle"},v=[],w=[],x=[],y=!0,z=function(R){return !R.notActive},A=!1,B=0.1,C=!1,D=!0,E=!1,F=function(){return 25},G=null,H=null,I=null,b=null,d=null,f=null,g=!1,i=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),k=!0,m=250,o=!1,q=a.utils.renderWatch(i,m),Q=[16,256];return J.dispatch=i,J.options=a.utils.optionsFunc.bind(J),J._calls=new function(){this.clearHighlights=function(){return a.dom.write(function(){j.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(T,R,S){a.dom.write(function(){j.select(" .nv-series-"+T+" .nv-point-"+R).classed("hover",S)})}},i.on("elementMouseover.point",function(R){y&&J._calls.highlightPoint(R.seriesIndex,R.pointIndex,!0)}),i.on("elementMouseout.point",function(R){y&&J._calls.highlightPoint(R.seriesIndex,R.pointIndex,!1)}),J._options=Object.create({},{width:{get:function(){return P},set:function(R){P=R}},height:{get:function(){return c},set:function(R){c=R}},xScale:{get:function(){return l},set:function(R){l=R}},yScale:{get:function(){return n},set:function(R){n=R}},pointScale:{get:function(){return p},set:function(R){p=R}},xDomain:{get:function(){return G},set:function(R){G=R}},yDomain:{get:function(){return H},set:function(R){H=R}},pointDomain:{get:function(){return d},set:function(R){d=R}},xRange:{get:function(){return I},set:function(R){I=R}},yRange:{get:function(){return b},set:function(R){b=R}},pointRange:{get:function(){return f},set:function(R){f=R}},forceX:{get:function(){return v},set:function(R){v=R}},forceY:{get:function(){return w},set:function(R){w=R}},forcePoint:{get:function(){return x},set:function(R){x=R}},interactive:{get:function(){return y},set:function(R){y=R}},pointActive:{get:function(){return z},set:function(R){z=R}},padDataOuter:{get:function(){return B},set:function(R){B=R}},padData:{get:function(){return A},set:function(R){A=R}},clipEdge:{get:function(){return C},set:function(R){C=R}},clipVoronoi:{get:function(){return D},set:function(R){D=R}},clipRadius:{get:function(){return F},set:function(R){F=R}},showVoronoi:{get:function(){return E},set:function(R){E=R}},id:{get:function(){return h},set:function(R){h=R}},x:{get:function(){return r},set:function(R){r=d3.functor(R)}},y:{get:function(){return s},set:function(R){s=d3.functor(R)}},pointSize:{get:function(){return t},set:function(R){t=d3.functor(R)}},pointShape:{get:function(){return u},set:function(R){u=d3.functor(R)}},margin:{get:function(){return O},set:function(R){O.top=void 0!==R.top?R.top:O.top,O.right=void 0!==R.right?R.right:O.right,O.bottom=void 0!==R.bottom?R.bottom:O.bottom,O.left=void 0!==R.left?R.left:O.left}},duration:{get:function(){return m},set:function(R){m=R,q.reset(m)}},color:{get:function(){return e},set:function(R){e=a.utils.getColor(R)}},useVoronoi:{get:function(){return k},set:function(R){k=R,k===!1&&(D=!1)}}}),a.utils.initOptions(J),J},a.models.scatterChart=function(){function v(G){return m.reset(),m.models(w),n&&m.models(x),p&&m.models(y),h&&m.models(A),j&&m.models(B),G.each(function(N){c=d3.select(this),a.utils.initSVG(c);var H=a.utils.availableWidth(F,c,E),I=a.utils.availableHeight(b,c,E);if(v.update=function(){0===g?c.call(v):c.transition().duration(g).call(v)},v.container=this,s.setter(q(N),v.update).getter(o(N)).update(),s.disabled=N.map(function(S){return !!S.disabled}),!t){var J;t={};for(J in s){t[J]=s[J] instanceof Array?s[J].slice(0):s[J]}}if(!(N&&N.length&&N.filter(function(S){return S.values.length}).length)){return a.utils.noData(v,c),m.renderEnd("scatter immediate"),v}c.selectAll(".nv-noData").remove(),e=w.xScale(),f=w.yScale();var K=c.selectAll("g.nv-wrap.nv-scatterChart").data([N]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+w.id()),M=L.append("g"),O=K.select("g");if(M.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis"),M.append("g").attr("class","nv-scatterWrap"),M.append("g").attr("class","nv-regressionLinesWrap"),M.append("g").attr("class","nv-distWrap"),M.append("g").attr("class","nv-legendWrap"),r&&O.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),l){var P=H;z.width(P),K.select(".nv-legendWrap").datum(N).call(z),E.top!=z.height()&&(E.top=z.height(),I=a.utils.availableHeight(b,c,E)),K.select(".nv-legendWrap").attr("transform","translate(0,"+-E.top+")")}K.attr("transform","translate("+E.left+","+E.top+")"),w.width(H).height(I).color(N.map(function(S,T){return S.color=S.color||d(S,T),S.color}).filter(function(S,T){return !N[T].disabled})),K.select(".nv-scatterWrap").datum(N.filter(function(S){return !S.disabled})).call(w),K.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+w.id()+")");var Q=K.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(S){return S});Q.enter().append("g").attr("class","nv-regLines");var R=Q.selectAll(".nv-regLine").data(function(S){return[S]});R.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),R.filter(function(S){return S.intercept&&S.slope}).watchTransition(m,"scatterPlusLineChart: regline").attr("x1",e.range()[0]).attr("x2",e.range()[1]).attr("y1",function(S){return f(e.domain()[0]*S.slope+S.intercept)}).attr("y2",function(S){return f(e.domain()[1]*S.slope+S.intercept)}).style("stroke",function(T,U,S){return d(T,S)}).style("stroke-opacity",function(S){return S.disabled||"undefined"==typeof S.slope||"undefined"==typeof S.intercept?0:1}),n&&(x.scale(e)._ticks(a.utils.calcTicksX(H/100,N)).tickSize(-I,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")").call(x)),p&&(y.scale(f)._ticks(a.utils.calcTicksY(I/36,N)).tickSize(-H,0),O.select(".nv-y.nv-axis").call(y)),h&&(A.getData(w.x()).scale(e).width(H).color(N.map(function(S,T){return S.color||d(S,T)}).filter(function(S,T){return !N[T].disabled})),M.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),O.select(".nv-distributionX").attr("transform","translate(0,"+f.range()[0]+")").datum(N.filter(function(S){return !S.disabled})).call(A)),j&&(B.getData(w.y()).scale(f).width(I).color(N.map(function(S,T){return S.color||d(S,T)}).filter(function(S,T){return !N[T].disabled})),M.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),O.select(".nv-distributionY").attr("transform","translate("+(r?H:-B.size())+",0)").datum(N.filter(function(S){return !S.disabled})).call(B)),z.dispatch.on("stateChange",function(T){for(var S in T){s[S]=T[S]}u.stateChange(s),v.update()}),u.on("changeState",function(S){"undefined"!=typeof S.disabled&&(N.forEach(function(U,T){U.disabled=S.disabled[T]}),s.disabled=S.disabled),v.update()}),w.dispatch.on("elementMouseout.tooltip",function(S){C.hidden(!0),c.select(".nv-chart-"+w.id()+" .nv-series-"+S.seriesIndex+" .nv-distx-"+S.pointIndex).attr("y1",0),c.select(".nv-chart-"+w.id()+" .nv-series-"+S.seriesIndex+" .nv-disty-"+S.pointIndex).attr("x2",B.size())}),w.dispatch.on("elementMouseover.tooltip",function(S){c.select(".nv-series-"+S.seriesIndex+" .nv-distx-"+S.pointIndex).attr("y1",S.pos.top-I-E.top),c.select(".nv-series-"+S.seriesIndex+" .nv-disty-"+S.pointIndex).attr("x2",S.pos.left+A.size()-E.left),C.position(S.pos).data(S).hidden(!1)}),i=e.copy(),k=f.copy()}),m.renderEnd("scatter with line immediate"),v}var w=a.models.scatter(),x=a.models.axis(),y=a.models.axis(),z=a.models.legend(),A=a.models.distribution(),B=a.models.distribution(),C=a.models.tooltip(),E={top:30,right:20,bottom:50,left:75},F=null,b=null,c=null,d=a.utils.defaultColor(),e=w.xScale(),f=w.yScale(),h=!1,j=!1,l=!0,n=!0,p=!0,r=!1,s=a.utils.state(),t=null,u=d3.dispatch("stateChange","changeState","renderEnd"),D=null,g=250;w.xScale(e).yScale(f),x.orient("bottom").tickPadding(10),y.orient(r?"right":"left").tickPadding(10),A.axis("x"),B.axis("y"),C.headerFormatter(function(G,H){return x.tickFormat()(G,H)}).valueFormatter(function(G,H){return y.tickFormat()(G,H)});var i,k,m=a.utils.renderWatch(u,g),o=function(G){return function(){return{active:G.map(function(H){return !H.disabled})}}},q=function(G){return function(H){void 0!==H.active&&G.forEach(function(J,I){J.disabled=!H.active[I]})}};return v.dispatch=u,v.scatter=w,v.legend=z,v.xAxis=x,v.yAxis=y,v.distX=A,v.distY=B,v.tooltip=C,v.options=a.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return F},set:function(G){F=G}},height:{get:function(){return b},set:function(G){b=G}},container:{get:function(){return c},set:function(G){c=G}},showDistX:{get:function(){return h},set:function(G){h=G}},showDistY:{get:function(){return j},set:function(G){j=G}},showLegend:{get:function(){return l},set:function(G){l=G}},showXAxis:{get:function(){return n},set:function(G){n=G}},showYAxis:{get:function(){return p},set:function(G){p=G}},defaultState:{get:function(){return t},set:function(G){t=G}},noData:{get:function(){return D},set:function(G){D=G}},duration:{get:function(){return g},set:function(G){g=G}},tooltips:{get:function(){return C.enabled()},set:function(G){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),C.enabled(!!G)}},tooltipContent:{get:function(){return C.contentGenerator()},set:function(G){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),C.contentGenerator(G)}},tooltipXContent:{get:function(){return C.contentGenerator()},set:function(){a.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return C.contentGenerator()},set:function(){a.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return E},set:function(G){E.top=void 0!==G.top?G.top:E.top,E.right=void 0!==G.right?G.right:E.right,E.bottom=void 0!==G.bottom?G.bottom:E.bottom,E.left=void 0!==G.left?G.left:E.left}},rightAlignYAxis:{get:function(){return r},set:function(G){r=G,y.orient(G?"right":"left")}},color:{get:function(){return d},set:function(G){d=a.utils.getColor(G),z.color(d),A.color(d),B.color(d)}}}),a.utils.inheritOptions(v,w),a.utils.initOptions(v),v},a.models.sparkline=function(){function c(q){return q.each(function(x){var w=k-i.left-i.right,r=l-i.top-i.bottom;m=d3.select(this),a.utils.initSVG(m),o.domain(e||d3.extent(x,b)).range(g||[0,w]),p.domain(f||d3.extent(x,d)).range(h||[r,0]);var s=m.selectAll("g.nv-wrap.nv-sparkline").data([x]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");t.append("g"),s.select("g");s.attr("transform","translate("+i.left+","+i.top+")");var u=s.selectAll("path").data(function(y){return[y]});u.enter().append("path"),u.exit().remove(),u.style("stroke",function(y,z){return y.color||j(y,z)}).attr("d",d3.svg.line().x(function(y,z){return o(b(y,z))}).y(function(y,z){return p(d(y,z))}));var v=s.selectAll("circle.nv-point").data(function(z){function A(H){if(-1!=H){var G=z[H];return G.pointIndex=H,G}return null}var B=z.map(function(G,H){return d(G,H)}),C=A(B.lastIndexOf(p.domain()[1])),D=A(B.indexOf(p.domain()[0])),y=A(B.length-1);return[D,C,y].filter(function(F){return null!=F})});v.enter().append("circle"),v.exit().remove(),v.attr("cx",function(y){return o(b(y,y.pointIndex))}).attr("cy",function(y){return p(d(y,y.pointIndex))}).attr("r",2).attr("class",function(y){return b(y,y.pointIndex)==o.domain()[1]?"nv-point nv-currentValue":d(y,y.pointIndex)==p.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),c}var e,f,g,h,i={top:2,right:0,bottom:2,left:0},k=400,l=32,m=null,n=!0,o=d3.scale.linear(),p=d3.scale.linear(),b=function(q){return q.x},d=function(q){return q.y},j=a.utils.getColor(["#000"]);return c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return k},set:function(q){k=q}},height:{get:function(){return l},set:function(q){l=q}},xDomain:{get:function(){return e},set:function(q){e=q}},yDomain:{get:function(){return f},set:function(q){f=q}},xRange:{get:function(){return g},set:function(q){g=q}},yRange:{get:function(){return h},set:function(q){h=q}},xScale:{get:function(){return o},set:function(q){o=q}},yScale:{get:function(){return p},set:function(q){p=q}},animate:{get:function(){return n},set:function(q){n=q}},x:{get:function(){return b},set:function(q){b=d3.functor(q)}},y:{get:function(){return d},set:function(q){d=d3.functor(q)}},margin:{get:function(){return i},set:function(q){i.top=void 0!==q.top?q.top:i.top,i.right=void 0!==q.right?q.right:i.right,i.bottom=void 0!==q.bottom?q.bottom:i.bottom,i.left=void 0!==q.left?q.left:i.left}},color:{get:function(){return j},set:function(q){j=a.utils.getColor(q)}}}),a.utils.initOptions(c),c},a.models.sparklinePlus=function(){function c(q){return q.each(function(y){function A(){if(!m){var E=w.selectAll(".nv-hoverValue").data(l),F=E.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);E.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),E.attr("transform",function(I){return"translate("+e(g.x()(y[I],I))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(F.append("line").attr("x1",0).attr("y1",-h.top).attr("x2",0).attr("y2",r),F.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-h.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(n(g.x()(y[l[0]],l[0]))),F.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-h.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(o(g.y()(y[l[0]],l[0]))))}}function C(){function E(P,Q){for(var M=Math.abs(g.x()(P[0],0)-Q),N=0,O=0;O<P.length;O++){Math.abs(g.x()(P[O],O)-Q)<M&&(M=Math.abs(g.x()(P[O],O)-Q),N=O)}return N}if(!m){var F=d3.mouse(this)[0]-h.left;l=[E(y,Math.round(e.invert(F)))],A()}}var D=d3.select(this);a.utils.initSVG(D);var G=a.utils.availableWidth(i,D,h),r=a.utils.availableHeight(k,D,h);if(c.update=function(){D.call(c)},c.container=this,!y||!y.length){return a.utils.noData(c,D),c}D.selectAll(".nv-noData").remove();var s=g.y()(y[y.length-1],y.length-1);e=g.xScale(),f=g.yScale();var t=D.selectAll("g.nv-wrap.nv-sparklineplus").data([y]),u=t.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),v=u.append("g"),w=t.select("g");v.append("g").attr("class","nv-sparklineWrap"),v.append("g").attr("class","nv-valueWrap"),v.append("g").attr("class","nv-hoverArea"),t.attr("transform","translate("+h.left+","+h.top+")");var x=w.select(".nv-sparklineWrap");if(g.width(G).height(r),x.call(g),p){var z=w.select(".nv-valueWrap"),B=z.selectAll(".nv-currentValue").data([s]);B.enter().append("text").attr("class","nv-currentValue").attr("dx",d?-8:8).attr("dy",".9em").style("text-anchor",d?"end":"start"),B.attr("x",G+(d?h.right:0)).attr("y",b?function(E){return f(E)}:0).style("fill",g.color()(y[y.length-1],y.length-1)).text(o(s))}v.select(".nv-hoverArea").append("rect").on("mousemove",C).on("click",function(){m=!m}).on("mouseout",function(){l=[],A()}),w.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-h.left+","+-h.top+")"}).attr("width",G+h.left+h.right).attr("height",r+h.top)}),c}var e,f,g=a.models.sparkline(),h={top:15,right:100,bottom:10,left:50},i=null,k=null,l=[],m=!1,n=d3.format(",r"),o=d3.format(",.2f"),p=!0,b=!0,d=!1,j=null;return c.sparkline=g,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(q){i=q}},height:{get:function(){return k},set:function(q){k=q}},xTickFormat:{get:function(){return n},set:function(q){n=q}},yTickFormat:{get:function(){return o},set:function(q){o=q}},showLastValue:{get:function(){return p},set:function(q){p=q}},alignValue:{get:function(){return b},set:function(q){b=q}},rightAlignValue:{get:function(){return d},set:function(q){d=q}},noData:{get:function(){return j},set:function(q){j=q}},margin:{get:function(){return h},set:function(q){h.top=void 0!==q.top?q.top:h.top,h.right=void 0!==q.right?q.right:h.right,h.bottom=void 0!==q.bottom?q.bottom:h.bottom,h.left=void 0!==q.left?q.left:h.left}}}),a.utils.inheritOptions(c,g),a.utils.initOptions(c),c},a.models.stackedArea=function(){function b(v){return u.reset(),u.models(j),v.each(function(F){var w=g-e.left-e.right,A=i-e.top-e.bottom;o=d3.select(this),a.utils.initSVG(o),c=j.xScale(),d=j.yScale();var B=F;F.forEach(function(L,K){L.seriesIndex=K,L.values=L.values.map(function(N,M){return N.index=M,N.seriesIndex=K,N})});var C=F.filter(function(K){return !K.disabled});F=d3.layout.stack().order(t).offset(s).values(function(K){return K.values}).x(p).y(q).out(function(M,K,L){M.display={y:L,y0:K}})(C);var D=o.selectAll("g.nv-wrap.nv-stackedarea").data([F]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),G=E.append("defs"),H=E.append("g"),I=D.select("g");H.append("g").attr("class","nv-areaWrap"),H.append("g").attr("class","nv-scatterWrap"),D.attr("transform","translate("+e.left+","+e.top+")"),0==j.forceY().length&&j.forceY().push(0),j.width(w).height(A).x(p).y(function(K){return K.display.y+K.display.y0}).forceY([0]).color(F.map(function(K){return K.color||l(K,K.seriesIndex)}));var J=I.select(".nv-scatterWrap").datum(F);J.call(j),G.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect"),D.select("#nv-edge-clip-"+n+" rect").attr("width",w).attr("height",A),I.attr("clip-path",h?"url(#nv-edge-clip-"+n+")":"");var x=d3.svg.area().x(function(L,K){return c(p(L,K))}).y0(function(K){return d(K.display.y0)}).y1(function(K){return d(K.display.y+K.display.y0)}).interpolate(f),y=d3.svg.area().x(function(L,K){return c(p(L,K))}).y0(function(K){return d(K.display.y0)}).y1(function(K){return d(K.display.y0)}),z=I.select(".nv-areaWrap").selectAll("path.nv-area").data(function(K){return K});z.enter().append("path").attr("class",function(L,K){return"nv-area nv-area-"+K}).attr("d",function(K){return y(K.values,K.seriesIndex)}).on("mouseover",function(K){d3.select(this).classed("hover",!0),m.areaMouseover({point:K,series:K.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:K.seriesIndex})}).on("mouseout",function(K){d3.select(this).classed("hover",!1),m.areaMouseout({point:K,series:K.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:K.seriesIndex})}).on("click",function(K){d3.select(this).classed("hover",!1),m.areaClick({point:K,series:K.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:K.seriesIndex})}),z.exit().remove(),z.style("fill",function(K){return K.color||l(K,K.seriesIndex)}).style("stroke",function(K){return K.color||l(K,K.seriesIndex)}),z.watchTransition(u,"stackedArea path").attr("d",function(L,K){return x(L.values,K)}),j.dispatch.on("elementMouseover.area",function(K){I.select(".nv-chart-"+n+" .nv-area-"+K.seriesIndex).classed("hover",!0)}),j.dispatch.on("elementMouseout.area",function(K){I.select(".nv-chart-"+n+" .nv-area-"+K.seriesIndex).classed("hover",!1)}),b.d3_stackedOffset_stackPercent=function(N){var K,R,S,T=N.length,L=N[0].length,M=[];for(R=0;L>R;++R){for(K=0,S=0;K<B.length;K++){S+=q(B[K].values[R])}if(S){for(K=0;T>K;K++){N[K][R][1]/=S}}else{for(K=0;T>K;K++){N[K][R][1]=0}}}for(R=0;L>R;++R){M[R]=0}return M}}),u.renderEnd("stackedArea immediate"),b}var c,d,e={top:0,right:0,bottom:0,left:0},g=960,i=500,l=a.utils.defaultColor(),n=Math.floor(100000*Math.random()),o=null,p=function(v){return v.x},q=function(v){return v.y},r="stack",s="zero",t="default",f="linear",h=!1,j=a.models.scatter(),k=250,m=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");j.pointSize(2.2).pointDomain([2.2,2.2]);var u=a.utils.renderWatch(m,k);return b.dispatch=m,b.scatter=j,j.dispatch.on("elementClick",function(){m.elementClick.apply(this,arguments)}),j.dispatch.on("elementMouseover",function(){m.elementMouseover.apply(this,arguments)}),j.dispatch.on("elementMouseout",function(){m.elementMouseout.apply(this,arguments)}),b.interpolate=function(v){return arguments.length?(f=v,b):f},b.duration=function(v){return arguments.length?(k=v,u.reset(k),j.duration(k),b):k},b.dispatch=m,b.scatter=j,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(v){g=v}},height:{get:function(){return i},set:function(v){i=v}},clipEdge:{get:function(){return h},set:function(v){h=v}},offset:{get:function(){return s},set:function(v){s=v}},order:{get:function(){return t},set:function(v){t=v}},interpolate:{get:function(){return f},set:function(v){f=v}},x:{get:function(){return p},set:function(v){p=d3.functor(v)}},y:{get:function(){return q},set:function(v){q=d3.functor(v)}},margin:{get:function(){return e},set:function(v){e.top=void 0!==v.top?v.top:e.top,e.right=void 0!==v.right?v.right:e.right,e.bottom=void 0!==v.bottom?v.bottom:e.bottom,e.left=void 0!==v.left?v.left:e.left}},color:{get:function(){return l},set:function(v){l=a.utils.getColor(v)}},style:{get:function(){return r},set:function(v){switch(r=v){case"stack":b.offset("zero"),b.order("default");break;case"stream":b.offset("wiggle"),b.order("inside-out");break;case"stream-center":b.offset("silhouette"),b.order("inside-out");break;case"expand":b.offset("expand"),b.order("default");break;case"stack_percent":b.offset(b.d3_stackedOffset_stackPercent),b.order("default")}}},duration:{get:function(){return k},set:function(v){k=v,u.reset(k),j.duration(k)}}}),a.utils.inheritOptions(b,j),a.utils.initOptions(b),b},a.models.stackedAreaChart=function(){function r(K){return i.reset(),i.models(u),b&&i.models(v),d&&i.models(w),K.each(function(W){var M=d3.select(this),L=this;a.utils.initSVG(M);var N=a.utils.availableWidth(C,M,B),O=a.utils.availableHeight(D,M,B);if(r.update=function(){M.transition().duration(c).call(r)},r.container=this,j.setter(o(W),r.update).getter(m(W)).update(),j.disabled=W.map(function(Z){return !!Z.disabled}),!l){var P;l={};for(P in j){l[P]=j[P] instanceof Array?j[P].slice(0):j[P]}}if(!(W&&W.length&&W.filter(function(Z){return Z.values.length}).length)){return a.utils.noData(r,M),r}M.selectAll(".nv-noData").remove(),s=u.xScale(),t=u.yScale();var Q=M.selectAll("g.nv-wrap.nv-stackedAreaChart").data([W]),R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),S=Q.select("g");if(R.append("rect").style("opacity",0),R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-stackedWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),R.append("g").attr("class","nv-interactive"),S.select("rect").attr("width",N).attr("height",O),I){var T=F?N-H:N;x.width(T),S.select(".nv-legendWrap").datum(W).call(x),B.top!=x.height()&&(B.top=x.height(),O=a.utils.availableHeight(D,M,B)),S.select(".nv-legendWrap").attr("transform","translate("+(N-T)+","+-B.top+")")}if(F){var U=[{key:J.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=u.style(),style:"stack"},{key:J.stream||"Stream",metaKey:"Stream",disabled:"stream"!=u.style(),style:"stream"},{key:J.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=u.style(),style:"expand"},{key:J.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=u.style(),style:"stack_percent"}];H=G.length/3*260,U=U.filter(function(Z){return -1!==G.indexOf(Z.metaKey)}),y.width(H).color(["#444","#444","#444"]),S.select(".nv-controlsWrap").datum(U).call(y),B.top!=Math.max(y.height(),x.height())&&(B.top=Math.max(y.height(),x.height()),O=a.utils.availableHeight(D,M,B)),S.select(".nv-controlsWrap").attr("transform","translate(0,"+-B.top+")")}Q.attr("transform","translate("+B.left+","+B.top+")"),f&&S.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),h&&(z.width(N).height(O).margin({left:B.left,top:B.top}).svgContainer(M).xScale(s),Q.select(".nv-interactive").call(z)),u.width(N).height(O);var V=S.select(".nv-stackedWrap").datum(W);if(V.transition().call(u),b&&(v.scale(s)._ticks(a.utils.calcTicksX(N/100,W)).tickSize(-O,0),S.select(".nv-x.nv-axis").attr("transform","translate(0,"+O+")"),S.select(".nv-x.nv-axis").transition().duration(0).call(v)),d){var X;if(X="wiggle"===u.offset()?0:a.utils.calcTicksY(O/36,W),w.scale(t)._ticks(X).tickSize(-N,0),"expand"===u.style()||"stack_percent"===u.style()){var Y=w.tickFormat();e&&Y===q||(e=Y),w.tickFormat(q)}else{e&&(w.tickFormat(e),e=null)}S.select(".nv-y.nv-axis").transition().duration(0).call(w)}u.dispatch.on("areaClick.toggle",function(Z){W.forEach(1===W.filter(function(aa){return !aa.disabled}).length?function(aa){aa.disabled=!1}:function(ab,aa){ab.disabled=aa!=Z.seriesIndex}),j.disabled=W.map(function(aa){return !!aa.disabled}),p.stateChange(j),r.update()}),x.dispatch.on("stateChange",function(Z){for(var aa in Z){j[aa]=Z[aa]}p.stateChange(j),r.update()}),y.dispatch.on("legendClick",function(Z){Z.disabled&&(U=U.map(function(aa){return aa.disabled=!0,aa}),Z.disabled=!1,u.style(Z.style),j.style=u.style(),p.stateChange(j),r.update())}),z.dispatch.on("elementMousemove",function(aa){u.clearHighlights();var ab,ac,ad,ae=[];if(W.filter(function(aj,ai){return aj.seriesIndex=ai,!aj.disabled}).forEach(function(aj,ak){ac=a.interactiveBisect(aj.values,aa.pointXValue,r.x());var al=aj.values[ac],am=r.y()(al,ac);if(null!=am&&u.highlightPoint(ak,ac,!0),"undefined"!=typeof al){"undefined"==typeof ab&&(ab=al),"undefined"==typeof ad&&(ad=r.xScale()(r.x()(al,ac)));var ai="expand"==u.style()?al.display.y:r.y()(al,ac);ae.push({key:aj.key,value:ai,color:E(aj,aj.seriesIndex),stackedValue:al.display})}}),ae.reverse(),ae.length>2){var af=r.yScale().invert(aa.mouseY),ag=null;ae.forEach(function(al,ai){af=Math.abs(af);var aj=Math.abs(al.stackedValue.y0),ak=Math.abs(al.stackedValue.y);return af>=aj&&ak+aj>=af?void (ag=ai):void 0}),null!=ag&&(ae[ag].highlight=!0)}var ah=v.tickFormat()(r.x()(ab,ac)),Z=z.tooltip.valueFormatter();"expand"===u.style()||"stack_percent"===u.style()?(g||(g=Z),Z=d3.format(".1%")):g&&(Z=g,g=null),z.tooltip.position({left:ad+B.left,top:aa.mouseY+B.top}).chartContainer(L.parentNode).valueFormatter(Z).data({value:ah,series:ae})(),z.renderGuideLine(ad)}),z.dispatch.on("elementMouseout",function(){u.clearHighlights()}),p.on("changeState",function(Z){"undefined"!=typeof Z.disabled&&W.length===Z.disabled.length&&(W.forEach(function(ab,aa){ab.disabled=Z.disabled[aa]}),j.disabled=Z.disabled),"undefined"!=typeof Z.style&&(u.style(Z.style),k=Z.style),r.update()})}),i.renderEnd("stacked Area chart immediate"),r}var s,t,u=a.models.stackedArea(),v=a.models.axis(),w=a.models.axis(),x=a.models.legend(),y=a.models.legend(),z=a.interactiveGuideline(),A=a.models.tooltip(),B={top:30,right:25,bottom:50,left:60},C=null,D=null,E=a.utils.defaultColor(),F=!0,I=!0,b=!0,d=!0,f=!1,h=!1,j=a.utils.state(),l=null,n=null,p=d3.dispatch("stateChange","changeState","renderEnd"),H=250,G=["Stacked","Stream","Expanded"],J={},c=250;j.style=u.style(),v.orient("bottom").tickPadding(7),w.orient(f?"right":"left"),A.headerFormatter(function(K,L){return v.tickFormat()(K,L)}).valueFormatter(function(K,L){return w.tickFormat()(K,L)}),z.tooltip.headerFormatter(function(K,L){return v.tickFormat()(K,L)}).valueFormatter(function(K,L){return w.tickFormat()(K,L)});var e=null,g=null;y.updateState(!1);var i=a.utils.renderWatch(p),k=u.style(),m=function(K){return function(){return{active:K.map(function(L){return !L.disabled}),style:u.style()}}},o=function(K){return function(L){void 0!==L.style&&(k=L.style),void 0!==L.active&&K.forEach(function(N,M){N.disabled=!L.active[M]})}},q=d3.format("%");return u.dispatch.on("elementMouseover.tooltip",function(K){K.point.x=u.x()(K.point),K.point.y=u.y()(K.point),A.data(K).position(K.pos).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){A.hidden(!0)}),r.dispatch=p,r.stacked=u,r.legend=x,r.controls=y,r.xAxis=v,r.yAxis=w,r.interactiveLayer=z,r.tooltip=A,r.dispatch=p,r.options=a.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return C},set:function(K){C=K}},height:{get:function(){return D},set:function(K){D=K}},showLegend:{get:function(){return I},set:function(K){I=K}},showXAxis:{get:function(){return b},set:function(K){b=K}},showYAxis:{get:function(){return d},set:function(K){d=K}},defaultState:{get:function(){return l},set:function(K){l=K}},noData:{get:function(){return n},set:function(K){n=K}},showControls:{get:function(){return F},set:function(K){F=K}},controlLabels:{get:function(){return J},set:function(K){J=K}},controlOptions:{get:function(){return G},set:function(K){G=K}},tooltips:{get:function(){return A.enabled()},set:function(K){a.deprecated("tooltips","use chart.tooltip.enabled() instead"),A.enabled(!!K)}},tooltipContent:{get:function(){return A.contentGenerator()},set:function(K){a.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),A.contentGenerator(K)}},margin:{get:function(){return B},set:function(K){B.top=void 0!==K.top?K.top:B.top,B.right=void 0!==K.right?K.right:B.right,B.bottom=void 0!==K.bottom?K.bottom:B.bottom,B.left=void 0!==K.left?K.left:B.left}},duration:{get:function(){return c},set:function(K){c=K,i.reset(c),u.duration(c),v.duration(c),w.duration(c)}},color:{get:function(){return E},set:function(K){E=a.utils.getColor(K),x.color(E),u.color(E)}},rightAlignYAxis:{get:function(){return f},set:function(K){f=K,w.orient(f?"right":"left")}},useInteractiveGuideline:{get:function(){return h},set:function(K){h=!!K,r.interactive(!K),r.useVoronoi(!K),u.scatter.interactive(!K)}}}),a.utils.inheritOptions(r,u),a.utils.initOptions(r),r},a.models.sunburst=function(){function b(u){return t.reset(),u.each(function(A){function v(F){F.x0=F.x,F.dx0=F.dx}function w(H){var I=d3.interpolate(h.domain(),[H.x,H.x+H.dx]),F=d3.interpolate(j.domain(),[H.y,1]),G=d3.interpolate(j.range(),[H.y?20:0,B]);return function(K,J){return J?function(){return m(K)}:function(L){return h.domain(I(L)),j.domain(F(L)).range(G(L)),m(K)}}}r=d3.select(this);var x,y=a.utils.availableWidth(k,r,i),z=a.utils.availableHeight(n,r,i),B=Math.min(y,z)/2;a.utils.initSVG(r);var C=r.selectAll(".nv-wrap.nv-sunburst").data(A),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+q),E=D.selectAll("nv-sunburst");C.attr("transform","translate("+y/2+","+z/2+")"),r.on("click",function(F,G){f.chartClick({data:F,index:G,pos:d3.event,id:q})}),j.range([0,B]),c=c||A,g=A[0],l.value(p[o]||p.count),x=E.data(l.nodes).enter().append("path").attr("d",m).style("fill",function(F){return s((F.children?F:F.parent).name)}).style("stroke","#FFF").on("click",function(F){e!==c&&c!==F&&(e=c),c=F,x.transition().duration(d).attrTween("d",w(F))}).each(v).on("dblclick",function(F){e.parent==F&&x.transition().duration(d).attrTween("d",w(g))}).each(v).on("mouseover",function(F){d3.select(this).classed("hover",!0).style("opacity",0.8),f.elementMouseover({data:F,color:d3.select(this).style("fill")})}).on("mouseout",function(F){d3.select(this).classed("hover",!1).style("opacity",1),f.elementMouseout({data:F})}).on("mousemove",function(F){f.elementMousemove({data:F})})}),t.renderEnd("sunburst immediate"),b}var c,e,g,i={top:0,right:0,bottom:0,left:0},k=null,n=null,o="count",p={count:function(){return 1},size:function(u){return u.size}},q=Math.floor(10000*Math.random()),r=null,s=a.utils.defaultColor(),d=500,f=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),h=d3.scale.linear().range([0,2*Math.PI]),j=d3.scale.sqrt(),l=d3.layout.partition().sort(null).value(function(){return 1}),m=d3.svg.arc().startAngle(function(u){return Math.max(0,Math.min(2*Math.PI,h(u.x)))}).endAngle(function(u){return Math.max(0,Math.min(2*Math.PI,h(u.x+u.dx)))}).innerRadius(function(u){return Math.max(0,j(u.y))}).outerRadius(function(u){return Math.max(0,j(u.y+u.dy))}),t=a.utils.renderWatch(f);return b.dispatch=f,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(u){k=u}},height:{get:function(){return n},set:function(u){n=u}},mode:{get:function(){return o},set:function(u){o=u}},id:{get:function(){return q},set:function(u){q=u}},duration:{get:function(){return d},set:function(u){d=u}},margin:{get:function(){return i},set:function(u){i.top=void 0!=u.top?u.top:i.top,i.right=void 0!=u.right?u.right:i.right,i.bottom=void 0!=u.bottom?u.bottom:i.bottom,i.left=void 0!=u.left?u.left:i.left}},color:{get:function(){return s},set:function(u){s=a.utils.getColor(u)}}}),a.utils.initOptions(b),b},a.models.sunburstChart=function(){function h(n){return g.reset(),g.models(i),n.each(function(o){var v=d3.select(this);a.utils.initSVG(v);var p=a.utils.availableWidth(l,v,k),q=a.utils.availableHeight(m,v,k);if(h.update=function(){0===e?v.call(h):v.transition().duration(e).call(h)},h.container=this,!o||!o.length){return a.utils.noData(h,v),h}v.selectAll(".nv-noData").remove();var r=v.selectAll("g.nv-wrap.nv-sunburstChart").data(o),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),u=r.select("g");s.append("g").attr("class","nv-sunburstWrap"),r.attr("transform","translate("+k.left+","+k.top+")"),i.width(p).height(q);var t=u.select(".nv-sunburstWrap").datum(o);d3.transition(t).call(i)}),g.renderEnd("sunburstChart immediate"),h}var i=a.models.sunburst(),j=a.models.tooltip(),k={top:30,right:20,bottom:20,left:20},l=null,m=null,b=a.utils.defaultColor(),c=(Math.round(100000*Math.random()),null),d=null,e=250,f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),g=a.utils.renderWatch(f);return j.headerEnabled(!1).duration(0).valueFormatter(function(n){return n}),i.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:n.data.name,value:n.data.size,color:n.color},j.data(n).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(){j.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(){j.position({top:d3.event.pageY,left:d3.event.pageX})()}),h.dispatch=f,h.sunburst=i,h.tooltip=j,h.options=a.utils.optionsFunc.bind(h),h._options=Object.create({},{noData:{get:function(){return d},set:function(n){d=n}},defaultState:{get:function(){return c},set:function(n){c=n}},color:{get:function(){return b},set:function(n){b=n,i.color(b)}},duration:{get:function(){return e},set:function(n){e=n,g.reset(e),i.duration(e)}},margin:{get:function(){return k},set:function(n){k.top=void 0!==n.top?n.top:k.top,k.right=void 0!==n.right?n.right:k.right,k.bottom=void 0!==n.bottom?n.bottom:k.bottom,k.left=void 0!==n.left?n.left:k.left}}}),a.utils.inheritOptions(h,i),a.utils.initOptions(h),h},a.version="1.8.1"}();